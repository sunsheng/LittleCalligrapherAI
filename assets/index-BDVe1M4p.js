(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var tc={exports:{}},Zr={},nc={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=Symbol.for("react.element"),rh=Symbol.for("react.portal"),ih=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),lh=Symbol.for("react.profiler"),uh=Symbol.for("react.provider"),ah=Symbol.for("react.context"),dh=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),fh=Symbol.for("react.memo"),ph=Symbol.for("react.lazy"),uu=Symbol.iterator;function hh(t){return t===null||typeof t!="object"?null:(t=uu&&t[uu]||t["@@iterator"],typeof t=="function"?t:null)}var oc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rc=Object.assign,ic={};function Vn(t,e,n){this.props=t,this.context=e,this.refs=ic,this.updater=n||oc}Vn.prototype.isReactComponent={};Vn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sc(){}sc.prototype=Vn.prototype;function tl(t,e,n){this.props=t,this.context=e,this.refs=ic,this.updater=n||oc}var nl=tl.prototype=new sc;nl.constructor=tl;rc(nl,Vn.prototype);nl.isPureReactComponent=!0;var au=Array.isArray,lc=Object.prototype.hasOwnProperty,ol={current:null},uc={key:!0,ref:!0,__self:!0,__source:!0};function ac(t,e,n){var o,r={},i=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)lc.call(e,o)&&!uc.hasOwnProperty(o)&&(r[o]=e[o]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var d=Array(a),c=0;c<a;c++)d[c]=arguments[c+2];r.children=d}if(t&&t.defaultProps)for(o in a=t.defaultProps,a)r[o]===void 0&&(r[o]=a[o]);return{$$typeof:xo,type:t,key:i,ref:l,props:r,_owner:ol.current}}function mh(t,e){return{$$typeof:xo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rl(t){return typeof t=="object"&&t!==null&&t.$$typeof===xo}function gh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var du=/\/+/g;function _i(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gh(""+t.key):e.toString(36)}function nr(t,e,n,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case xo:case rh:l=!0}}if(l)return l=t,r=r(l),t=o===""?"."+_i(l,0):o,au(r)?(n="",t!=null&&(n=t.replace(du,"$&/")+"/"),nr(r,e,n,"",function(c){return c})):r!=null&&(rl(r)&&(r=mh(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(du,"$&/")+"/")+t)),e.push(r)),1;if(l=0,o=o===""?".":o+":",au(t))for(var a=0;a<t.length;a++){i=t[a];var d=o+_i(i,a);l+=nr(i,e,n,d,r)}else if(d=hh(t),typeof d=="function")for(t=d.call(t),a=0;!(i=t.next()).done;)i=i.value,d=o+_i(i,a++),l+=nr(i,e,n,d,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Ho(t,e,n){if(t==null)return t;var o=[],r=0;return nr(t,o,"","",function(i){return e.call(n,i,r++)}),o}function yh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ye={current:null},or={transition:null},vh={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:or,ReactCurrentOwner:ol};function dc(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Ho,forEach:function(t,e,n){Ho(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ho(t,function(){e++}),e},toArray:function(t){return Ho(t,function(e){return e})||[]},only:function(t){if(!rl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=Vn;F.Fragment=ih;F.Profiler=lh;F.PureComponent=tl;F.StrictMode=sh;F.Suspense=ch;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vh;F.act=dc;F.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=rc({},t.props),r=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=ol.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(d in e)lc.call(e,d)&&!uc.hasOwnProperty(d)&&(o[d]=e[d]===void 0&&a!==void 0?a[d]:e[d])}var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){a=Array(d);for(var c=0;c<d;c++)a[c]=arguments[c+2];o.children=a}return{$$typeof:xo,type:t.type,key:r,ref:i,props:o,_owner:l}};F.createContext=function(t){return t={$$typeof:ah,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uh,_context:t},t.Consumer=t};F.createElement=ac;F.createFactory=function(t){var e=ac.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:dh,render:t}};F.isValidElement=rl;F.lazy=function(t){return{$$typeof:ph,_payload:{_status:-1,_result:t},_init:yh}};F.memo=function(t,e){return{$$typeof:fh,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=or.transition;or.transition={};try{t()}finally{or.transition=e}};F.unstable_act=dc;F.useCallback=function(t,e){return ye.current.useCallback(t,e)};F.useContext=function(t){return ye.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return ye.current.useDeferredValue(t)};F.useEffect=function(t,e){return ye.current.useEffect(t,e)};F.useId=function(){return ye.current.useId()};F.useImperativeHandle=function(t,e,n){return ye.current.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return ye.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return ye.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return ye.current.useMemo(t,e)};F.useReducer=function(t,e,n){return ye.current.useReducer(t,e,n)};F.useRef=function(t){return ye.current.useRef(t)};F.useState=function(t){return ye.current.useState(t)};F.useSyncExternalStore=function(t,e,n){return ye.current.useSyncExternalStore(t,e,n)};F.useTransition=function(){return ye.current.useTransition()};F.version="18.3.1";nc.exports=F;var Ae=nc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=Ae,Ch=Symbol.for("react.element"),Sh=Symbol.for("react.fragment"),Th=Object.prototype.hasOwnProperty,Eh=_h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ih={key:!0,ref:!0,__self:!0,__source:!0};function cc(t,e,n){var o,r={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)Th.call(e,o)&&!Ih.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:Ch,type:t,key:i,ref:l,props:r,_owner:Eh.current}}Zr.Fragment=Sh;Zr.jsx=cc;Zr.jsxs=cc;tc.exports=Zr;var E=tc.exports,fc={exports:{}},Me={},pc={exports:{}},hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,L){var U=D.length;D.push(L);e:for(;0<U;){var b=U-1>>>1,oe=D[b];if(0<r(oe,L))D[b]=L,D[U]=oe,U=b;else break e}}function n(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var L=D[0],U=D.pop();if(U!==L){D[0]=U;e:for(var b=0,oe=D.length,Vo=oe>>>1;b<Vo;){var Gt=2*(b+1)-1,vi=D[Gt],Ht=Gt+1,Go=D[Ht];if(0>r(vi,U))Ht<oe&&0>r(Go,vi)?(D[b]=Go,D[Ht]=U,b=Ht):(D[b]=vi,D[Gt]=U,b=Gt);else if(Ht<oe&&0>r(Go,U))D[b]=Go,D[Ht]=U,b=Ht;else break e}}return L}function r(D,L){var U=D.sortIndex-L.sortIndex;return U!==0?U:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var d=[],c=[],f=1,p=null,h=3,m=!1,_=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var L=n(c);L!==null;){if(L.callback===null)o(c);else if(L.startTime<=D)o(c),L.sortIndex=L.expirationTime,e(d,L);else break;L=n(c)}}function S(D){if(C=!1,v(D),!_)if(n(d)!==null)_=!0,Ie(T);else{var L=n(c);L!==null&&Vt(S,L.startTime-D)}}function T(D,L){_=!1,C&&(C=!1,y(R),R=-1),m=!0;var U=h;try{for(v(L),p=n(d);p!==null&&(!(p.expirationTime>L)||D&&!H());){var b=p.callback;if(typeof b=="function"){p.callback=null,h=p.priorityLevel;var oe=b(p.expirationTime<=L);L=t.unstable_now(),typeof oe=="function"?p.callback=oe:p===n(d)&&o(d),v(L)}else o(d);p=n(d)}if(p!==null)var Vo=!0;else{var Gt=n(c);Gt!==null&&Vt(S,Gt.startTime-L),Vo=!1}return Vo}finally{p=null,h=U,m=!1}}var I=!1,A=null,R=-1,x=5,N=-1;function H(){return!(t.unstable_now()-N<x)}function B(){if(A!==null){var D=t.unstable_now();N=D;var L=!0;try{L=A(!0,D)}finally{L?ae():(I=!1,A=null)}}else I=!1}var ae;if(typeof g=="function")ae=function(){g(B)};else if(typeof MessageChannel<"u"){var $n=new MessageChannel,Fo=$n.port2;$n.port1.onmessage=B,ae=function(){Fo.postMessage(null)}}else ae=function(){P(B,0)};function Ie(D){A=D,I||(I=!0,ae())}function Vt(D,L){R=P(function(){D(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,Ie(T))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var U=h;h=L;try{return D()}finally{h=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=h;h=D;try{return L()}finally{h=U}},t.unstable_scheduleCallback=function(D,L,U){var b=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?b+U:b):U=b,D){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=U+oe,D={id:f++,callback:L,priorityLevel:D,startTime:U,expirationTime:oe,sortIndex:-1},U>b?(D.sortIndex=U,e(c,D),n(d)===null&&D===n(c)&&(C?(y(R),R=-1):C=!0,Vt(S,U-b))):(D.sortIndex=oe,e(d,D),_||m||(_=!0,Ie(T))),D},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(D){var L=h;return function(){var U=h;h=L;try{return D.apply(this,arguments)}finally{h=U}}}})(hc);pc.exports=hc;var wh=pc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=Ae,Re=wh;function w(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mc=new Set,ho={};function nn(t,e){Rn(t,e),Rn(t+"Capture",e)}function Rn(t,e){for(ho[t]=e,t=0;t<e.length;t++)mc.add(e[t])}var it=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bi=Object.prototype.hasOwnProperty,Ph=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cu={},fu={};function kh(t){return bi.call(fu,t)?!0:bi.call(cu,t)?!1:Ph.test(t)?fu[t]=!0:(cu[t]=!0,!1)}function Rh(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Mh(t,e,n,o){if(e===null||typeof e>"u"||Rh(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ve(t,e,n,o,r,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ue[t]=new ve(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ue[e]=new ve(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ue[t]=new ve(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ue[t]=new ve(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ue[t]=new ve(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ue[t]=new ve(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ue[t]=new ve(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ue[t]=new ve(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ue[t]=new ve(t,5,!1,t.toLowerCase(),null,!1,!1)});var il=/[\-:]([a-z])/g;function sl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(il,sl);ue[e]=new ve(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(il,sl);ue[e]=new ve(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(il,sl);ue[e]=new ve(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ue[t]=new ve(t,1,!1,t.toLowerCase(),null,!1,!1)});ue.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ue[t]=new ve(t,1,!1,t.toLowerCase(),null,!0,!0)});function ll(t,e,n,o){var r=ue.hasOwnProperty(e)?ue[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Mh(e,n,r,o)&&(n=null),o||r===null?kh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,o=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var dt=Ah.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qo=Symbol.for("react.element"),ln=Symbol.for("react.portal"),un=Symbol.for("react.fragment"),ul=Symbol.for("react.strict_mode"),ji=Symbol.for("react.profiler"),gc=Symbol.for("react.provider"),yc=Symbol.for("react.context"),al=Symbol.for("react.forward_ref"),es=Symbol.for("react.suspense"),ts=Symbol.for("react.suspense_list"),dl=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),vc=Symbol.for("react.offscreen"),pu=Symbol.iterator;function Jn(t){return t===null||typeof t!="object"?null:(t=pu&&t[pu]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,Ci;function jn(t){if(Ci===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ci=e&&e[1]||""}return`
`+Ci+t}var Si=!1;function Ti(t,e){if(!t||Si)return"";Si=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var o=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){o=c}t.call(e.prototype)}else{try{throw Error()}catch(c){o=c}t()}}catch(c){if(c&&o&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,a=i.length-1;1<=l&&0<=a&&r[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(r[l]!==i[a]){if(l!==1||a!==1)do if(l--,a--,0>a||r[l]!==i[a]){var d=`
`+r[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=a);break}}}finally{Si=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?jn(t):""}function xh(t){switch(t.tag){case 5:return jn(t.type);case 16:return jn("Lazy");case 13:return jn("Suspense");case 19:return jn("SuspenseList");case 0:case 2:case 15:return t=Ti(t.type,!1),t;case 11:return t=Ti(t.type.render,!1),t;case 1:return t=Ti(t.type,!0),t;default:return""}}function ns(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case un:return"Fragment";case ln:return"Portal";case ji:return"Profiler";case ul:return"StrictMode";case es:return"Suspense";case ts:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yc:return(t.displayName||"Context")+".Consumer";case gc:return(t._context.displayName||"Context")+".Provider";case al:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dl:return e=t.displayName||null,e!==null?e:ns(t.type)||"Memo";case ht:e=t._payload,t=t._init;try{return ns(t(e))}catch{}}return null}function Nh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ns(e);case 8:return e===ul?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _c(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dh(t){var e=_c(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bo(t){t._valueTracker||(t._valueTracker=Dh(t))}function Cc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=_c(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function os(t,e){var n=e.checked;return X({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hu(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=xt(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sc(t,e){e=e.checked,e!=null&&ll(t,"checked",e,!1)}function rs(t,e){Sc(t,e);var n=xt(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?is(t,e.type,n):e.hasOwnProperty("defaultValue")&&is(t,e.type,xt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function is(t,e,n){(e!=="number"||vr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var eo=Array.isArray;function Cn(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+xt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function ss(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(w(91));return X({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(w(92));if(eo(n)){if(1<n.length)throw Error(w(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xt(n)}}function Tc(t,e){var n=xt(e.value),o=xt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function yu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ec(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ls(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ec(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zo,Ic=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zo=zo||document.createElement("div"),zo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lh=["Webkit","ms","Moz","O"];Object.keys(oo).forEach(function(t){Lh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oo[e]=oo[t]})});function wc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||oo.hasOwnProperty(t)&&oo[t]?(""+e).trim():e+"px"}function Ac(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=wc(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,r):t[n]=r}}var Uh=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function us(t,e){if(e){if(Uh[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(w(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(w(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(w(61))}if(e.style!=null&&typeof e.style!="object")throw Error(w(62))}}function as(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ds=null;function cl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cs=null,Sn=null,Tn=null;function vu(t){if(t=Lo(t)){if(typeof cs!="function")throw Error(w(280));var e=t.stateNode;e&&(e=ni(e),cs(t.stateNode,t.type,e))}}function Pc(t){Sn?Tn?Tn.push(t):Tn=[t]:Sn=t}function kc(){if(Sn){var t=Sn,e=Tn;if(Tn=Sn=null,vu(t),e)for(t=0;t<e.length;t++)vu(e[t])}}function Rc(t,e){return t(e)}function Mc(){}var Ei=!1;function xc(t,e,n){if(Ei)return t(e,n);Ei=!0;try{return Rc(t,e,n)}finally{Ei=!1,(Sn!==null||Tn!==null)&&(Mc(),kc())}}function go(t,e){var n=t.stateNode;if(n===null)return null;var o=ni(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(w(231,e,typeof n));return n}var fs=!1;if(it)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){fs=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{fs=!1}function Fh(t,e,n,o,r,i,l,a,d){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var ro=!1,_r=null,Cr=!1,ps=null,Vh={onError:function(t){ro=!0,_r=t}};function Gh(t,e,n,o,r,i,l,a,d){ro=!1,_r=null,Fh.apply(Vh,arguments)}function Hh(t,e,n,o,r,i,l,a,d){if(Gh.apply(this,arguments),ro){if(ro){var c=_r;ro=!1,_r=null}else throw Error(w(198));Cr||(Cr=!0,ps=c)}}function on(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Nc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _u(t){if(on(t)!==t)throw Error(w(188))}function qh(t){var e=t.alternate;if(!e){if(e=on(t),e===null)throw Error(w(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return _u(r),t;if(i===o)return _u(r),e;i=i.sibling}throw Error(w(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,a=r.child;a;){if(a===n){l=!0,n=r,o=i;break}if(a===o){l=!0,o=r,n=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===n){l=!0,n=i,o=r;break}if(a===o){l=!0,o=i,n=r;break}a=a.sibling}if(!l)throw Error(w(189))}}if(n.alternate!==o)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?t:e}function Dc(t){return t=qh(t),t!==null?Lc(t):null}function Lc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lc(t);if(e!==null)return e;t=t.sibling}return null}var Uc=Re.unstable_scheduleCallback,Cu=Re.unstable_cancelCallback,Bh=Re.unstable_shouldYield,zh=Re.unstable_requestPaint,j=Re.unstable_now,$h=Re.unstable_getCurrentPriorityLevel,fl=Re.unstable_ImmediatePriority,Fc=Re.unstable_UserBlockingPriority,Sr=Re.unstable_NormalPriority,Jh=Re.unstable_LowPriority,Vc=Re.unstable_IdlePriority,br=null,Ze=null;function Wh(t){if(Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(br,t,void 0,(t.current.flags&128)===128)}catch{}}var $e=Math.clz32?Math.clz32:Kh,Oh=Math.log,Yh=Math.LN2;function Kh(t){return t>>>=0,t===0?32:31-(Oh(t)/Yh|0)|0}var $o=64,Jo=4194304;function to(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tr(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,r=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var a=l&~r;a!==0?o=to(a):(i&=l,i!==0&&(o=to(i)))}else l=n&~r,l!==0?o=to(l):i!==0&&(o=to(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-$e(e),r=1<<n,o|=t[n],e&=~r;return o}function Qh(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xh(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-$e(i),a=1<<l,d=r[l];d===-1?(!(a&n)||a&o)&&(r[l]=Qh(a,e)):d<=e&&(t.expiredLanes|=a),i&=~a}}function hs(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gc(){var t=$o;return $o<<=1,!($o&4194240)&&($o=64),t}function Ii(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function No(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$e(e),t[e]=n}function Zh(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-$e(n),i=1<<r;e[r]=0,o[r]=-1,t[r]=-1,n&=~i}}function pl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-$e(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}var q=0;function Hc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qc,hl,Bc,zc,$c,ms=!1,Wo=[],Et=null,It=null,wt=null,yo=new Map,vo=new Map,gt=[],bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Su(t,e){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":yo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(e.pointerId)}}function On(t,e,n,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Lo(e),e!==null&&hl(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function jh(t,e,n,o,r){switch(e){case"focusin":return Et=On(Et,t,e,n,o,r),!0;case"dragenter":return It=On(It,t,e,n,o,r),!0;case"mouseover":return wt=On(wt,t,e,n,o,r),!0;case"pointerover":var i=r.pointerId;return yo.set(i,On(yo.get(i)||null,t,e,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,vo.set(i,On(vo.get(i)||null,t,e,n,o,r)),!0}return!1}function Jc(t){var e=zt(t.target);if(e!==null){var n=on(e);if(n!==null){if(e=n.tag,e===13){if(e=Nc(n),e!==null){t.blockedOn=e,$c(t.priority,function(){Bc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gs(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);ds=o,n.target.dispatchEvent(o),ds=null}else return e=Lo(n),e!==null&&hl(e),t.blockedOn=n,!1;e.shift()}return!0}function Tu(t,e,n){rr(t)&&n.delete(e)}function em(){ms=!1,Et!==null&&rr(Et)&&(Et=null),It!==null&&rr(It)&&(It=null),wt!==null&&rr(wt)&&(wt=null),yo.forEach(Tu),vo.forEach(Tu)}function Yn(t,e){t.blockedOn===e&&(t.blockedOn=null,ms||(ms=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,em)))}function _o(t){function e(r){return Yn(r,t)}if(0<Wo.length){Yn(Wo[0],t);for(var n=1;n<Wo.length;n++){var o=Wo[n];o.blockedOn===t&&(o.blockedOn=null)}}for(Et!==null&&Yn(Et,t),It!==null&&Yn(It,t),wt!==null&&Yn(wt,t),yo.forEach(e),vo.forEach(e),n=0;n<gt.length;n++)o=gt[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<gt.length&&(n=gt[0],n.blockedOn===null);)Jc(n),n.blockedOn===null&&gt.shift()}var En=dt.ReactCurrentBatchConfig,Er=!0;function tm(t,e,n,o){var r=q,i=En.transition;En.transition=null;try{q=1,ml(t,e,n,o)}finally{q=r,En.transition=i}}function nm(t,e,n,o){var r=q,i=En.transition;En.transition=null;try{q=4,ml(t,e,n,o)}finally{q=r,En.transition=i}}function ml(t,e,n,o){if(Er){var r=gs(t,e,n,o);if(r===null)Li(t,e,o,Ir,n),Su(t,o);else if(jh(r,t,e,n,o))o.stopPropagation();else if(Su(t,o),e&4&&-1<bh.indexOf(t)){for(;r!==null;){var i=Lo(r);if(i!==null&&qc(i),i=gs(t,e,n,o),i===null&&Li(t,e,o,Ir,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Li(t,e,o,null,n)}}var Ir=null;function gs(t,e,n,o){if(Ir=null,t=cl(o),t=zt(t),t!==null)if(e=on(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Nc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ir=t,null}function Wc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($h()){case fl:return 1;case Fc:return 4;case Sr:case Jh:return 16;case Vc:return 536870912;default:return 16}default:return 16}}var vt=null,gl=null,ir=null;function Oc(){if(ir)return ir;var t,e=gl,n=e.length,o,r="value"in vt?vt.value:vt.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(o=1;o<=l&&e[n-o]===r[i-o];o++);return ir=r.slice(t,1<o?1-o:void 0)}function sr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oo(){return!0}function Eu(){return!1}function xe(t){function e(n,o,r,i,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oo:Eu,this.isPropagationStopped=Eu,this}return X(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),e}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=xe(Gn),Do=X({},Gn,{view:0,detail:0}),om=xe(Do),wi,Ai,Kn,jr=X({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(wi=t.screenX-Kn.screenX,Ai=t.screenY-Kn.screenY):Ai=wi=0,Kn=t),wi)},movementY:function(t){return"movementY"in t?t.movementY:Ai}}),Iu=xe(jr),rm=X({},jr,{dataTransfer:0}),im=xe(rm),sm=X({},Do,{relatedTarget:0}),Pi=xe(sm),lm=X({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),um=xe(lm),am=X({},Gn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dm=xe(am),cm=X({},Gn,{data:0}),wu=xe(cm),fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hm[t])?!!e[t]:!1}function vl(){return mm}var gm=X({},Do,{key:function(t){if(t.key){var e=fm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vl,charCode:function(t){return t.type==="keypress"?sr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ym=xe(gm),vm=X({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=xe(vm),_m=X({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vl}),Cm=xe(_m),Sm=X({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tm=xe(Sm),Em=X({},jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Im=xe(Em),wm=[9,13,27,32],_l=it&&"CompositionEvent"in window,io=null;it&&"documentMode"in document&&(io=document.documentMode);var Am=it&&"TextEvent"in window&&!io,Yc=it&&(!_l||io&&8<io&&11>=io),Pu=" ",ku=!1;function Kc(t,e){switch(t){case"keyup":return wm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var an=!1;function Pm(t,e){switch(t){case"compositionend":return Qc(e);case"keypress":return e.which!==32?null:(ku=!0,Pu);case"textInput":return t=e.data,t===Pu&&ku?null:t;default:return null}}function km(t,e){if(an)return t==="compositionend"||!_l&&Kc(t,e)?(t=Oc(),ir=gl=vt=null,an=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yc&&e.locale!=="ko"?null:e.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Rm[t.type]:e==="textarea"}function Xc(t,e,n,o){Pc(o),e=wr(e,"onChange"),0<e.length&&(n=new yl("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var so=null,Co=null;function Mm(t){uf(t,0)}function ei(t){var e=fn(t);if(Cc(e))return t}function xm(t,e){if(t==="change")return e}var Zc=!1;if(it){var ki;if(it){var Ri="oninput"in document;if(!Ri){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),Ri=typeof Mu.oninput=="function"}ki=Ri}else ki=!1;Zc=ki&&(!document.documentMode||9<document.documentMode)}function xu(){so&&(so.detachEvent("onpropertychange",bc),Co=so=null)}function bc(t){if(t.propertyName==="value"&&ei(Co)){var e=[];Xc(e,Co,t,cl(t)),xc(Mm,e)}}function Nm(t,e,n){t==="focusin"?(xu(),so=e,Co=n,so.attachEvent("onpropertychange",bc)):t==="focusout"&&xu()}function Dm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ei(Co)}function Lm(t,e){if(t==="click")return ei(e)}function Um(t,e){if(t==="input"||t==="change")return ei(e)}function Fm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var We=typeof Object.is=="function"?Object.is:Fm;function So(t,e){if(We(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!bi.call(e,r)||!We(t[r],e[r]))return!1}return!0}function Nu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Du(t,e){var n=Nu(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nu(n)}}function jc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ef(){for(var t=window,e=vr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vr(t.document)}return e}function Cl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Vm(t){var e=ef(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jc(n.ownerDocument.documentElement,n)){if(o!==null&&Cl(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!t.extend&&i>o&&(r=o,o=i,i=r),r=Du(n,i);var l=Du(n,o);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>o?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gm=it&&"documentMode"in document&&11>=document.documentMode,dn=null,ys=null,lo=null,vs=!1;function Lu(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vs||dn==null||dn!==vr(o)||(o=dn,"selectionStart"in o&&Cl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),lo&&So(lo,o)||(lo=o,o=wr(ys,"onSelect"),0<o.length&&(e=new yl("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=dn)))}function Yo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cn={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionend:Yo("Transition","TransitionEnd")},Mi={},tf={};it&&(tf=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);function ti(t){if(Mi[t])return Mi[t];if(!cn[t])return t;var e=cn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tf)return Mi[t]=e[n];return t}var nf=ti("animationend"),of=ti("animationiteration"),rf=ti("animationstart"),sf=ti("transitionend"),lf=new Map,Uu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dt(t,e){lf.set(t,e),nn(e,[t])}for(var xi=0;xi<Uu.length;xi++){var Ni=Uu[xi],Hm=Ni.toLowerCase(),qm=Ni[0].toUpperCase()+Ni.slice(1);Dt(Hm,"on"+qm)}Dt(nf,"onAnimationEnd");Dt(of,"onAnimationIteration");Dt(rf,"onAnimationStart");Dt("dblclick","onDoubleClick");Dt("focusin","onFocus");Dt("focusout","onBlur");Dt(sf,"onTransitionEnd");Rn("onMouseEnter",["mouseout","mouseover"]);Rn("onMouseLeave",["mouseout","mouseover"]);Rn("onPointerEnter",["pointerout","pointerover"]);Rn("onPointerLeave",["pointerout","pointerover"]);nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bm=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function Fu(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,Hh(o,e,void 0,t),t.currentTarget=null}function uf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var l=o.length-1;0<=l;l--){var a=o[l],d=a.instance,c=a.currentTarget;if(a=a.listener,d!==i&&r.isPropagationStopped())break e;Fu(r,a,c),i=d}else for(l=0;l<o.length;l++){if(a=o[l],d=a.instance,c=a.currentTarget,a=a.listener,d!==i&&r.isPropagationStopped())break e;Fu(r,a,c),i=d}}}if(Cr)throw t=ps,Cr=!1,ps=null,t}function $(t,e){var n=e[Es];n===void 0&&(n=e[Es]=new Set);var o=t+"__bubble";n.has(o)||(af(e,t,2,!1),n.add(o))}function Di(t,e,n){var o=0;e&&(o|=4),af(n,t,o,e)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[Ko]){t[Ko]=!0,mc.forEach(function(n){n!=="selectionchange"&&(Bm.has(n)||Di(n,!1,t),Di(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ko]||(e[Ko]=!0,Di("selectionchange",!1,e))}}function af(t,e,n,o){switch(Wc(e)){case 1:var r=tm;break;case 4:r=nm;break;default:r=ml}n=r.bind(null,e,n,t),r=void 0,!fs||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Li(t,e,n,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var a=o.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;l=l.return}for(;a!==null;){if(l=zt(a),l===null)return;if(d=l.tag,d===5||d===6){o=i=l;continue e}a=a.parentNode}}o=o.return}xc(function(){var c=i,f=cl(n),p=[];e:{var h=lf.get(t);if(h!==void 0){var m=yl,_=t;switch(t){case"keypress":if(sr(n)===0)break e;case"keydown":case"keyup":m=ym;break;case"focusin":_="focus",m=Pi;break;case"focusout":_="blur",m=Pi;break;case"beforeblur":case"afterblur":m=Pi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Cm;break;case nf:case of:case rf:m=um;break;case sf:m=Tm;break;case"scroll":m=om;break;case"wheel":m=Im;break;case"copy":case"cut":case"paste":m=dm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Au}var C=(e&4)!==0,P=!C&&t==="scroll",y=C?h!==null?h+"Capture":null:h;C=[];for(var g=c,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=go(g,y),S!=null&&C.push(Eo(g,S,v)))),P)break;g=g.return}0<C.length&&(h=new m(h,_,null,n,f),p.push({event:h,listeners:C}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==ds&&(_=n.relatedTarget||n.fromElement)&&(zt(_)||_[st]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=c,_=_?zt(_):null,_!==null&&(P=on(_),_!==P||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=c),m!==_)){if(C=Iu,S="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(C=Au,S="onPointerLeave",y="onPointerEnter",g="pointer"),P=m==null?h:fn(m),v=_==null?h:fn(_),h=new C(S,g+"leave",m,n,f),h.target=P,h.relatedTarget=v,S=null,zt(f)===c&&(C=new C(y,g+"enter",_,n,f),C.target=v,C.relatedTarget=P,S=C),P=S,m&&_)t:{for(C=m,y=_,g=0,v=C;v;v=sn(v))g++;for(v=0,S=y;S;S=sn(S))v++;for(;0<g-v;)C=sn(C),g--;for(;0<v-g;)y=sn(y),v--;for(;g--;){if(C===y||y!==null&&C===y.alternate)break t;C=sn(C),y=sn(y)}C=null}else C=null;m!==null&&Vu(p,h,m,C,!1),_!==null&&P!==null&&Vu(p,P,_,C,!0)}}e:{if(h=c?fn(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=xm;else if(Ru(h))if(Zc)T=Um;else{T=Dm;var I=Nm}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=Lm);if(T&&(T=T(t,c))){Xc(p,T,n,f);break e}I&&I(t,h,c),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&is(h,"number",h.value)}switch(I=c?fn(c):window,t){case"focusin":(Ru(I)||I.contentEditable==="true")&&(dn=I,ys=c,lo=null);break;case"focusout":lo=ys=dn=null;break;case"mousedown":vs=!0;break;case"contextmenu":case"mouseup":case"dragend":vs=!1,Lu(p,n,f);break;case"selectionchange":if(Gm)break;case"keydown":case"keyup":Lu(p,n,f)}var A;if(_l)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else an?Kc(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Yc&&n.locale!=="ko"&&(an||R!=="onCompositionStart"?R==="onCompositionEnd"&&an&&(A=Oc()):(vt=f,gl="value"in vt?vt.value:vt.textContent,an=!0)),I=wr(c,R),0<I.length&&(R=new wu(R,t,null,n,f),p.push({event:R,listeners:I}),A?R.data=A:(A=Qc(n),A!==null&&(R.data=A)))),(A=Am?Pm(t,n):km(t,n))&&(c=wr(c,"onBeforeInput"),0<c.length&&(f=new wu("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=A))}uf(p,e)})}function Eo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wr(t,e){for(var n=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=go(t,n),i!=null&&o.unshift(Eo(t,i,r)),i=go(t,e),i!=null&&o.push(Eo(t,i,r))),t=t.return}return o}function sn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vu(t,e,n,o,r){for(var i=e._reactName,l=[];n!==null&&n!==o;){var a=n,d=a.alternate,c=a.stateNode;if(d!==null&&d===o)break;a.tag===5&&c!==null&&(a=c,r?(d=go(n,i),d!=null&&l.unshift(Eo(n,d,a))):r||(d=go(n,i),d!=null&&l.push(Eo(n,d,a)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var zm=/\r\n?/g,$m=/\u0000|\uFFFD/g;function Gu(t){return(typeof t=="string"?t:""+t).replace(zm,`
`).replace($m,"")}function Qo(t,e,n){if(e=Gu(e),Gu(t)!==e&&n)throw Error(w(425))}function Ar(){}var _s=null,Cs=null;function Ss(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ts=typeof setTimeout=="function"?setTimeout:void 0,Jm=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=typeof Promise=="function"?Promise:void 0,Wm=typeof queueMicrotask=="function"?queueMicrotask:typeof Hu<"u"?function(t){return Hu.resolve(null).then(t).catch(Om)}:Ts;function Om(t){setTimeout(function(){throw t})}function Ui(t,e){var n=e,o=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){t.removeChild(r),_o(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);_o(e)}function At(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hn=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Hn,Io="__reactProps$"+Hn,st="__reactContainer$"+Hn,Es="__reactEvents$"+Hn,Ym="__reactListeners$"+Hn,Km="__reactHandles$"+Hn;function zt(t){var e=t[Qe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[st]||n[Qe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qu(t);t!==null;){if(n=t[Qe])return n;t=qu(t)}return e}t=n,n=t.parentNode}return null}function Lo(t){return t=t[Qe]||t[st],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(w(33))}function ni(t){return t[Io]||null}var Is=[],pn=-1;function Lt(t){return{current:t}}function W(t){0>pn||(t.current=Is[pn],Is[pn]=null,pn--)}function z(t,e){pn++,Is[pn]=t.current,t.current=e}var Nt={},he=Lt(Nt),Se=Lt(!1),Qt=Nt;function Mn(t,e){var n=t.type.contextTypes;if(!n)return Nt;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Te(t){return t=t.childContextTypes,t!=null}function Pr(){W(Se),W(he)}function Bu(t,e,n){if(he.current!==Nt)throw Error(w(168));z(he,e),z(Se,n)}function df(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(w(108,Nh(t)||"Unknown",r));return X({},n,o)}function kr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nt,Qt=he.current,z(he,t),z(Se,Se.current),!0}function zu(t,e,n){var o=t.stateNode;if(!o)throw Error(w(169));n?(t=df(t,e,Qt),o.__reactInternalMemoizedMergedChildContext=t,W(Se),W(he),z(he,t)):W(Se),z(Se,n)}var et=null,oi=!1,Fi=!1;function cf(t){et===null?et=[t]:et.push(t)}function Qm(t){oi=!0,cf(t)}function Ut(){if(!Fi&&et!==null){Fi=!0;var t=0,e=q;try{var n=et;for(q=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}et=null,oi=!1}catch(r){throw et!==null&&(et=et.slice(t+1)),Uc(fl,Ut),r}finally{q=e,Fi=!1}}return null}var hn=[],mn=0,Rr=null,Mr=0,Ne=[],De=0,Xt=null,nt=1,ot="";function qt(t,e){hn[mn++]=Mr,hn[mn++]=Rr,Rr=t,Mr=e}function ff(t,e,n){Ne[De++]=nt,Ne[De++]=ot,Ne[De++]=Xt,Xt=t;var o=nt;t=ot;var r=32-$e(o)-1;o&=~(1<<r),n+=1;var i=32-$e(e)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,nt=1<<32-$e(e)+r|n<<r|o,ot=i+t}else nt=1<<i|n<<r|o,ot=t}function Sl(t){t.return!==null&&(qt(t,1),ff(t,1,0))}function Tl(t){for(;t===Rr;)Rr=hn[--mn],hn[mn]=null,Mr=hn[--mn],hn[mn]=null;for(;t===Xt;)Xt=Ne[--De],Ne[De]=null,ot=Ne[--De],Ne[De]=null,nt=Ne[--De],Ne[De]=null}var ke=null,Pe=null,O=!1,ze=null;function pf(t,e){var n=Le(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $u(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ke=t,Pe=At(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ke=t,Pe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xt!==null?{id:nt,overflow:ot}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Le(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ke=t,Pe=null,!0):!1;default:return!1}}function ws(t){return(t.mode&1)!==0&&(t.flags&128)===0}function As(t){if(O){var e=Pe;if(e){var n=e;if(!$u(t,e)){if(ws(t))throw Error(w(418));e=At(n.nextSibling);var o=ke;e&&$u(t,e)?pf(o,n):(t.flags=t.flags&-4097|2,O=!1,ke=t)}}else{if(ws(t))throw Error(w(418));t.flags=t.flags&-4097|2,O=!1,ke=t}}}function Ju(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ke=t}function Xo(t){if(t!==ke)return!1;if(!O)return Ju(t),O=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ss(t.type,t.memoizedProps)),e&&(e=Pe)){if(ws(t))throw hf(),Error(w(418));for(;e;)pf(t,e),e=At(e.nextSibling)}if(Ju(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pe=At(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pe=null}}else Pe=ke?At(t.stateNode.nextSibling):null;return!0}function hf(){for(var t=Pe;t;)t=At(t.nextSibling)}function xn(){Pe=ke=null,O=!1}function El(t){ze===null?ze=[t]:ze.push(t)}var Xm=dt.ReactCurrentBatchConfig;function Qn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(w(309));var o=n.stateNode}if(!o)throw Error(w(147,t));var r=o,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var a=r.refs;l===null?delete a[i]:a[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(w(284));if(!n._owner)throw Error(w(290,t))}return t}function Zo(t,e){throw t=Object.prototype.toString.call(e),Error(w(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wu(t){var e=t._init;return e(t._payload)}function mf(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function o(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function r(y,g){return y=Mt(y,g),y.index=0,y.sibling=null,y}function i(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function l(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,v,S){return g===null||g.tag!==6?(g=$i(v,y.mode,S),g.return=y,g):(g=r(g,v),g.return=y,g)}function d(y,g,v,S){var T=v.type;return T===un?f(y,g,v.props.children,S,v.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ht&&Wu(T)===g.type)?(S=r(g,v.props),S.ref=Qn(y,g,v),S.return=y,S):(S=pr(v.type,v.key,v.props,null,y.mode,S),S.ref=Qn(y,g,v),S.return=y,S)}function c(y,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Ji(v,y.mode,S),g.return=y,g):(g=r(g,v.children||[]),g.return=y,g)}function f(y,g,v,S,T){return g===null||g.tag!==7?(g=Ot(v,y.mode,S,T),g.return=y,g):(g=r(g,v),g.return=y,g)}function p(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=$i(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qo:return v=pr(g.type,g.key,g.props,null,y.mode,v),v.ref=Qn(y,null,g),v.return=y,v;case ln:return g=Ji(g,y.mode,v),g.return=y,g;case ht:var S=g._init;return p(y,S(g._payload),v)}if(eo(g)||Jn(g))return g=Ot(g,y.mode,v,null),g.return=y,g;Zo(y,g)}return null}function h(y,g,v,S){var T=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return T!==null?null:a(y,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qo:return v.key===T?d(y,g,v,S):null;case ln:return v.key===T?c(y,g,v,S):null;case ht:return T=v._init,h(y,g,T(v._payload),S)}if(eo(v)||Jn(v))return T!==null?null:f(y,g,v,S,null);Zo(y,v)}return null}function m(y,g,v,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,a(g,y,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qo:return y=y.get(S.key===null?v:S.key)||null,d(g,y,S,T);case ln:return y=y.get(S.key===null?v:S.key)||null,c(g,y,S,T);case ht:var I=S._init;return m(y,g,v,I(S._payload),T)}if(eo(S)||Jn(S))return y=y.get(v)||null,f(g,y,S,T,null);Zo(g,S)}return null}function _(y,g,v,S){for(var T=null,I=null,A=g,R=g=0,x=null;A!==null&&R<v.length;R++){A.index>R?(x=A,A=null):x=A.sibling;var N=h(y,A,v[R],S);if(N===null){A===null&&(A=x);break}t&&A&&N.alternate===null&&e(y,A),g=i(N,g,R),I===null?T=N:I.sibling=N,I=N,A=x}if(R===v.length)return n(y,A),O&&qt(y,R),T;if(A===null){for(;R<v.length;R++)A=p(y,v[R],S),A!==null&&(g=i(A,g,R),I===null?T=A:I.sibling=A,I=A);return O&&qt(y,R),T}for(A=o(y,A);R<v.length;R++)x=m(A,y,R,v[R],S),x!==null&&(t&&x.alternate!==null&&A.delete(x.key===null?R:x.key),g=i(x,g,R),I===null?T=x:I.sibling=x,I=x);return t&&A.forEach(function(H){return e(y,H)}),O&&qt(y,R),T}function C(y,g,v,S){var T=Jn(v);if(typeof T!="function")throw Error(w(150));if(v=T.call(v),v==null)throw Error(w(151));for(var I=T=null,A=g,R=g=0,x=null,N=v.next();A!==null&&!N.done;R++,N=v.next()){A.index>R?(x=A,A=null):x=A.sibling;var H=h(y,A,N.value,S);if(H===null){A===null&&(A=x);break}t&&A&&H.alternate===null&&e(y,A),g=i(H,g,R),I===null?T=H:I.sibling=H,I=H,A=x}if(N.done)return n(y,A),O&&qt(y,R),T;if(A===null){for(;!N.done;R++,N=v.next())N=p(y,N.value,S),N!==null&&(g=i(N,g,R),I===null?T=N:I.sibling=N,I=N);return O&&qt(y,R),T}for(A=o(y,A);!N.done;R++,N=v.next())N=m(A,y,R,N.value,S),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?R:N.key),g=i(N,g,R),I===null?T=N:I.sibling=N,I=N);return t&&A.forEach(function(B){return e(y,B)}),O&&qt(y,R),T}function P(y,g,v,S){if(typeof v=="object"&&v!==null&&v.type===un&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case qo:e:{for(var T=v.key,I=g;I!==null;){if(I.key===T){if(T=v.type,T===un){if(I.tag===7){n(y,I.sibling),g=r(I,v.props.children),g.return=y,y=g;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ht&&Wu(T)===I.type){n(y,I.sibling),g=r(I,v.props),g.ref=Qn(y,I,v),g.return=y,y=g;break e}n(y,I);break}else e(y,I);I=I.sibling}v.type===un?(g=Ot(v.props.children,y.mode,S,v.key),g.return=y,y=g):(S=pr(v.type,v.key,v.props,null,y.mode,S),S.ref=Qn(y,g,v),S.return=y,y=S)}return l(y);case ln:e:{for(I=v.key;g!==null;){if(g.key===I)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=r(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Ji(v,y.mode,S),g.return=y,y=g}return l(y);case ht:return I=v._init,P(y,g,I(v._payload),S)}if(eo(v))return _(y,g,v,S);if(Jn(v))return C(y,g,v,S);Zo(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=r(g,v),g.return=y,y=g):(n(y,g),g=$i(v,y.mode,S),g.return=y,y=g),l(y)):n(y,g)}return P}var Nn=mf(!0),gf=mf(!1),xr=Lt(null),Nr=null,gn=null,Il=null;function wl(){Il=gn=Nr=null}function Al(t){var e=xr.current;W(xr),t._currentValue=e}function Ps(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function In(t,e){Nr=t,Il=gn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ce=!0),t.firstContext=null)}function Ve(t){var e=t._currentValue;if(Il!==t)if(t={context:t,memoizedValue:e,next:null},gn===null){if(Nr===null)throw Error(w(308));gn=t,Nr.dependencies={lanes:0,firstContext:t}}else gn=gn.next=t;return e}var $t=null;function Pl(t){$t===null?$t=[t]:$t.push(t)}function yf(t,e,n,o){var r=e.interleaved;return r===null?(n.next=n,Pl(e)):(n.next=r.next,r.next=n),e.interleaved=n,lt(t,o)}function lt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mt=!1;function kl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pt(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,V&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,lt(t,n)}return r=o.interleaved,r===null?(e.next=e,Pl(o)):(e.next=r.next,r.next=e),o.interleaved=e,lt(t,n)}function lr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,pl(t,n)}}function Ou(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dr(t,e,n,o){var r=t.updateQueue;mt=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var d=a,c=d.next;d.next=null,l===null?i=c:l.next=c,l=d;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==l&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=d))}if(i!==null){var p=r.baseState;l=0,f=c=d=null,a=i;do{var h=a.lane,m=a.eventTime;if((o&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,C=a;switch(h=e,m=n,C.tag){case 1:if(_=C.payload,typeof _=="function"){p=_.call(m,p,h);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=C.payload,h=typeof _=="function"?_.call(m,p,h):_,h==null)break e;p=X({},p,h);break e;case 2:mt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=m,d=p):f=f.next=m,l|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(f===null&&(d=p),r.baseState=d,r.firstBaseUpdate=c,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);bt|=l,t.lanes=l,t.memoizedState=p}}function Yu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(w(191,r));r.call(o)}}}var Uo={},be=Lt(Uo),wo=Lt(Uo),Ao=Lt(Uo);function Jt(t){if(t===Uo)throw Error(w(174));return t}function Rl(t,e){switch(z(Ao,e),z(wo,t),z(be,Uo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ls(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ls(e,t)}W(be),z(be,e)}function Dn(){W(be),W(wo),W(Ao)}function _f(t){Jt(Ao.current);var e=Jt(be.current),n=ls(e,t.type);e!==n&&(z(wo,t),z(be,n))}function Ml(t){wo.current===t&&(W(be),W(wo))}var K=Lt(0);function Lr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vi=[];function xl(){for(var t=0;t<Vi.length;t++)Vi[t]._workInProgressVersionPrimary=null;Vi.length=0}var ur=dt.ReactCurrentDispatcher,Gi=dt.ReactCurrentBatchConfig,Zt=0,Q=null,te=null,re=null,Ur=!1,uo=!1,Po=0,Zm=0;function de(){throw Error(w(321))}function Nl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!We(t[n],e[n]))return!1;return!0}function Dl(t,e,n,o,r,i){if(Zt=i,Q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ur.current=t===null||t.memoizedState===null?tg:ng,t=n(o,r),uo){i=0;do{if(uo=!1,Po=0,25<=i)throw Error(w(301));i+=1,re=te=null,e.updateQueue=null,ur.current=og,t=n(o,r)}while(uo)}if(ur.current=Fr,e=te!==null&&te.next!==null,Zt=0,re=te=Q=null,Ur=!1,e)throw Error(w(300));return t}function Ll(){var t=Po!==0;return Po=0,t}function Ke(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?Q.memoizedState=re=t:re=re.next=t,re}function Ge(){if(te===null){var t=Q.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var e=re===null?Q.memoizedState:re.next;if(e!==null)re=e,te=t;else{if(t===null)throw Error(w(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},re===null?Q.memoizedState=re=t:re=re.next=t}return re}function ko(t,e){return typeof e=="function"?e(t):e}function Hi(t){var e=Ge(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var o=te,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var a=l=null,d=null,c=i;do{var f=c.lane;if((Zt&f)===f)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:t(o,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(a=d=p,l=o):d=d.next=p,Q.lanes|=f,bt|=f}c=c.next}while(c!==null&&c!==i);d===null?l=o:d.next=a,We(o,e.memoizedState)||(Ce=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=d,n.lastRenderedState=o}if(t=n.interleaved,t!==null){r=t;do i=r.lane,Q.lanes|=i,bt|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qi(t){var e=Ge(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=t(i,l.action),l=l.next;while(l!==r);We(i,e.memoizedState)||(Ce=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,o]}function Cf(){}function Sf(t,e){var n=Q,o=Ge(),r=e(),i=!We(o.memoizedState,r);if(i&&(o.memoizedState=r,Ce=!0),o=o.queue,Ul(If.bind(null,n,o,t),[t]),o.getSnapshot!==e||i||re!==null&&re.memoizedState.tag&1){if(n.flags|=2048,Ro(9,Ef.bind(null,n,o,r,e),void 0,null),ie===null)throw Error(w(349));Zt&30||Tf(n,e,r)}return r}function Tf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ef(t,e,n,o){e.value=n,e.getSnapshot=o,wf(e)&&Af(t)}function If(t,e,n){return n(function(){wf(e)&&Af(t)})}function wf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!We(t,n)}catch{return!0}}function Af(t){var e=lt(t,1);e!==null&&Je(e,t,1,-1)}function Ku(t){var e=Ke();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:t},e.queue=t,t=t.dispatch=eg.bind(null,Q,t),[e.memoizedState,t]}function Ro(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function Pf(){return Ge().memoizedState}function ar(t,e,n,o){var r=Ke();Q.flags|=t,r.memoizedState=Ro(1|e,n,void 0,o===void 0?null:o)}function ri(t,e,n,o){var r=Ge();o=o===void 0?null:o;var i=void 0;if(te!==null){var l=te.memoizedState;if(i=l.destroy,o!==null&&Nl(o,l.deps)){r.memoizedState=Ro(e,n,i,o);return}}Q.flags|=t,r.memoizedState=Ro(1|e,n,i,o)}function Qu(t,e){return ar(8390656,8,t,e)}function Ul(t,e){return ri(2048,8,t,e)}function kf(t,e){return ri(4,2,t,e)}function Rf(t,e){return ri(4,4,t,e)}function Mf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xf(t,e,n){return n=n!=null?n.concat([t]):null,ri(4,4,Mf.bind(null,e,t),n)}function Fl(){}function Nf(t,e){var n=Ge();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Nl(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function Df(t,e){var n=Ge();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Nl(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function Lf(t,e,n){return Zt&21?(We(n,e)||(n=Gc(),Q.lanes|=n,bt|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ce=!0),t.memoizedState=n)}function bm(t,e){var n=q;q=n!==0&&4>n?n:4,t(!0);var o=Gi.transition;Gi.transition={};try{t(!1),e()}finally{q=n,Gi.transition=o}}function Uf(){return Ge().memoizedState}function jm(t,e,n){var o=Rt(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Ff(t))Vf(e,n);else if(n=yf(t,e,n,o),n!==null){var r=ge();Je(n,t,o,r),Gf(n,e,o)}}function eg(t,e,n){var o=Rt(t),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ff(t))Vf(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,a=i(l,n);if(r.hasEagerState=!0,r.eagerState=a,We(a,l)){var d=e.interleaved;d===null?(r.next=r,Pl(e)):(r.next=d.next,d.next=r),e.interleaved=r;return}}catch{}finally{}n=yf(t,e,r,o),n!==null&&(r=ge(),Je(n,t,o,r),Gf(n,e,o))}}function Ff(t){var e=t.alternate;return t===Q||e!==null&&e===Q}function Vf(t,e){uo=Ur=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Gf(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,pl(t,n)}}var Fr={readContext:Ve,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},tg={readContext:Ve,useCallback:function(t,e){return Ke().memoizedState=[t,e===void 0?null:e],t},useContext:Ve,useEffect:Qu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ar(4194308,4,Mf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ar(4194308,4,t,e)},useInsertionEffect:function(t,e){return ar(4,2,t,e)},useMemo:function(t,e){var n=Ke();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=Ke();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=jm.bind(null,Q,t),[o.memoizedState,t]},useRef:function(t){var e=Ke();return t={current:t},e.memoizedState=t},useState:Ku,useDebugValue:Fl,useDeferredValue:function(t){return Ke().memoizedState=t},useTransition:function(){var t=Ku(!1),e=t[0];return t=bm.bind(null,t[1]),Ke().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=Q,r=Ke();if(O){if(n===void 0)throw Error(w(407));n=n()}else{if(n=e(),ie===null)throw Error(w(349));Zt&30||Tf(o,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Qu(If.bind(null,o,i,t),[t]),o.flags|=2048,Ro(9,Ef.bind(null,o,i,n,e),void 0,null),n},useId:function(){var t=Ke(),e=ie.identifierPrefix;if(O){var n=ot,o=nt;n=(o&~(1<<32-$e(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=Po++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Zm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ng={readContext:Ve,useCallback:Nf,useContext:Ve,useEffect:Ul,useImperativeHandle:xf,useInsertionEffect:kf,useLayoutEffect:Rf,useMemo:Df,useReducer:Hi,useRef:Pf,useState:function(){return Hi(ko)},useDebugValue:Fl,useDeferredValue:function(t){var e=Ge();return Lf(e,te.memoizedState,t)},useTransition:function(){var t=Hi(ko)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Cf,useSyncExternalStore:Sf,useId:Uf,unstable_isNewReconciler:!1},og={readContext:Ve,useCallback:Nf,useContext:Ve,useEffect:Ul,useImperativeHandle:xf,useInsertionEffect:kf,useLayoutEffect:Rf,useMemo:Df,useReducer:qi,useRef:Pf,useState:function(){return qi(ko)},useDebugValue:Fl,useDeferredValue:function(t){var e=Ge();return te===null?e.memoizedState=t:Lf(e,te.memoizedState,t)},useTransition:function(){var t=qi(ko)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Cf,useSyncExternalStore:Sf,useId:Uf,unstable_isNewReconciler:!1};function qe(t,e){if(t&&t.defaultProps){e=X({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ks(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:X({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ii={isMounted:function(t){return(t=t._reactInternals)?on(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=ge(),r=Rt(t),i=rt(o,r);i.payload=e,n!=null&&(i.callback=n),e=Pt(t,i,r),e!==null&&(Je(e,t,r,o),lr(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=ge(),r=Rt(t),i=rt(o,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Pt(t,i,r),e!==null&&(Je(e,t,r,o),lr(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ge(),o=Rt(t),r=rt(n,o);r.tag=2,e!=null&&(r.callback=e),e=Pt(t,r,o),e!==null&&(Je(e,t,o,n),lr(e,t,o))}};function Xu(t,e,n,o,r,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,l):e.prototype&&e.prototype.isPureReactComponent?!So(n,o)||!So(r,i):!0}function Hf(t,e,n){var o=!1,r=Nt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(r=Te(e)?Qt:he.current,o=e.contextTypes,i=(o=o!=null)?Mn(t,r):Nt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ii,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Zu(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&ii.enqueueReplaceState(e,e.state,null)}function Rs(t,e,n,o){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},kl(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Ve(i):(i=Te(e)?Qt:he.current,r.context=Mn(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ks(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ii.enqueueReplaceState(r,r.state,null),Dr(t,n,r,o),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ln(t,e){try{var n="",o=e;do n+=xh(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Bi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ms(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rg=typeof WeakMap=="function"?WeakMap:Map;function qf(t,e,n){n=rt(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){Gr||(Gr=!0,qs=o),Ms(t,e)},n}function Bf(t,e,n){n=rt(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;n.payload=function(){return o(r)},n.callback=function(){Ms(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ms(t,e),typeof o!="function"&&(kt===null?kt=new Set([this]):kt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function bu(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new rg;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(n)||(r.add(n),t=vg.bind(null,t,e,n),e.then(t,t))}function ju(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ea(t,e,n,o,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rt(-1,1),e.tag=2,Pt(n,e,1))),n.lanes|=1),t)}var ig=dt.ReactCurrentOwner,Ce=!1;function me(t,e,n,o){e.child=t===null?gf(e,null,n,o):Nn(e,t.child,n,o)}function ta(t,e,n,o,r){n=n.render;var i=e.ref;return In(e,r),o=Dl(t,e,n,o,i,r),n=Ll(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ut(t,e,r)):(O&&n&&Sl(e),e.flags|=1,me(t,e,o,r),e.child)}function na(t,e,n,o,r){if(t===null){var i=n.type;return typeof i=="function"&&!Jl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,zf(t,e,i,o,r)):(t=pr(n.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:So,n(l,o)&&t.ref===e.ref)return ut(t,e,r)}return e.flags|=1,t=Mt(i,o),t.ref=e.ref,t.return=e,e.child=t}function zf(t,e,n,o,r){if(t!==null){var i=t.memoizedProps;if(So(i,o)&&t.ref===e.ref)if(Ce=!1,e.pendingProps=o=i,(t.lanes&r)!==0)t.flags&131072&&(Ce=!0);else return e.lanes=t.lanes,ut(t,e,r)}return xs(t,e,n,o,r)}function $f(t,e,n){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(vn,we),we|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,z(vn,we),we|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,z(vn,we),we|=o}else i!==null?(o=i.baseLanes|n,e.memoizedState=null):o=n,z(vn,we),we|=o;return me(t,e,r,n),e.child}function Jf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xs(t,e,n,o,r){var i=Te(n)?Qt:he.current;return i=Mn(e,i),In(e,r),n=Dl(t,e,n,o,i,r),o=Ll(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ut(t,e,r)):(O&&o&&Sl(e),e.flags|=1,me(t,e,n,r),e.child)}function oa(t,e,n,o,r){if(Te(n)){var i=!0;kr(e)}else i=!1;if(In(e,r),e.stateNode===null)dr(t,e),Hf(e,n,o),Rs(e,n,o,r),o=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var d=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ve(c):(c=Te(n)?Qt:he.current,c=Mn(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==o||d!==c)&&Zu(e,l,o,c),mt=!1;var h=e.memoizedState;l.state=h,Dr(e,o,l,r),d=e.memoizedState,a!==o||h!==d||Se.current||mt?(typeof f=="function"&&(ks(e,n,f,o),d=e.memoizedState),(a=mt||Xu(e,n,a,o,h,d,c))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=d),l.props=o,l.state=d,l.context=c,o=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,vf(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:qe(e.type,a),l.props=c,p=e.pendingProps,h=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=Ve(d):(d=Te(n)?Qt:he.current,d=Mn(e,d));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==p||h!==d)&&Zu(e,l,o,d),mt=!1,h=e.memoizedState,l.state=h,Dr(e,o,l,r);var _=e.memoizedState;a!==p||h!==_||Se.current||mt?(typeof m=="function"&&(ks(e,n,m,o),_=e.memoizedState),(c=mt||Xu(e,n,c,o,h,_,d)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,_,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,_,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=_),l.props=o,l.state=_,l.context=d,o=c):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),o=!1)}return Ns(t,e,n,o,i,r)}function Ns(t,e,n,o,r,i){Jf(t,e);var l=(e.flags&128)!==0;if(!o&&!l)return r&&zu(e,n,!1),ut(t,e,i);o=e.stateNode,ig.current=e;var a=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&l?(e.child=Nn(e,t.child,null,i),e.child=Nn(e,null,a,i)):me(t,e,a,i),e.memoizedState=o.state,r&&zu(e,n,!0),e.child}function Wf(t){var e=t.stateNode;e.pendingContext?Bu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bu(t,e.context,!1),Rl(t,e.containerInfo)}function ra(t,e,n,o,r){return xn(),El(r),e.flags|=256,me(t,e,n,o),e.child}var Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(t){return{baseLanes:t,cachePool:null,transitions:null}}function Of(t,e,n){var o=e.pendingProps,r=K.current,i=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),z(K,r&1),t===null)return As(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,t=o.fallback,i?(o=e.mode,i=e.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ui(l,o,0,null),t=Ot(t,o,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ls(n),e.memoizedState=Ds,t):Vl(e,l));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return sg(t,e,l,o,a,r,n);if(i){i=o.fallback,l=e.mode,r=t.child,a=r.sibling;var d={mode:"hidden",children:o.children};return!(l&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=d,e.deletions=null):(o=Mt(r,d),o.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Mt(a,i):(i=Ot(i,l,n,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,l=t.child.memoizedState,l=l===null?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Ds,o}return i=t.child,t=i.sibling,o=Mt(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function Vl(t,e){return e=ui({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bo(t,e,n,o){return o!==null&&El(o),Nn(e,t.child,null,n),t=Vl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sg(t,e,n,o,r,i,l){if(n)return e.flags&256?(e.flags&=-257,o=Bi(Error(w(422))),bo(t,e,l,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=ui({mode:"visible",children:o.children},r,0,null),i=Ot(i,r,l,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&Nn(e,t.child,null,l),e.child.memoizedState=Ls(l),e.memoizedState=Ds,i);if(!(e.mode&1))return bo(t,e,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var a=o.dgst;return o=a,i=Error(w(419)),o=Bi(i,o,void 0),bo(t,e,l,o)}if(a=(l&t.childLanes)!==0,Ce||a){if(o=ie,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,lt(t,r),Je(o,t,r,-1))}return $l(),o=Bi(Error(w(421))),bo(t,e,l,o)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=_g.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Pe=At(r.nextSibling),ke=e,O=!0,ze=null,t!==null&&(Ne[De++]=nt,Ne[De++]=ot,Ne[De++]=Xt,nt=t.id,ot=t.overflow,Xt=e),e=Vl(e,o.children),e.flags|=4096,e)}function ia(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Ps(t.return,e,n)}function zi(t,e,n,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Yf(t,e,n){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(me(t,e,o.children,n),o=K.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ia(t,n,e);else if(t.tag===19)ia(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(z(K,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Lr(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),zi(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Lr(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}zi(e,!0,n,null,i);break;case"together":zi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dr(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ut(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bt|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(w(153));if(e.child!==null){for(t=e.child,n=Mt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lg(t,e,n){switch(e.tag){case 3:Wf(e),xn();break;case 5:_f(e);break;case 1:Te(e.type)&&kr(e);break;case 4:Rl(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;z(xr,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(z(K,K.current&1),e.flags|=128,null):n&e.child.childLanes?Of(t,e,n):(z(K,K.current&1),t=ut(t,e,n),t!==null?t.sibling:null);z(K,K.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return Yf(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),z(K,K.current),o)break;return null;case 22:case 23:return e.lanes=0,$f(t,e,n)}return ut(t,e,n)}var Kf,Us,Qf,Xf;Kf=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Us=function(){};Qf=function(t,e,n,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,Jt(be.current);var i=null;switch(n){case"input":r=os(t,r),o=os(t,o),i=[];break;case"select":r=X({},r,{value:void 0}),o=X({},o,{value:void 0}),i=[];break;case"textarea":r=ss(t,r),o=ss(t,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Ar)}us(n,o);var l;n=null;for(c in r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ho.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in o){var d=o[c];if(a=r!=null?r[c]:void 0,o.hasOwnProperty(c)&&d!==a&&(d!=null||a!=null))if(c==="style")if(a){for(l in a)!a.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&a[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(i||(i=[]),i.push(c,n)),n=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,a=a?a.__html:void 0,d!=null&&a!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ho.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&$("scroll",t),i||a===d||(i=[])):(i=i||[]).push(c,d))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Xf=function(t,e,n,o){n!==o&&(e.flags|=4)};function Xn(t,e){if(!O)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function ug(t,e,n){var o=e.pendingProps;switch(Tl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(e),null;case 1:return Te(e.type)&&Pr(),ce(e),null;case 3:return o=e.stateNode,Dn(),W(Se),W(he),xl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Xo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ze!==null&&($s(ze),ze=null))),Us(t,e),ce(e),null;case 5:Ml(e);var r=Jt(Ao.current);if(n=e.type,t!==null&&e.stateNode!=null)Qf(t,e,n,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(w(166));return ce(e),null}if(t=Jt(be.current),Xo(e)){o=e.stateNode,n=e.type;var i=e.memoizedProps;switch(o[Qe]=e,o[Io]=i,t=(e.mode&1)!==0,n){case"dialog":$("cancel",o),$("close",o);break;case"iframe":case"object":case"embed":$("load",o);break;case"video":case"audio":for(r=0;r<no.length;r++)$(no[r],o);break;case"source":$("error",o);break;case"img":case"image":case"link":$("error",o),$("load",o);break;case"details":$("toggle",o);break;case"input":hu(o,i),$("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},$("invalid",o);break;case"textarea":gu(o,i),$("invalid",o)}us(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="children"?typeof a=="string"?o.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qo(o.textContent,a,t),r=["children",a]):typeof a=="number"&&o.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qo(o.textContent,a,t),r=["children",""+a]):ho.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&$("scroll",o)}switch(n){case"input":Bo(o),mu(o,i,!0);break;case"textarea":Bo(o),yu(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Ar)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ec(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=l.createElement(n,{is:o.is}):(t=l.createElement(n),n==="select"&&(l=t,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):t=l.createElementNS(t,n),t[Qe]=e,t[Io]=o,Kf(t,e,!1,!1),e.stateNode=t;e:{switch(l=as(n,o),n){case"dialog":$("cancel",t),$("close",t),r=o;break;case"iframe":case"object":case"embed":$("load",t),r=o;break;case"video":case"audio":for(r=0;r<no.length;r++)$(no[r],t);r=o;break;case"source":$("error",t),r=o;break;case"img":case"image":case"link":$("error",t),$("load",t),r=o;break;case"details":$("toggle",t),r=o;break;case"input":hu(t,o),r=os(t,o),$("invalid",t);break;case"option":r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=X({},o,{value:void 0}),$("invalid",t);break;case"textarea":gu(t,o),r=ss(t,o),$("invalid",t);break;default:r=o}us(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var d=a[i];i==="style"?Ac(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Ic(t,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&mo(t,d):typeof d=="number"&&mo(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ho.hasOwnProperty(i)?d!=null&&i==="onScroll"&&$("scroll",t):d!=null&&ll(t,i,d,l))}switch(n){case"input":Bo(t),mu(t,o,!1);break;case"textarea":Bo(t),yu(t);break;case"option":o.value!=null&&t.setAttribute("value",""+xt(o.value));break;case"select":t.multiple=!!o.multiple,i=o.value,i!=null?Cn(t,!!o.multiple,i,!1):o.defaultValue!=null&&Cn(t,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Ar)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ce(e),null;case 6:if(t&&e.stateNode!=null)Xf(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(w(166));if(n=Jt(Ao.current),Jt(be.current),Xo(e)){if(o=e.stateNode,n=e.memoizedProps,o[Qe]=e,(i=o.nodeValue!==n)&&(t=ke,t!==null))switch(t.tag){case 3:Qo(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qo(o.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Qe]=e,e.stateNode=o}return ce(e),null;case 13:if(W(K),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(O&&Pe!==null&&e.mode&1&&!(e.flags&128))hf(),xn(),e.flags|=98560,i=!1;else if(i=Xo(e),o!==null&&o.dehydrated!==null){if(t===null){if(!i)throw Error(w(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(w(317));i[Qe]=e}else xn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ce(e),i=!1}else ze!==null&&($s(ze),ze=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?ne===0&&(ne=3):$l())),e.updateQueue!==null&&(e.flags|=4),ce(e),null);case 4:return Dn(),Us(t,e),t===null&&To(e.stateNode.containerInfo),ce(e),null;case 10:return Al(e.type._context),ce(e),null;case 17:return Te(e.type)&&Pr(),ce(e),null;case 19:if(W(K),i=e.memoizedState,i===null)return ce(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)Xn(i,!1);else{if(ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Lr(t),l!==null){for(e.flags|=128,Xn(i,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)i=n,t=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return z(K,K.current&1|2),e.child}t=t.sibling}i.tail!==null&&j()>Un&&(e.flags|=128,o=!0,Xn(i,!1),e.lanes=4194304)}else{if(!o)if(t=Lr(l),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!O)return ce(e),null}else 2*j()-i.renderingStartTime>Un&&n!==1073741824&&(e.flags|=128,o=!0,Xn(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=j(),e.sibling=null,n=K.current,z(K,o?n&1|2:n&1),e):(ce(e),null);case 22:case 23:return zl(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?we&1073741824&&(ce(e),e.subtreeFlags&6&&(e.flags|=8192)):ce(e),null;case 24:return null;case 25:return null}throw Error(w(156,e.tag))}function ag(t,e){switch(Tl(e),e.tag){case 1:return Te(e.type)&&Pr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dn(),W(Se),W(he),xl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ml(e),null;case 13:if(W(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(w(340));xn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(K),null;case 4:return Dn(),null;case 10:return Al(e.type._context),null;case 22:case 23:return zl(),null;case 24:return null;default:return null}}var jo=!1,fe=!1,dg=typeof WeakSet=="function"?WeakSet:Set,M=null;function yn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Z(t,e,o)}else n.current=null}function Fs(t,e,n){try{n()}catch(o){Z(t,e,o)}}var sa=!1;function cg(t,e){if(_s=Er,t=ef(),Cl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,a=-1,d=-1,c=0,f=0,p=t,h=null;t:for(;;){for(var m;p!==n||r!==0&&p.nodeType!==3||(a=l+r),p!==i||o!==0&&p.nodeType!==3||(d=l+o),p.nodeType===3&&(l+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===t)break t;if(h===n&&++c===r&&(a=l),h===i&&++f===o&&(d=l),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}n=a===-1||d===-1?null:{start:a,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cs={focusedElem:t,selectionRange:n},Er=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var C=_.memoizedProps,P=_.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?C:qe(e.type,C),P);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(S){Z(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return _=sa,sa=!1,_}function ao(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Fs(e,n,i)}r=r.next}while(r!==o)}}function si(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function Vs(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zf(t){var e=t.alternate;e!==null&&(t.alternate=null,Zf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qe],delete e[Io],delete e[Es],delete e[Ym],delete e[Km])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bf(t){return t.tag===5||t.tag===3||t.tag===4}function la(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gs(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ar));else if(o!==4&&(t=t.child,t!==null))for(Gs(t,e,n),t=t.sibling;t!==null;)Gs(t,e,n),t=t.sibling}function Hs(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(Hs(t,e,n),t=t.sibling;t!==null;)Hs(t,e,n),t=t.sibling}var se=null,Be=!1;function pt(t,e,n){for(n=n.child;n!==null;)jf(t,e,n),n=n.sibling}function jf(t,e,n){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(br,n)}catch{}switch(n.tag){case 5:fe||yn(n,e);case 6:var o=se,r=Be;se=null,pt(t,e,n),se=o,Be=r,se!==null&&(Be?(t=se,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):se.removeChild(n.stateNode));break;case 18:se!==null&&(Be?(t=se,n=n.stateNode,t.nodeType===8?Ui(t.parentNode,n):t.nodeType===1&&Ui(t,n),_o(t)):Ui(se,n.stateNode));break;case 4:o=se,r=Be,se=n.stateNode.containerInfo,Be=!0,pt(t,e,n),se=o,Be=r;break;case 0:case 11:case 14:case 15:if(!fe&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Fs(n,e,l),r=r.next}while(r!==o)}pt(t,e,n);break;case 1:if(!fe&&(yn(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(a){Z(n,e,a)}pt(t,e,n);break;case 21:pt(t,e,n);break;case 22:n.mode&1?(fe=(o=fe)||n.memoizedState!==null,pt(t,e,n),fe=o):pt(t,e,n);break;default:pt(t,e,n)}}function ua(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dg),e.forEach(function(o){var r=Cg.bind(null,t,o);n.has(o)||(n.add(o),o.then(r,r))})}}function He(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:se=a.stateNode,Be=!1;break e;case 3:se=a.stateNode.containerInfo,Be=!0;break e;case 4:se=a.stateNode.containerInfo,Be=!0;break e}a=a.return}if(se===null)throw Error(w(160));jf(i,l,r),se=null,Be=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(c){Z(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ep(e,t),e=e.sibling}function ep(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(He(e,t),Ye(t),o&4){try{ao(3,t,t.return),si(3,t)}catch(C){Z(t,t.return,C)}try{ao(5,t,t.return)}catch(C){Z(t,t.return,C)}}break;case 1:He(e,t),Ye(t),o&512&&n!==null&&yn(n,n.return);break;case 5:if(He(e,t),Ye(t),o&512&&n!==null&&yn(n,n.return),t.flags&32){var r=t.stateNode;try{mo(r,"")}catch(C){Z(t,t.return,C)}}if(o&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,a=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Sc(r,i),as(a,l);var c=as(a,i);for(l=0;l<d.length;l+=2){var f=d[l],p=d[l+1];f==="style"?Ac(r,p):f==="dangerouslySetInnerHTML"?Ic(r,p):f==="children"?mo(r,p):ll(r,f,p,c)}switch(a){case"input":rs(r,i);break;case"textarea":Tc(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Cn(r,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Cn(r,!!i.multiple,i.defaultValue,!0):Cn(r,!!i.multiple,i.multiple?[]:"",!1))}r[Io]=i}catch(C){Z(t,t.return,C)}}break;case 6:if(He(e,t),Ye(t),o&4){if(t.stateNode===null)throw Error(w(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(C){Z(t,t.return,C)}}break;case 3:if(He(e,t),Ye(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{_o(e.containerInfo)}catch(C){Z(t,t.return,C)}break;case 4:He(e,t),Ye(t);break;case 13:He(e,t),Ye(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(ql=j())),o&4&&ua(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(fe=(c=fe)||f,He(e,t),fe=c):He(e,t),Ye(t),o&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(M=t,f=t.child;f!==null;){for(p=M=f;M!==null;){switch(h=M,m=h.child,h.tag){case 0:case 11:case 14:case 15:ao(4,h,h.return);break;case 1:yn(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){o=h,n=h.return;try{e=o,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(C){Z(o,n,C)}}break;case 5:yn(h,h.return);break;case 22:if(h.memoizedState!==null){da(p);continue}}m!==null?(m.return=h,M=m):da(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{r=p.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,d=p.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,a.style.display=wc("display",l))}catch(C){Z(t,t.return,C)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(C){Z(t,t.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:He(e,t),Ye(t),o&4&&ua(t);break;case 21:break;default:He(e,t),Ye(t)}}function Ye(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bf(n)){var o=n;break e}n=n.return}throw Error(w(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(mo(r,""),o.flags&=-33);var i=la(t);Hs(t,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,a=la(t);Gs(t,a,l);break;default:throw Error(w(161))}}catch(d){Z(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fg(t,e,n){M=t,tp(t)}function tp(t,e,n){for(var o=(t.mode&1)!==0;M!==null;){var r=M,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||jo;if(!l){var a=r.alternate,d=a!==null&&a.memoizedState!==null||fe;a=jo;var c=fe;if(jo=l,(fe=d)&&!c)for(M=r;M!==null;)l=M,d=l.child,l.tag===22&&l.memoizedState!==null?ca(r):d!==null?(d.return=l,M=d):ca(r);for(;i!==null;)M=i,tp(i),i=i.sibling;M=r,jo=a,fe=c}aa(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,M=i):aa(t)}}function aa(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fe||si(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!fe)if(n===null)o.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:qe(e.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Yu(e,i,o);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Yu(e,l,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&_o(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}fe||e.flags&512&&Vs(e)}catch(h){Z(e,e.return,h)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function da(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function ca(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{si(4,e)}catch(d){Z(e,n,d)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(d){Z(e,r,d)}}var i=e.return;try{Vs(e)}catch(d){Z(e,i,d)}break;case 5:var l=e.return;try{Vs(e)}catch(d){Z(e,l,d)}}}catch(d){Z(e,e.return,d)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var pg=Math.ceil,Vr=dt.ReactCurrentDispatcher,Gl=dt.ReactCurrentOwner,Ue=dt.ReactCurrentBatchConfig,V=0,ie=null,ee=null,le=0,we=0,vn=Lt(0),ne=0,Mo=null,bt=0,li=0,Hl=0,co=null,_e=null,ql=0,Un=1/0,je=null,Gr=!1,qs=null,kt=null,er=!1,_t=null,Hr=0,fo=0,Bs=null,cr=-1,fr=0;function ge(){return V&6?j():cr!==-1?cr:cr=j()}function Rt(t){return t.mode&1?V&2&&le!==0?le&-le:Xm.transition!==null?(fr===0&&(fr=Gc()),fr):(t=q,t!==0||(t=window.event,t=t===void 0?16:Wc(t.type)),t):1}function Je(t,e,n,o){if(50<fo)throw fo=0,Bs=null,Error(w(185));No(t,n,o),(!(V&2)||t!==ie)&&(t===ie&&(!(V&2)&&(li|=n),ne===4&&yt(t,le)),Ee(t,o),n===1&&V===0&&!(e.mode&1)&&(Un=j()+500,oi&&Ut()))}function Ee(t,e){var n=t.callbackNode;Xh(t,e);var o=Tr(t,t===ie?le:0);if(o===0)n!==null&&Cu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&Cu(n),e===1)t.tag===0?Qm(fa.bind(null,t)):cf(fa.bind(null,t)),Wm(function(){!(V&6)&&Ut()}),n=null;else{switch(Hc(o)){case 1:n=fl;break;case 4:n=Fc;break;case 16:n=Sr;break;case 536870912:n=Vc;break;default:n=Sr}n=ap(n,np.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function np(t,e){if(cr=-1,fr=0,V&6)throw Error(w(327));var n=t.callbackNode;if(wn()&&t.callbackNode!==n)return null;var o=Tr(t,t===ie?le:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=qr(t,o);else{e=o;var r=V;V|=2;var i=rp();(ie!==t||le!==e)&&(je=null,Un=j()+500,Wt(t,e));do try{gg();break}catch(a){op(t,a)}while(!0);wl(),Vr.current=i,V=r,ee!==null?e=0:(ie=null,le=0,e=ne)}if(e!==0){if(e===2&&(r=hs(t),r!==0&&(o=r,e=zs(t,r))),e===1)throw n=Mo,Wt(t,0),yt(t,o),Ee(t,j()),n;if(e===6)yt(t,o);else{if(r=t.current.alternate,!(o&30)&&!hg(r)&&(e=qr(t,o),e===2&&(i=hs(t),i!==0&&(o=i,e=zs(t,i))),e===1))throw n=Mo,Wt(t,0),yt(t,o),Ee(t,j()),n;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(w(345));case 2:Bt(t,_e,je);break;case 3:if(yt(t,o),(o&130023424)===o&&(e=ql+500-j(),10<e)){if(Tr(t,0)!==0)break;if(r=t.suspendedLanes,(r&o)!==o){ge(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Ts(Bt.bind(null,t,_e,je),e);break}Bt(t,_e,je);break;case 4:if(yt(t,o),(o&4194240)===o)break;for(e=t.eventTimes,r=-1;0<o;){var l=31-$e(o);i=1<<l,l=e[l],l>r&&(r=l),o&=~i}if(o=r,o=j()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*pg(o/1960))-o,10<o){t.timeoutHandle=Ts(Bt.bind(null,t,_e,je),o);break}Bt(t,_e,je);break;case 5:Bt(t,_e,je);break;default:throw Error(w(329))}}}return Ee(t,j()),t.callbackNode===n?np.bind(null,t):null}function zs(t,e){var n=co;return t.current.memoizedState.isDehydrated&&(Wt(t,e).flags|=256),t=qr(t,e),t!==2&&(e=_e,_e=n,e!==null&&$s(e)),t}function $s(t){_e===null?_e=t:_e.push.apply(_e,t)}function hg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!We(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yt(t,e){for(e&=~Hl,e&=~li,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$e(e),o=1<<n;t[n]=-1,e&=~o}}function fa(t){if(V&6)throw Error(w(327));wn();var e=Tr(t,0);if(!(e&1))return Ee(t,j()),null;var n=qr(t,e);if(t.tag!==0&&n===2){var o=hs(t);o!==0&&(e=o,n=zs(t,o))}if(n===1)throw n=Mo,Wt(t,0),yt(t,e),Ee(t,j()),n;if(n===6)throw Error(w(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bt(t,_e,je),Ee(t,j()),null}function Bl(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(Un=j()+500,oi&&Ut())}}function jt(t){_t!==null&&_t.tag===0&&!(V&6)&&wn();var e=V;V|=1;var n=Ue.transition,o=q;try{if(Ue.transition=null,q=1,t)return t()}finally{q=o,Ue.transition=n,V=e,!(V&6)&&Ut()}}function zl(){we=vn.current,W(vn)}function Wt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Jm(n)),ee!==null)for(n=ee.return;n!==null;){var o=n;switch(Tl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Pr();break;case 3:Dn(),W(Se),W(he),xl();break;case 5:Ml(o);break;case 4:Dn();break;case 13:W(K);break;case 19:W(K);break;case 10:Al(o.type._context);break;case 22:case 23:zl()}n=n.return}if(ie=t,ee=t=Mt(t.current,null),le=we=e,ne=0,Mo=null,Hl=li=bt=0,_e=co=null,$t!==null){for(e=0;e<$t.length;e++)if(n=$t[e],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}n.pending=o}$t=null}return t}function op(t,e){do{var n=ee;try{if(wl(),ur.current=Fr,Ur){for(var o=Q.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Ur=!1}if(Zt=0,re=te=Q=null,uo=!1,Po=0,Gl.current=null,n===null||n.return===null){ne=1,Mo=e,ee=null;break}e:{var i=t,l=n.return,a=n,d=e;if(e=le,a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=ju(l);if(m!==null){m.flags&=-257,ea(m,l,a,i,e),m.mode&1&&bu(i,c,e),e=m,d=c;var _=e.updateQueue;if(_===null){var C=new Set;C.add(d),e.updateQueue=C}else _.add(d);break e}else{if(!(e&1)){bu(i,c,e),$l();break e}d=Error(w(426))}}else if(O&&a.mode&1){var P=ju(l);if(P!==null){!(P.flags&65536)&&(P.flags|=256),ea(P,l,a,i,e),El(Ln(d,a));break e}}i=d=Ln(d,a),ne!==4&&(ne=2),co===null?co=[i]:co.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=qf(i,d,e);Ou(i,y);break e;case 1:a=d;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(kt===null||!kt.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Bf(i,a,e);Ou(i,S);break e}}i=i.return}while(i!==null)}sp(n)}catch(T){e=T,ee===n&&n!==null&&(ee=n=n.return);continue}break}while(!0)}function rp(){var t=Vr.current;return Vr.current=Fr,t===null?Fr:t}function $l(){(ne===0||ne===3||ne===2)&&(ne=4),ie===null||!(bt&268435455)&&!(li&268435455)||yt(ie,le)}function qr(t,e){var n=V;V|=2;var o=rp();(ie!==t||le!==e)&&(je=null,Wt(t,e));do try{mg();break}catch(r){op(t,r)}while(!0);if(wl(),V=n,Vr.current=o,ee!==null)throw Error(w(261));return ie=null,le=0,ne}function mg(){for(;ee!==null;)ip(ee)}function gg(){for(;ee!==null&&!Bh();)ip(ee)}function ip(t){var e=up(t.alternate,t,we);t.memoizedProps=t.pendingProps,e===null?sp(t):ee=e,Gl.current=null}function sp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ag(n,e),n!==null){n.flags&=32767,ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ne=6,ee=null;return}}else if(n=ug(n,e,we),n!==null){ee=n;return}if(e=e.sibling,e!==null){ee=e;return}ee=e=t}while(e!==null);ne===0&&(ne=5)}function Bt(t,e,n){var o=q,r=Ue.transition;try{Ue.transition=null,q=1,yg(t,e,n,o)}finally{Ue.transition=r,q=o}return null}function yg(t,e,n,o){do wn();while(_t!==null);if(V&6)throw Error(w(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(w(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Zh(t,i),t===ie&&(ee=ie=null,le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||er||(er=!0,ap(Sr,function(){return wn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ue.transition,Ue.transition=null;var l=q;q=1;var a=V;V|=4,Gl.current=null,cg(t,n),ep(n,t),Vm(Cs),Er=!!_s,Cs=_s=null,t.current=n,fg(n),zh(),V=a,q=l,Ue.transition=i}else t.current=n;if(er&&(er=!1,_t=t,Hr=r),i=t.pendingLanes,i===0&&(kt=null),Wh(n.stateNode),Ee(t,j()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Gr)throw Gr=!1,t=qs,qs=null,t;return Hr&1&&t.tag!==0&&wn(),i=t.pendingLanes,i&1?t===Bs?fo++:(fo=0,Bs=t):fo=0,Ut(),null}function wn(){if(_t!==null){var t=Hc(Hr),e=Ue.transition,n=q;try{if(Ue.transition=null,q=16>t?16:t,_t===null)var o=!1;else{if(t=_t,_t=null,Hr=0,V&6)throw Error(w(331));var r=V;for(V|=4,M=t.current;M!==null;){var i=M,l=i.child;if(M.flags&16){var a=i.deletions;if(a!==null){for(var d=0;d<a.length;d++){var c=a[d];for(M=c;M!==null;){var f=M;switch(f.tag){case 0:case 11:case 15:ao(8,f,i)}var p=f.child;if(p!==null)p.return=f,M=p;else for(;M!==null;){f=M;var h=f.sibling,m=f.return;if(Zf(f),f===c){M=null;break}if(h!==null){h.return=m,M=h;break}M=m}}}var _=i.alternate;if(_!==null){var C=_.child;if(C!==null){_.child=null;do{var P=C.sibling;C.sibling=null,C=P}while(C!==null)}}M=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,M=l;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ao(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,M=y;break e}M=i.return}}var g=t.current;for(M=g;M!==null;){l=M;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,M=v;else e:for(l=g;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:si(9,a)}}catch(T){Z(a,a.return,T)}if(a===l){M=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,M=S;break e}M=a.return}}if(V=r,Ut(),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(br,t)}catch{}o=!0}return o}finally{q=n,Ue.transition=e}}return!1}function pa(t,e,n){e=Ln(n,e),e=qf(t,e,1),t=Pt(t,e,1),e=ge(),t!==null&&(No(t,1,e),Ee(t,e))}function Z(t,e,n){if(t.tag===3)pa(t,t,n);else for(;e!==null;){if(e.tag===3){pa(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(kt===null||!kt.has(o))){t=Ln(n,t),t=Bf(e,t,1),e=Pt(e,t,1),t=ge(),e!==null&&(No(e,1,t),Ee(e,t));break}}e=e.return}}function vg(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=ge(),t.pingedLanes|=t.suspendedLanes&n,ie===t&&(le&n)===n&&(ne===4||ne===3&&(le&130023424)===le&&500>j()-ql?Wt(t,0):Hl|=n),Ee(t,e)}function lp(t,e){e===0&&(t.mode&1?(e=Jo,Jo<<=1,!(Jo&130023424)&&(Jo=4194304)):e=1);var n=ge();t=lt(t,e),t!==null&&(No(t,e,n),Ee(t,n))}function _g(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lp(t,n)}function Cg(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(w(314))}o!==null&&o.delete(e),lp(t,n)}var up;up=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Se.current)Ce=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ce=!1,lg(t,e,n);Ce=!!(t.flags&131072)}else Ce=!1,O&&e.flags&1048576&&ff(e,Mr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;dr(t,e),t=e.pendingProps;var r=Mn(e,he.current);In(e,n),r=Dl(null,e,o,t,r,n);var i=Ll();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Te(o)?(i=!0,kr(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,kl(e),r.updater=ii,e.stateNode=r,r._reactInternals=e,Rs(e,o,t,n),e=Ns(null,e,o,!0,i,n)):(e.tag=0,O&&i&&Sl(e),me(null,e,r,n),e=e.child),e;case 16:o=e.elementType;e:{switch(dr(t,e),t=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=Tg(o),t=qe(o,t),r){case 0:e=xs(null,e,o,t,n);break e;case 1:e=oa(null,e,o,t,n);break e;case 11:e=ta(null,e,o,t,n);break e;case 14:e=na(null,e,o,qe(o.type,t),n);break e}throw Error(w(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:qe(o,r),xs(t,e,o,r,n);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:qe(o,r),oa(t,e,o,r,n);case 3:e:{if(Wf(e),t===null)throw Error(w(387));o=e.pendingProps,i=e.memoizedState,r=i.element,vf(t,e),Dr(e,o,null,n);var l=e.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Ln(Error(w(423)),e),e=ra(t,e,o,n,r);break e}else if(o!==r){r=Ln(Error(w(424)),e),e=ra(t,e,o,n,r);break e}else for(Pe=At(e.stateNode.containerInfo.firstChild),ke=e,O=!0,ze=null,n=gf(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xn(),o===r){e=ut(t,e,n);break e}me(t,e,o,n)}e=e.child}return e;case 5:return _f(e),t===null&&As(e),o=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,l=r.children,Ss(o,r)?l=null:i!==null&&Ss(o,i)&&(e.flags|=32),Jf(t,e),me(t,e,l,n),e.child;case 6:return t===null&&As(e),null;case 13:return Of(t,e,n);case 4:return Rl(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Nn(e,null,o,n):me(t,e,o,n),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:qe(o,r),ta(t,e,o,r,n);case 7:return me(t,e,e.pendingProps,n),e.child;case 8:return me(t,e,e.pendingProps.children,n),e.child;case 12:return me(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,l=r.value,z(xr,o._currentValue),o._currentValue=l,i!==null)if(We(i.value,l)){if(i.children===r.children&&!Se.current){e=ut(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){l=i.child;for(var d=a.firstContext;d!==null;){if(d.context===o){if(i.tag===1){d=rt(-1,n&-n),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Ps(i.return,n,e),a.lanes|=n;break}d=d.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(w(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Ps(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}me(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,In(e,n),r=Ve(r),o=o(r),e.flags|=1,me(t,e,o,n),e.child;case 14:return o=e.type,r=qe(o,e.pendingProps),r=qe(o.type,r),na(t,e,o,r,n);case 15:return zf(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:qe(o,r),dr(t,e),e.tag=1,Te(o)?(t=!0,kr(e)):t=!1,In(e,n),Hf(e,o,r),Rs(e,o,r,n),Ns(null,e,o,!0,t,n);case 19:return Yf(t,e,n);case 22:return $f(t,e,n)}throw Error(w(156,e.tag))};function ap(t,e){return Uc(t,e)}function Sg(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Le(t,e,n,o){return new Sg(t,e,n,o)}function Jl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tg(t){if(typeof t=="function")return Jl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===al)return 11;if(t===dl)return 14}return 2}function Mt(t,e){var n=t.alternate;return n===null?(n=Le(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pr(t,e,n,o,r,i){var l=2;if(o=t,typeof t=="function")Jl(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case un:return Ot(n.children,r,i,e);case ul:l=8,r|=8;break;case ji:return t=Le(12,n,e,r|2),t.elementType=ji,t.lanes=i,t;case es:return t=Le(13,n,e,r),t.elementType=es,t.lanes=i,t;case ts:return t=Le(19,n,e,r),t.elementType=ts,t.lanes=i,t;case vc:return ui(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gc:l=10;break e;case yc:l=9;break e;case al:l=11;break e;case dl:l=14;break e;case ht:l=16,o=null;break e}throw Error(w(130,t==null?t:typeof t,""))}return e=Le(l,n,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function Ot(t,e,n,o){return t=Le(7,t,o,e),t.lanes=n,t}function ui(t,e,n,o){return t=Le(22,t,o,e),t.elementType=vc,t.lanes=n,t.stateNode={isHidden:!1},t}function $i(t,e,n){return t=Le(6,t,null,e),t.lanes=n,t}function Ji(t,e,n){return e=Le(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Eg(t,e,n,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ii(0),this.expirationTimes=Ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Wl(t,e,n,o,r,i,l,a,d){return t=new Eg(t,e,n,a,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Le(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kl(i),t}function Ig(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ln,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function dp(t){if(!t)return Nt;t=t._reactInternals;e:{if(on(t)!==t||t.tag!==1)throw Error(w(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Te(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(w(171))}if(t.tag===1){var n=t.type;if(Te(n))return df(t,n,e)}return e}function cp(t,e,n,o,r,i,l,a,d){return t=Wl(n,o,!0,t,r,i,l,a,d),t.context=dp(null),n=t.current,o=ge(),r=Rt(n),i=rt(o,r),i.callback=e??null,Pt(n,i,r),t.current.lanes=r,No(t,r,o),Ee(t,o),t}function ai(t,e,n,o){var r=e.current,i=ge(),l=Rt(r);return n=dp(n),e.context===null?e.context=n:e.pendingContext=n,e=rt(i,l),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Pt(r,e,l),t!==null&&(Je(t,r,l,i),lr(t,r,l)),l}function Br(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ha(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ol(t,e){ha(t,e),(t=t.alternate)&&ha(t,e)}function wg(){return null}var fp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yl(t){this._internalRoot=t}di.prototype.render=Yl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(w(409));ai(t,e,null,null)};di.prototype.unmount=Yl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jt(function(){ai(null,t,null,null)}),e[st]=null}};function di(t){this._internalRoot=t}di.prototype.unstable_scheduleHydration=function(t){if(t){var e=zc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gt.length&&e!==0&&e<gt[n].priority;n++);gt.splice(n,0,t),n===0&&Jc(t)}};function Kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ci(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ma(){}function Ag(t,e,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var c=Br(l);i.call(c)}}var l=cp(e,o,t,0,null,!1,!1,"",ma);return t._reactRootContainer=l,t[st]=l.current,To(t.nodeType===8?t.parentNode:t),jt(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof o=="function"){var a=o;o=function(){var c=Br(d);a.call(c)}}var d=Wl(t,0,!1,null,null,!1,!1,"",ma);return t._reactRootContainer=d,t[st]=d.current,To(t.nodeType===8?t.parentNode:t),jt(function(){ai(e,d,n,o)}),d}function fi(t,e,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var a=r;r=function(){var d=Br(l);a.call(d)}}ai(e,l,t,r)}else l=Ag(n,e,t,r,o);return Br(l)}qc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=to(e.pendingLanes);n!==0&&(pl(e,n|1),Ee(e,j()),!(V&6)&&(Un=j()+500,Ut()))}break;case 13:jt(function(){var o=lt(t,1);if(o!==null){var r=ge();Je(o,t,1,r)}}),Ol(t,1)}};hl=function(t){if(t.tag===13){var e=lt(t,134217728);if(e!==null){var n=ge();Je(e,t,134217728,n)}Ol(t,134217728)}};Bc=function(t){if(t.tag===13){var e=Rt(t),n=lt(t,e);if(n!==null){var o=ge();Je(n,t,e,o)}Ol(t,e)}};zc=function(){return q};$c=function(t,e){var n=q;try{return q=t,e()}finally{q=n}};cs=function(t,e,n){switch(e){case"input":if(rs(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=ni(o);if(!r)throw Error(w(90));Cc(o),rs(o,r)}}}break;case"textarea":Tc(t,n);break;case"select":e=n.value,e!=null&&Cn(t,!!n.multiple,e,!1)}};Rc=Bl;Mc=jt;var Pg={usingClientEntryPoint:!1,Events:[Lo,fn,ni,Pc,kc,Bl]},Zn={findFiberByHostInstance:zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kg={bundleType:Zn.bundleType,version:Zn.version,rendererPackageName:Zn.rendererPackageName,rendererConfig:Zn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dc(t),t===null?null:t.stateNode},findFiberByHostInstance:Zn.findFiberByHostInstance||wg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tr.isDisabled&&tr.supportsFiber)try{br=tr.inject(kg),Ze=tr}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pg;Me.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kl(e))throw Error(w(200));return Ig(t,e,null,n)};Me.createRoot=function(t,e){if(!Kl(t))throw Error(w(299));var n=!1,o="",r=fp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Wl(t,1,!1,null,null,n,!1,o,r),t[st]=e.current,To(t.nodeType===8?t.parentNode:t),new Yl(e)};Me.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(w(188)):(t=Object.keys(t).join(","),Error(w(268,t)));return t=Dc(e),t=t===null?null:t.stateNode,t};Me.flushSync=function(t){return jt(t)};Me.hydrate=function(t,e,n){if(!ci(e))throw Error(w(200));return fi(null,t,e,!0,n)};Me.hydrateRoot=function(t,e,n){if(!Kl(t))throw Error(w(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",l=fp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=cp(e,null,t,1,n??null,r,!1,i,l),t[st]=e.current,To(t),o)for(t=0;t<o.length;t++)n=o[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new di(e)};Me.render=function(t,e,n){if(!ci(e))throw Error(w(200));return fi(null,t,e,!1,n)};Me.unmountComponentAtNode=function(t){if(!ci(t))throw Error(w(40));return t._reactRootContainer?(jt(function(){fi(null,null,t,!1,function(){t._reactRootContainer=null,t[st]=null})}),!0):!1};Me.unstable_batchedUpdates=Bl;Me.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!ci(n))throw Error(w(200));if(t==null||t._reactInternals===void 0)throw Error(w(38));return fi(t,e,n,!1,o)};Me.version="18.3.1-next-f1338f8080-20240426";function pp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pp)}catch(t){console.error(t)}}pp(),fc.exports=Me;var Rg=fc.exports,hp,ga=Rg;hp=ga.createRoot,ga.hydrateRoot;const Mg=({type:t,className:e=""})=>{const n={vectorEffect:"non-scaling-stroke",className:"stroke-red-400/60"},o=()=>{switch(t){case"tian":return E.jsxs(E.Fragment,{children:[E.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",strokeDasharray:"4 2",strokeWidth:"0.5",...n}),E.jsx("line",{x1:"50",y1:"0",x2:"50",y2:"100",strokeDasharray:"4 2",strokeWidth:"0.5",...n})]});case"mi":return E.jsxs(E.Fragment,{children:[E.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",strokeDasharray:"4 2",strokeWidth:"0.5",...n}),E.jsx("line",{x1:"50",y1:"0",x2:"50",y2:"100",strokeDasharray:"4 2",strokeWidth:"0.5",...n}),E.jsx("line",{x1:"0",y1:"0",x2:"100",y2:"100",strokeDasharray:"4 2",strokeWidth:"0.5",...n}),E.jsx("line",{x1:"100",y1:"0",x2:"0",y2:"100",strokeDasharray:"4 2",strokeWidth:"0.5",...n})]});case"hui":return E.jsxs(E.Fragment,{children:[E.jsx("rect",{x:"25",y:"25",width:"50",height:"50",fill:"none",strokeWidth:"0.5",...n}),E.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",strokeDasharray:"2 2",strokeWidth:"0.5",className:"stroke-red-300/40"}),E.jsx("line",{x1:"50",y1:"0",x2:"50",y2:"100",strokeDasharray:"2 2",strokeWidth:"0.5",className:"stroke-red-300/40"})]});case"square":default:return null}};return E.jsxs("svg",{viewBox:"0 0 100 100",className:`w-full h-full absolute inset-0 pointer-events-none ${e}`,children:[E.jsx("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none",strokeWidth:"1.5",className:"stroke-red-500",vectorEffect:"non-scaling-stroke"}),o()]})},xg=({char:t,gridType:e,onShowStrokeOrder:n})=>{const o=()=>{n&&t.trim()&&n(t)};return E.jsxs("div",{className:"relative aspect-square w-full max-w-[140px] mx-auto bg-white shadow-sm select-none break-inside-avoid group print:shadow-none print:border-none cursor-pointer hover:ring-4 hover:ring-indigo-100 transition-all rounded-sm",onClick:o,title:"",children:[E.jsx(Mg,{type:e}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-kaiti font-bold text-[6rem] leading-none pointer-events-none text-gray-800",children:t}),E.jsx("div",{className:"absolute inset-0 bg-indigo-500/0 group-hover:bg-indigo-500/5 transition-colors duration-300 print:hidden flex items-end justify-center pb-2",children:E.jsx("span",{className:"text-xs text-indigo-400 opacity-0 group-hover:opacity-100 font-medium bg-white/80 px-2 py-0.5 rounded-full",children:""})})]})};var Wi,Oi,Yi;const en=typeof window>"u"?global:window,mp=en.performance&&(()=>en.performance.now())||(()=>Date.now()),Ki=((Wi=en.requestAnimationFrame)===null||Wi===void 0?void 0:Wi.bind(en))||(t=>setTimeout(()=>t(mp()),1e3/60)),ya=((Oi=en.cancelAnimationFrame)===null||Oi===void 0?void 0:Oi.bind(en))||clearTimeout;function zr(t){return t[t.length-1]}const Ql=(t,e)=>t<0?e+t:t,Ng=(t,e)=>t[Ql(e,t.length)];function gp(t,e){const n={...t};for(const o in e){const r=t[o],i=e[o];r!==i&&(r&&i&&typeof r=="object"&&typeof i=="object"&&!Array.isArray(i)?n[o]=gp(r,i):n[o]=i)}return n}function Dg(t,e){const n=t.split("."),o={};let r=o;for(let i=0;i<n.length;i++){const l=i===n.length-1?e:{};r[n[i]]=l,r=l}return o}let va=0;function yp(){return va++,va}function hr(t){return t.reduce((n,o)=>o+n,0)/t.length}function tt(t){const e=t.toUpperCase().trim();if(/^#([A-F0-9]{3}){1,2}$/.test(e)){let o=e.substring(1).split("");o.length===3&&(o=[o[0],o[0],o[1],o[1],o[2],o[2]]);const r=`${o.join("")}`;return{r:parseInt(r.slice(0,2),16),g:parseInt(r.slice(2,4),16),b:parseInt(r.slice(4,6),16),a:1}}const n=e.match(/^RGBA?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d*\.?\d+))?\)$/);if(n)return{r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10),a:parseFloat(n[4]||1,10)};throw new Error(`Invalid color: ${t}`)}const Lg=t=>t.replace(/^\s+/,"").replace(/\s+$/,"");function pi(t,e){const n={};for(let o=0;o<e;o++)n[o]=t;return n}function Ug(t,e){const n={};for(let o=0;o<t;o++)n[o]=e(o);return n}const Qi=((Yi=en.navigator)===null||Yi===void 0?void 0:Yi.userAgent)||"",Fg=Qi.indexOf("MSIE ")>0||Qi.indexOf("Trident/")>0||Qi.indexOf("Edge/")>0,vp=()=>{};class Vg{constructor(e,n,o=vp){this._mutationChains=[],this._onStateChange=o,this.state={options:{drawingFadeDuration:n.drawingFadeDuration,drawingWidth:n.drawingWidth,drawingColor:tt(n.drawingColor),strokeColor:tt(n.strokeColor),outlineColor:tt(n.outlineColor),radicalColor:tt(n.radicalColor||n.strokeColor),highlightColor:tt(n.highlightColor)},character:{main:{opacity:n.showCharacter?1:0,strokes:{}},outline:{opacity:n.showOutline?1:0,strokes:{}},highlight:{opacity:1,strokes:{}}},userStrokes:null};for(let r=0;r<e.strokes.length;r++)this.state.character.main.strokes[r]={opacity:1,displayPortion:1},this.state.character.outline.strokes[r]={opacity:1,displayPortion:1},this.state.character.highlight.strokes[r]={opacity:0,displayPortion:1}}overwriteOnStateChange(e){this._onStateChange=e}updateState(e){const n=gp(this.state,e);this._onStateChange(n,this.state),this.state=n}run(e,n={}){const o=e.map(r=>r.scope);return this.cancelMutations(o),new Promise(r=>{const i={_isActive:!0,_index:0,_resolve:r,_mutations:e,_loop:n.loop,_scopes:o};this._mutationChains.push(i),this._run(i)})}_run(e){if(!e._isActive)return;const n=e._mutations;if(e._index>=n.length)if(e._loop)e._index=0;else{e._isActive=!1,this._mutationChains=this._mutationChains.filter(r=>r!==e),e._resolve({canceled:!1});return}e._mutations[e._index].run(this).then(()=>{e._isActive&&(e._index++,this._run(e))})}_getActiveMutations(){return this._mutationChains.map(e=>e._mutations[e._index])}pauseAll(){this._getActiveMutations().forEach(e=>e.pause())}resumeAll(){this._getActiveMutations().forEach(e=>e.resume())}cancelMutations(e){for(const n of this._mutationChains)for(const o of n._scopes)for(const r of e)(o.startsWith(r)||r.startsWith(o))&&this._cancelMutationChain(n)}cancelAll(){this.cancelMutations([""])}_cancelMutationChain(e){var n;e._isActive=!1;for(let o=e._index;o<e._mutations.length;o++)e._mutations[o].cancel(this);(n=e._resolve)===null||n===void 0||n.call(e,{canceled:!0}),this._mutationChains=this._mutationChains.filter(o=>o!==e)}}const tn=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),$r=t=>Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)),Xe=(t,e)=>$r(tn(t,e)),Gg=(t,e)=>t.x===e.x&&t.y===e.y,Js=(t,e=1)=>{const n=e*10;return{x:Math.round(n*t.x)/n,y:Math.round(n*t.y)/n}},Xl=t=>{let e=t[0];return t.slice(1).reduce((o,r)=>{const i=Xe(r,e);return e=r,o+i},0)},Hg=(t,e)=>(t.x*e.x+t.y*e.y)/$r(t)/$r(e),Zl=(t,e,n)=>{const o=tn(e,t),r=n/$r(o);return{x:e.x+r*o.x,y:e.y+r*o.y}},qg=(t,e)=>{const n=t.length>=e.length?t:e,o=t.length>=e.length?e:t,r=(l,a,d,c)=>{if(l===0&&a===0)return Xe(n[0],o[0]);if(l>0&&a===0)return Math.max(d[0],Xe(n[l],o[0]));const f=c[c.length-1];return l===0&&a>0?Math.max(f,Xe(n[0],o[a])):Math.max(Math.min(d[a],d[a-1],f),Xe(n[l],o[a]))};let i=[];for(let l=0;l<n.length;l++){const a=[];for(let d=0;d<o.length;d++)a.push(r(l,d,i,a));i=a}return i[o.length-1]},Bg=(t,e=.05)=>{const n=t.slice(0,1);for(const o of t.slice(1)){const r=n[n.length-1],i=Xe(o,r);if(i>e){const l=Math.ceil(i/e),a=i/l;for(let d=0;d<l;d++)n.push(Zl(o,r,-1*a*(d+1)))}else n.push(o)}return n},zg=(t,e=30)=>{const o=Xl(t)/(e-1),r=[t[0]],i=zr(t),l=t.slice(1);for(let a=0;a<e-2;a++){let d=zr(r),c=o,f=!1;for(;!f;){const p=Xe(d,l[0]);if(p<c)c-=p,d=l.shift();else{const h=Zl(d,l[0],c-p);r.push(h),f=!0}}}return r.push(i),r},_a=t=>{const e=zg(t),n=hr(e.map(d=>d.x)),o=hr(e.map(d=>d.y)),r={x:n,y:o},i=e.map(d=>tn(d,r)),l=Math.sqrt(hr([Math.pow(i[0].x,2)+Math.pow(i[0].y,2),Math.pow(zr(i).x,2)+Math.pow(zr(i).y,2)])),a=i.map(d=>({x:d.x/l,y:d.y/l}));return Bg(a)},$g=(t,e)=>t.map(n=>({x:Math.cos(e)*n.x-Math.sin(e)*n.y,y:Math.sin(e)*n.x+Math.cos(e)*n.y})),Jg=t=>{if(t.length<3)return t;const e=[t[0],t[1]];return t.slice(2).forEach(n=>{const o=e.length,r=tn(n,e[o-1]),i=tn(e[o-1],e[o-2]);r.y*i.x-r.x*i.y===0&&e.pop(),e.push(n)}),e};function bl(t,e=!1){const n=Js(t[0]),o=t.slice(1);let r=`M ${n.x} ${n.y}`;return o.forEach(i=>{const l=Js(i);r+=` L ${l.x} ${l.y}`}),e&&(r+="Z"),r}const _p=(t,e)=>{const n=Jg(t);if(n.length<2)return n;const o=n[1],r=n[0],i=Zl(o,r,e),l=n.slice(1);return l.unshift(i),l};class Wg{constructor(e,n,o,r=!1){this.path=e,this.points=n,this.strokeNum=o,this.isInRadical=r}getStartingPoint(){return this.points[0]}getEndingPoint(){return this.points[this.points.length-1]}getLength(){return Xl(this.points)}getVectors(){let e=this.points[0];return this.points.slice(1).map(o=>{const r=tn(o,e);return e=o,r})}getDistance(e){const n=this.points.map(o=>Xe(o,e));return Math.min(...n)}getAverageDistance(e){return e.reduce((o,r)=>o+this.getDistance(r),0)/e.length}}class Og{constructor(e,n){this.symbol=e,this.strokes=n}}function Yg({radStrokes:t,strokes:e,medians:n}){const o=r=>{var i;return((i=t==null?void 0:t.indexOf(r))!==null&&i!==void 0?i:-1)>=0};return e.map((r,i)=>{const l=n[i].map(a=>{const[d,c]=a;return{x:d,y:c}});return new Wg(r,l,i,o(i))})}function Kg(t,e){const n=Yg(e);return new Og(t,n)}const Qg=[{x:0,y:-124},{x:1024,y:900}],[Jr,Cp]=Qg,Ca=Cp.x-Jr.x,Sa=Cp.y-Jr.y;class Ta{constructor(e){const{padding:n,width:o,height:r}=e;this.padding=n,this.width=o,this.height=r;const i=o-2*n,l=r-2*n,a=i/Ca,d=l/Sa;this.scale=Math.min(a,d);const c=n+(i-this.scale*Ca)/2,f=n+(l-this.scale*Sa)/2;this.xOffset=-1*Jr.x*this.scale+c,this.yOffset=-1*Jr.y*this.scale+f}convertExternalPoint(e){const n=(e.x-this.xOffset)/this.scale,o=(this.height-this.yOffset-e.y)/this.scale;return{x:n,y:o}}}const Xg=0,Ea=250,Zg=.4,bg=.35;function jg(t,e,n,o={}){const r=e.strokes,i=ry(t.points);if(i.length<2)return{isMatch:!1,meta:{isStrokeBackwards:!1}};const{isMatch:l,meta:a,avgDist:d}=mr(i,r[n],o);if(!l)return{isMatch:l,meta:a};const c=r.slice(n+1);let f=d;for(let p=0;p<c.length;p++){const{isMatch:h,avgDist:m}=mr(i,c[p],{...o,checkBackwards:!1});h&&m<f&&(f=m)}if(f<d){const p=.6*(f+d)/(2*d),{isMatch:h,meta:m}=mr(i,r[n],{...o,leniency:(o.leniency||1)*p});return{isMatch:h,meta:m}}return{isMatch:l,meta:a}}const ey=(t,e,n)=>{const o=Xe(e.getStartingPoint(),t[0]),r=Xe(e.getEndingPoint(),t[t.length-1]);return o<=Ea*n&&r<=Ea*n},ty=t=>{const e=[];let n=t[0];return t.slice(1).forEach(o=>{e.push(tn(o,n)),n=o}),e},ny=(t,e)=>{const n=ty(t),o=e.getVectors(),r=n.map(l=>{const a=o.map(d=>Hg(d,l));return Math.max(...a)});return hr(r)>Xg},oy=(t,e,n)=>n*(Xl(t)+25)/(e.getLength()+25)>=bg,ry=t=>{if(t.length<2)return t;const[e,...n]=t,o=[e];for(const r of n)Gg(r,o[o.length-1])||o.push(r);return o},iy=[Math.PI/16,Math.PI/32,0,-1*Math.PI/32,-1*Math.PI/16],sy=(t,e,n)=>{const o=_a(t),r=_a(e);let i=1/0;return iy.forEach(l=>{const a=qg(o,$g(r,l));a<i&&(i=a)}),i<=Zg*n},mr=(t,e,n)=>{const{leniency:o=1,isOutlineVisible:r=!1,checkBackwards:i=!0,averageDistanceThreshold:l=350}=n,a=e.getAverageDistance(t),d=r||e.strokeNum>0?.5:1,c=a<=l*d*o;if(!c)return{isMatch:!1,avgDist:a,meta:{isStrokeBackwards:!1}};const f=ey(t,e,o),p=ny(t,e),h=sy(t,e.points,o),m=oy(t,e,o),_=c&&f&&p&&h&&m;return i&&!_&&mr([...t].reverse(),e,{...n,checkBackwards:!1}).isMatch?{isMatch:_,avgDist:a,meta:{isStrokeBackwards:!0}}:{isMatch:_,avgDist:a,meta:{isStrokeBackwards:!1}}};class ly{constructor(e,n,o){this.id=e,this.points=[n],this.externalPoints=[o]}appendPoint(e,n){this.points.push(e),this.externalPoints.push(n)}}class uy{constructor(e){this._duration=e,this._startTime=null,this._paused=!1,this.scope=`delay.${e}`}run(){return this._startTime=mp(),this._runningPromise=new Promise(e=>{this._resolve=e,this._timeout=setTimeout(()=>this.cancel(),this._duration)}),this._runningPromise}pause(){if(this._paused)return;const e=performance.now()-(this._startTime||0);this._duration=Math.max(0,this._duration-e),clearTimeout(this._timeout),this._paused=!0}resume(){this._paused&&(this._startTime=performance.now(),this._timeout=setTimeout(()=>this.cancel(),this._duration),this._paused=!1)}cancel(){clearTimeout(this._timeout),this._resolve&&this._resolve(),this._resolve=void 0}}class Y{constructor(e,n,o={}){this._tick=r=>{if(this._startPauseTime!==null)return;const i=Math.min(1,(r-this._startTime-this._pausedDuration)/this._duration);if(i===1)this._renderState.updateState(this._values),this._frameHandle=void 0,this.cancel(this._renderState);else{const l=ay(i),a=Sp(this._startState,this._values,l);this._renderState.updateState(a),this._frameHandle=Ki(this._tick)}},this.scope=e,this._valuesOrCallable=n,this._duration=o.duration||0,this._force=o.force,this._pausedDuration=0,this._startPauseTime=null}run(e){return this._values||this._inflateValues(e),this._duration===0&&e.updateState(this._values),this._duration===0||Tp(e.state,this._values)?Promise.resolve():(this._renderState=e,this._startState=e.state,this._startTime=performance.now(),this._frameHandle=Ki(this._tick),new Promise(n=>{this._resolve=n}))}_inflateValues(e){let n=this._valuesOrCallable;typeof this._valuesOrCallable=="function"&&(n=this._valuesOrCallable(e.state)),this._values=Dg(this.scope,n)}pause(){this._startPauseTime===null&&(this._frameHandle&&ya(this._frameHandle),this._startPauseTime=performance.now())}resume(){this._startPauseTime!==null&&(this._frameHandle=Ki(this._tick),this._pausedDuration+=performance.now()-this._startPauseTime,this._startPauseTime=null)}cancel(e){var n;(n=this._resolve)===null||n===void 0||n.call(this),this._resolve=void 0,ya(this._frameHandle||-1),this._frameHandle=void 0,this._force&&(this._values||this._inflateValues(e),e.updateState(this._values))}}Y.Delay=uy;function Sp(t,e,n){const o={};for(const r in e){const i=e[r],l=t==null?void 0:t[r];typeof l=="number"&&typeof i=="number"&&i>=0?o[r]=n*(i-l)+l:o[r]=Sp(l,i,n)}return o}function Tp(t,e){for(const n in e){const o=e[n],r=t==null?void 0:t[n];if(o>=0){if(o!==r)return!1}else if(!Tp(r,o))return!1}return!0}const ay=t=>-Math.cos(t*Math.PI)/2+.5,Ep=(t,e,n)=>[new Y(`character.${t}.strokes`,pi({opacity:1,displayPortion:1},e.strokes.length),{duration:n,force:!0})],Ws=(t,e,n)=>[new Y(`character.${t}`,{opacity:1,strokes:pi({opacity:1,displayPortion:1},e.strokes.length)},{duration:n,force:!0})],Fn=(t,e,n)=>[new Y(`character.${t}.opacity`,0,{duration:n,force:!0}),...Ep(t,e,0)],Ia=(t,e,n)=>[new Y(`options.${t}`,e,{duration:n})],Ip=(t,e,n)=>{const o=t.strokeNum,r=(t.getLength()+600)/(3*n);return[new Y("options.highlightColor",e),new Y("character.highlight",{opacity:1,strokes:{[o]:{displayPortion:0,opacity:0}}}),new Y(`character.highlight.strokes.${o}`,{displayPortion:1,opacity:1},{duration:r}),new Y(`character.highlight.strokes.${o}.opacity`,0,{duration:r,force:!0})]},wp=(t,e,n)=>{const o=e.strokeNum,r=(e.getLength()+600)/(3*n);return[new Y(`character.${t}`,{opacity:1,strokes:{[o]:{displayPortion:0,opacity:1}}}),new Y(`character.${t}.strokes.${o}.displayPortion`,1,{duration:r})]},dy=(t,e,n,o)=>{const r=l=>{const a=l.character[t],d={opacity:1,strokes:{}};for(let c=0;c<e.strokes.length;c++)d.strokes[c]={opacity:a.opacity*a.strokes[c].opacity};return d},i=e.strokes[n];return[new Y(`character.${t}`,r),...wp(t,i,o)]},cy=(t,e,n)=>[new Y(`character.${t}.strokes.${e}`,{displayPortion:1,opacity:1},{duration:n,force:!0})],Ap=(t,e,n,o,r)=>{let i=Fn(t,e,n);return i=i.concat(Ep(t,e,0)),i.push(new Y(`character.${t}`,{opacity:1,strokes:pi({opacity:0},e.strokes.length)},{force:!0})),e.strokes.forEach((l,a)=>{a>0&&i.push(new Y.Delay(r)),i=i.concat(wp(t,l,o))}),i},fy=(t,e,n,o,r,i)=>{const l=Ap(t,e,n,o,r);return l.push(new Y.Delay(i)),l},py=(t,e,n)=>[...Fn("main",t,e),new Y("character.highlight",{opacity:1,strokes:pi({opacity:0},t.strokes.length)},{force:!0}),new Y("character.main",{opacity:1,strokes:Ug(t.strokes.length,o=>({opacity:o<n?1:0}))},{force:!0})],hy=(t,e)=>[new Y("quiz.activeUserStrokeId",t,{force:!0}),new Y(`userStrokes.${t}`,{points:[e],opacity:1},{force:!0})],my=(t,e)=>[new Y(`userStrokes.${t}.points`,e,{force:!0})],gy=(t,e)=>[new Y(`userStrokes.${t}.opacity`,0,{duration:e})],wa=t=>(t==null?void 0:t.map(e=>new Y(`userStrokes.${e}`,null,{force:!0})))||[],yy=(t,e,n)=>[new Y("options.highlightColor",e),...Fn("highlight",t),...Ws("highlight",t,n/2),...Fn("highlight",t,n/2)],vy=t=>({pathString:bl(t.externalPoints),points:t.points.map(e=>Js(e))});class _y{constructor(e,n,o){this._currentStrokeIndex=0,this._mistakesOnStroke=0,this._totalMistakes=0,this._character=e,this._renderState=n,this._isActive=!1,this._positioner=o}startQuiz(e){this._userStrokesIds&&this._renderState.run(wa(this._userStrokesIds)),this._userStrokesIds=[],this._isActive=!0,this._options=e;const n=Ql(e.quizStartStrokeNum,this._character.strokes.length);return this._currentStrokeIndex=Math.min(n,this._character.strokes.length-1),this._mistakesOnStroke=0,this._totalMistakes=0,this._renderState.run(py(this._character,e.strokeFadeDuration,this._currentStrokeIndex))}startUserStroke(e){var n;if(!this._isActive)return null;if(this._userStroke)return this.endUserStroke();const o=this._positioner.convertExternalPoint(e),r=yp();return this._userStroke=new ly(r,o,e),(n=this._userStrokesIds)===null||n===void 0||n.push(r),this._renderState.run(hy(r,o))}continueUserStroke(e){if(!this._userStroke)return Promise.resolve();const n=this._positioner.convertExternalPoint(e);this._userStroke.appendPoint(n,e);const o=this._userStroke.points.slice(0);return this._renderState.run(my(this._userStroke.id,o))}setPositioner(e){this._positioner=e}endUserStroke(){var e;if(!this._userStroke)return;if(this._renderState.run(gy(this._userStroke.id,(e=this._options.drawingFadeDuration)!==null&&e!==void 0?e:300)),this._userStroke.points.length===1){this._userStroke=void 0;return}const{acceptBackwardsStrokes:n,markStrokeCorrectAfterMisses:o}=this._options,r=this._getCurrentStroke(),{isMatch:i,meta:l}=jg(this._userStroke,this._character,this._currentStrokeIndex,{isOutlineVisible:this._renderState.state.character.outline.opacity>0,leniency:this._options.leniency,averageDistanceThreshold:this._options.averageDistanceThreshold}),a=o&&this._mistakesOnStroke+1>=o;if(i||a||l.isStrokeBackwards&&n)this._handleSuccess(l);else{this._handleFailure(l);const{showHintAfterMisses:c,highlightColor:f,strokeHighlightSpeed:p}=this._options;c!==!1&&this._mistakesOnStroke>=c&&this._renderState.run(Ip(r,tt(f),p))}this._userStroke=void 0}cancel(){this._isActive=!1,this._userStrokesIds&&this._renderState.run(wa(this._userStrokesIds))}_getStrokeData({isCorrect:e,meta:n}){return{character:this._character.symbol,strokeNum:this._currentStrokeIndex,mistakesOnStroke:this._mistakesOnStroke,totalMistakes:this._totalMistakes,strokesRemaining:this._character.strokes.length-this._currentStrokeIndex-(e?1:0),drawnPath:vy(this._userStroke),isBackwards:n.isStrokeBackwards}}nextStroke(){if(!this._options)return;const{strokes:e,symbol:n}=this._character,{onComplete:o,highlightOnComplete:r,strokeFadeDuration:i,highlightCompleteColor:l,highlightColor:a,strokeHighlightDuration:d}=this._options;let c=cy("main",this._currentStrokeIndex,i);this._mistakesOnStroke=0,this._currentStrokeIndex+=1,this._currentStrokeIndex===e.length&&(this._isActive=!1,o==null||o({character:n,totalMistakes:this._totalMistakes}),r&&(c=c.concat(yy(this._character,tt(l||a),(d||0)*2)))),this._renderState.run(c)}_handleSuccess(e){if(!this._options)return;const{onCorrectStroke:n}=this._options;n==null||n({...this._getStrokeData({isCorrect:!0,meta:e})}),this.nextStroke()}_handleFailure(e){var n,o;this._mistakesOnStroke+=1,this._totalMistakes+=1,(n=(o=this._options).onMistake)===null||n===void 0||n.call(o,this._getStrokeData({isCorrect:!1,meta:e}))}_getCurrentStroke(){return this._character.strokes[this._currentStrokeIndex]}}function Yt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ct(t,e,n){t.setAttributeNS(null,e,n)}function Wr(t,e){Object.keys(e).forEach(n=>Ct(t,n,e[n]))}function Cy(t){let e="";return window.location&&window.location.href&&(e=window.location.href.replace(/#[^#]*$/,"").replace(/"/gi,"%22")),`url("${e}#${t}")`}function Pp(t){var e;t==null||(e=t.parentNode)===null||e===void 0||e.removeChild(t)}class Kt{constructor(e){this.stroke=e,this._pathLength=e.getLength()+Kt.STROKE_WIDTH/2}_getStrokeDashoffset(e){return this._pathLength*.999*(1-e)}_getColor({strokeColor:e,radicalColor:n}){return n&&this.stroke.isInRadical?n:e}}Kt.STROKE_WIDTH=200;const Aa=200;class Sy extends Kt{constructor(e){super(e),this._oldProps=void 0}mount(e){this._animationPath=Yt("path"),this._clip=Yt("clipPath"),this._strokePath=Yt("path");const n=`mask-${yp()}`;Ct(this._clip,"id",n),Ct(this._strokePath,"d",this.stroke.path),this._animationPath.style.opacity="0",Ct(this._animationPath,"clip-path",Cy(n));const o=_p(this.stroke.points,Aa/2);return Ct(this._animationPath,"d",bl(o)),Wr(this._animationPath,{stroke:"#FFFFFF","stroke-width":Aa.toString(),fill:"none","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":`${this._pathLength},${this._pathLength}`}),this._clip.appendChild(this._strokePath),e.defs.appendChild(this._clip),e.svg.appendChild(this._animationPath),this}render(e){var n,o;if(e===this._oldProps||!this._animationPath)return;e.displayPortion!==((n=this._oldProps)===null||n===void 0?void 0:n.displayPortion)&&(this._animationPath.style.strokeDashoffset=this._getStrokeDashoffset(e.displayPortion).toString());const r=this._getColor(e);if(!this._oldProps||r!==this._getColor(this._oldProps)){const{r:i,g:l,b:a,a:d}=r;Wr(this._animationPath,{stroke:`rgba(${i},${l},${a},${d})`})}e.opacity!==((o=this._oldProps)===null||o===void 0?void 0:o.opacity)&&(this._animationPath.style.opacity=e.opacity.toString()),this._oldProps=e}}class Xi{constructor(e){this._oldProps=void 0,this._strokeRenderers=e.strokes.map(n=>new Sy(n))}mount(e){const n=e.createSubRenderTarget();this._group=n.svg,this._strokeRenderers.forEach(o=>{o.mount(n)})}render(e){var n,o;if(e===this._oldProps||!this._group)return;const{opacity:r,strokes:i,strokeColor:l,radicalColor:a=null}=e;if(r!==((n=this._oldProps)===null||n===void 0?void 0:n.opacity)&&(this._group.style.opacity=r.toString(),!Fg)){var d;r===0?this._group.style.display="none":((d=this._oldProps)===null||d===void 0?void 0:d.opacity)===0&&this._group.style.removeProperty("display")}const c=!this._oldProps||l!==this._oldProps.strokeColor||a!==this._oldProps.radicalColor;if(c||i!==((o=this._oldProps)===null||o===void 0?void 0:o.strokes))for(let p=0;p<this._strokeRenderers.length;p++){var f;!c&&(f=this._oldProps)!==null&&f!==void 0&&f.strokes&&i[p]===this._oldProps.strokes[p]||this._strokeRenderers[p].render({strokeColor:l,radicalColor:a,opacity:i[p].opacity,displayPortion:i[p].displayPortion})}this._oldProps=e}}class Ty{constructor(){this._oldProps=void 0}mount(e){this._path=Yt("path"),e.svg.appendChild(this._path)}render(e){var n,o,r,i;if(!(!this._path||e===this._oldProps)){if(e.strokeColor!==((n=this._oldProps)===null||n===void 0?void 0:n.strokeColor)||e.strokeWidth!==((o=this._oldProps)===null||o===void 0?void 0:o.strokeWidth)){const{r:l,g:a,b:d,a:c}=e.strokeColor;Wr(this._path,{fill:"none",stroke:`rgba(${l},${a},${d},${c})`,"stroke-width":e.strokeWidth.toString(),"stroke-linecap":"round","stroke-linejoin":"round"})}e.opacity!==((r=this._oldProps)===null||r===void 0?void 0:r.opacity)&&Ct(this._path,"opacity",e.opacity.toString()),e.points!==((i=this._oldProps)===null||i===void 0?void 0:i.points)&&Ct(this._path,"d",bl(e.points)),this._oldProps=e}}destroy(){Pp(this._path)}}class Ey{constructor(e,n){this._character=e,this._positioner=n,this._mainCharRenderer=new Xi(e),this._outlineCharRenderer=new Xi(e),this._highlightCharRenderer=new Xi(e),this._userStrokeRenderers={}}mount(e){const n=e.createSubRenderTarget(),o=n.svg,{xOffset:r,yOffset:i,height:l,scale:a}=this._positioner;Ct(o,"transform",`translate(${r}, ${l-i}) scale(${a}, ${-1*a})`),this._outlineCharRenderer.mount(n),this._mainCharRenderer.mount(n),this._highlightCharRenderer.mount(n),this._positionedTarget=n}render(e){const{main:n,outline:o,highlight:r}=e.character,{outlineColor:i,radicalColor:l,highlightColor:a,strokeColor:d,drawingWidth:c,drawingColor:f}=e.options;this._outlineCharRenderer.render({opacity:o.opacity,strokes:o.strokes,strokeColor:i}),this._mainCharRenderer.render({opacity:n.opacity,strokes:n.strokes,strokeColor:d,radicalColor:l}),this._highlightCharRenderer.render({opacity:r.opacity,strokes:r.strokes,strokeColor:a});const p=e.userStrokes||{};for(const m in this._userStrokeRenderers)if(!p[m]){var h;(h=this._userStrokeRenderers[m])===null||h===void 0||h.destroy(),delete this._userStrokeRenderers[m]}for(const m in p){const _=p[m];if(!_)continue;const C={strokeWidth:c,strokeColor:f,..._};(()=>{if(this._userStrokeRenderers[m])return this._userStrokeRenderers[m];const y=new Ty;return y.mount(this._positionedTarget),this._userStrokeRenderers[m]=y,y})().render(C)}}destroy(){Pp(this._positionedTarget.svg),this._positionedTarget.defs.innerHTML=""}}class kp{constructor(e){this.node=e}addPointerStartListener(e){this.node.addEventListener("mousedown",n=>{e(this._eventify(n,this._getMousePoint))}),this.node.addEventListener("touchstart",n=>{e(this._eventify(n,this._getTouchPoint))})}addPointerMoveListener(e){this.node.addEventListener("mousemove",n=>{e(this._eventify(n,this._getMousePoint))}),this.node.addEventListener("touchmove",n=>{e(this._eventify(n,this._getTouchPoint))})}addPointerEndListener(e){document.addEventListener("mouseup",e),document.addEventListener("touchend",e)}getBoundingClientRect(){return this.node.getBoundingClientRect()}updateDimensions(e,n){this.node.setAttribute("width",`${e}`),this.node.setAttribute("height",`${n}`)}_eventify(e,n){return{getPoint:()=>n.call(this,e),preventDefault:()=>e.preventDefault()}}_getMousePoint(e){const{left:n,top:o}=this.getBoundingClientRect(),r=e.clientX-n,i=e.clientY-o;return{x:r,y:i}}_getTouchPoint(e){const{left:n,top:o}=this.getBoundingClientRect(),r=e.touches[0].clientX-n,i=e.touches[0].clientY-o;return{x:r,y:i}}}class Or extends kp{constructor(e,n){super(e),this.svg=e,this.defs=n,"createSVGPoint"in e&&(this._pt=e.createSVGPoint())}static init(e,n="100%",o="100%"){const r=typeof e=="string"?document.getElementById(e):e;if(!r)throw new Error(`HanziWriter target element not found: ${e}`);const i=r.nodeName.toUpperCase(),l=(()=>{if(i==="SVG"||i==="G")return r;{const d=Yt("svg");return r.appendChild(d),d}})();Wr(l,{width:n,height:o});const a=Yt("defs");return l.appendChild(a),new Or(l,a)}createSubRenderTarget(){const e=Yt("g");return this.svg.appendChild(e),new Or(e,this.defs)}_getMousePoint(e){if(this._pt&&(this._pt.x=e.clientX,this._pt.y=e.clientY,"getScreenCTM"in this.node)){var n;const o=this._pt.matrixTransform((n=this.node.getScreenCTM())===null||n===void 0?void 0:n.inverse());return{x:o.x,y:o.y}}return super._getMousePoint.call(this,e)}_getTouchPoint(e){if(this._pt&&(this._pt.x=e.touches[0].clientX,this._pt.y=e.touches[0].clientY,"getScreenCTM"in this.node)){var n;const o=this._pt.matrixTransform((n=this.node.getScreenCTM())===null||n===void 0?void 0:n.inverse());return{x:o.x,y:o.y}}return super._getTouchPoint(e)}}var Iy={HanziWriterRenderer:Ey,createRenderTarget:Or.init};const Rp=(t,e)=>{t.beginPath();const n=e[0],o=e.slice(1);t.moveTo(n.x,n.y);for(const r of o)t.lineTo(r.x,r.y);t.stroke()},wy=t=>{const e=t.split(/(^|\s+)(?=[A-Z])/).filter(o=>o!==" "),n=[o=>o.beginPath()];for(const o of e){const[r,...i]=o.split(/\s+/),l=i.map(a=>parseFloat(a));r==="M"?n.push(a=>a.moveTo(...l)):r==="L"?n.push(a=>a.lineTo(...l)):r==="C"?n.push(a=>a.bezierCurveTo(...l)):r==="Q"&&n.push(a=>a.quadraticCurveTo(...l))}return o=>n.forEach(r=>r(o))};class Ay extends Kt{constructor(e,n=!0){super(e),n&&Path2D?this._path2D=new Path2D(this.stroke.path):this._pathCmd=wy(this.stroke.path),this._extendedMaskPoints=_p(this.stroke.points,Kt.STROKE_WIDTH/2)}render(e,n){if(n.opacity<.05)return;if(e.save(),this._path2D)e.clip(this._path2D);else{var o;(o=this._pathCmd)===null||o===void 0||o.call(this,e),e.globalAlpha=0,e.stroke(),e.clip()}const{r,g:i,b:l,a}=this._getColor(n),d=a===1?`rgb(${r},${i},${l})`:`rgb(${r},${i},${l},${a})`,c=this._getStrokeDashoffset(n.displayPortion);e.globalAlpha=n.opacity,e.strokeStyle=d,e.fillStyle=d,e.lineWidth=Kt.STROKE_WIDTH,e.lineCap="round",e.lineJoin="round",e.setLineDash([this._pathLength,this._pathLength],c),e.lineDashOffset=c,Rp(e,this._extendedMaskPoints),e.restore()}}class Zi{constructor(e){this._strokeRenderers=e.strokes.map(n=>new Ay(n))}render(e,n){if(n.opacity<.05)return;const{opacity:o,strokeColor:r,radicalColor:i,strokes:l}=n;for(let a=0;a<this._strokeRenderers.length;a++)this._strokeRenderers[a].render(e,{strokeColor:r,radicalColor:i,opacity:l[a].opacity*o,displayPortion:l[a].displayPortion||0})}}function Py(t,e){if(e.opacity<.05)return;const{opacity:n,strokeWidth:o,strokeColor:r,points:i}=e,{r:l,g:a,b:d,a:c}=r;t.save(),t.globalAlpha=n,t.lineWidth=o,t.strokeStyle=`rgba(${l},${a},${d},${c})`,t.lineCap="round",t.lineJoin="round",Rp(t,i),t.restore()}class ky{constructor(e,n){this.destroy=vp,this._character=e,this._positioner=n,this._mainCharRenderer=new Zi(e),this._outlineCharRenderer=new Zi(e),this._highlightCharRenderer=new Zi(e)}mount(e){this._target=e}_animationFrame(e){const{width:n,height:o,scale:r,xOffset:i,yOffset:l}=this._positioner,a=this._target.getContext();a.clearRect(0,0,n,o),a.save(),a.translate(i,o-l),a.transform(1,0,0,-1,0,0),a.scale(r,r),e(a),a.restore(),a.draw&&a.draw()}render(e){const{outline:n,main:o,highlight:r}=e.character,{outlineColor:i,strokeColor:l,radicalColor:a,highlightColor:d,drawingColor:c,drawingWidth:f}=e.options;this._animationFrame(p=>{this._outlineCharRenderer.render(p,{opacity:n.opacity,strokes:n.strokes,strokeColor:i}),this._mainCharRenderer.render(p,{opacity:o.opacity,strokes:o.strokes,strokeColor:l,radicalColor:a}),this._highlightCharRenderer.render(p,{opacity:r.opacity,strokes:r.strokes,strokeColor:d});const h=e.userStrokes||{};for(const m in h){const _=h[m];if(_){const C={strokeWidth:f,strokeColor:c,..._};Py(p,C)}}})}}class jl extends kp{constructor(e){super(e)}static init(e,n="100%",o="100%"){const r=typeof e=="string"?document.getElementById(e):e;if(!r)throw new Error(`HanziWriter target element not found: ${e}`);const i=r.nodeName.toUpperCase(),l=(()=>{if(i==="CANVAS")return r;const a=document.createElement("canvas");return r.appendChild(a),a})();return l.setAttribute("width",n),l.setAttribute("height",o),new jl(l)}getContext(){return this.node.getContext("2d")}}var Ry={HanziWriterRenderer:ky,createRenderTarget:jl.init};const My="2.0.1",xy=t=>`https://cdn.jsdelivr.net/npm/hanzi-writer-data@${My}/${t}.json`,Ny=(t,e,n)=>{const o=new XMLHttpRequest;o.overrideMimeType&&o.overrideMimeType("application/json"),o.open("GET",xy(t),!0),o.onerror=r=>{n(o,r)},o.onreadystatechange=()=>{o.readyState===4&&(o.status===200?e(JSON.parse(o.responseText)):o.status!==0&&n&&n(o))},o.send(null)},Pa={charDataLoader:Ny,onLoadCharDataError:null,onLoadCharDataSuccess:null,showOutline:!0,showCharacter:!0,renderer:"svg",width:0,height:0,padding:20,strokeAnimationSpeed:1,strokeFadeDuration:400,strokeHighlightDuration:200,strokeHighlightSpeed:2,delayBetweenStrokes:1e3,delayBetweenLoops:2e3,strokeColor:"#555",radicalColor:null,highlightColor:"#AAF",outlineColor:"#DDD",drawingColor:"#333",leniency:1,showHintAfterMisses:3,highlightOnComplete:!0,highlightCompleteColor:null,markStrokeCorrectAfterMisses:!1,acceptBackwardsStrokes:!1,quizStartStrokeNum:0,averageDistanceThreshold:350,drawingFadeDuration:300,drawingWidth:4,strokeWidth:2,outlineWidth:2,rendererOverride:{}};class ka{constructor(e){this._loadCounter=0,this._isLoading=!1,this.loadingFailed=!1,this._options=e}_debouncedLoad(e,n){const o=l=>{if(n===this._loadCounter){var a;(a=this._resolve)===null||a===void 0||a.call(this,l)}},r=l=>{if(n===this._loadCounter){var a;(a=this._reject)===null||a===void 0||a.call(this,l)}},i=this._options.charDataLoader(e,o,r);i&&("then"in i?i.then(o).catch(r):o(i))}_setupLoadingPromise(){return new Promise((e,n)=>{this._resolve=e,this._reject=n}).then(e=>{var n,o;return this._isLoading=!1,(n=(o=this._options).onLoadCharDataSuccess)===null||n===void 0||n.call(o,e),e}).catch(e=>{if(this._isLoading=!1,this.loadingFailed=!0,this._options.onLoadCharDataError){this._options.onLoadCharDataError(e);return}if(e instanceof Error)throw e;const n=new Error(`Failed to load char data for ${this._loadingChar}`);throw n.reason=e,n})}loadCharData(e){this._loadingChar=e;const n=this._setupLoadingPromise();return this.loadingFailed=!1,this._isLoading=!0,this._loadCounter++,this._debouncedLoad(e,this._loadCounter),n}}class St{constructor(e,n={}){const{HanziWriterRenderer:o,createRenderTarget:r}=n.renderer==="canvas"?Ry:Iy,i=n.rendererOverride||{};this._renderer={HanziWriterRenderer:i.HanziWriterRenderer||o,createRenderTarget:i.createRenderTarget||r},this.target=this._renderer.createRenderTarget(e,n.width,n.height),this._options=this._assignOptions(n),this._loadingManager=new ka(this._options),this._setupListeners()}static create(e,n,o){const r=new St(e,o);return r.setCharacter(n),r}static loadCharacterData(e,n={}){const o=(()=>{const{_loadingManager:r,_loadingOptions:i}=St;return(r==null?void 0:r._loadingChar)===e&&i===n?r:new ka({...Pa,...n})})();return St._loadingManager=o,St._loadingOptions=n,o.loadCharData(e)}static getScalingTransform(e,n,o=0){const r=new Ta({width:e,height:n,padding:o});return{x:r.xOffset,y:r.yOffset,scale:r.scale,transform:Lg(`
        translate(${r.xOffset}, ${r.height-r.yOffset})
        scale(${r.scale}, ${-1*r.scale})
      `).replace(/\s+/g," ")}}showCharacter(e={}){return this._options.showCharacter=!0,this._withData(()=>{var n;return(n=this._renderState)===null||n===void 0?void 0:n.run(Ws("main",this._character,typeof e.duration=="number"?e.duration:this._options.strokeFadeDuration)).then(o=>{var r;return(r=e.onComplete)===null||r===void 0||r.call(e,o),o})})}hideCharacter(e={}){return this._options.showCharacter=!1,this._withData(()=>{var n;return(n=this._renderState)===null||n===void 0?void 0:n.run(Fn("main",this._character,typeof e.duration=="number"?e.duration:this._options.strokeFadeDuration)).then(o=>{var r;return(r=e.onComplete)===null||r===void 0||r.call(e,o),o})})}animateCharacter(e={}){return this.cancelQuiz(),this._withData(()=>{var n;return(n=this._renderState)===null||n===void 0?void 0:n.run(Ap("main",this._character,this._options.strokeFadeDuration,this._options.strokeAnimationSpeed,this._options.delayBetweenStrokes)).then(o=>{var r;return(r=e.onComplete)===null||r===void 0||r.call(e,o),o})})}animateStroke(e,n={}){return this.cancelQuiz(),this._withData(()=>{var o;return(o=this._renderState)===null||o===void 0?void 0:o.run(dy("main",this._character,Ql(e,this._character.strokes.length),this._options.strokeAnimationSpeed)).then(r=>{var i;return(i=n.onComplete)===null||i===void 0||i.call(n,r),r})})}highlightStroke(e,n={}){const o=()=>{if(!(!this._character||!this._renderState))return this._renderState.run(Ip(Ng(this._character.strokes,e),tt(this._options.highlightColor),this._options.strokeHighlightSpeed)).then(r=>{var i;return(i=n.onComplete)===null||i===void 0||i.call(n,r),r})};return this._withData(o)}async loopCharacterAnimation(){return this.cancelQuiz(),this._withData(()=>this._renderState.run(fy("main",this._character,this._options.strokeFadeDuration,this._options.strokeAnimationSpeed,this._options.delayBetweenStrokes,this._options.delayBetweenLoops),{loop:!0}))}pauseAnimation(){return this._withData(()=>{var e;return(e=this._renderState)===null||e===void 0?void 0:e.pauseAll()})}resumeAnimation(){return this._withData(()=>{var e;return(e=this._renderState)===null||e===void 0?void 0:e.resumeAll()})}showOutline(e={}){return this._options.showOutline=!0,this._withData(()=>{var n;return(n=this._renderState)===null||n===void 0?void 0:n.run(Ws("outline",this._character,typeof e.duration=="number"?e.duration:this._options.strokeFadeDuration)).then(o=>{var r;return(r=e.onComplete)===null||r===void 0||r.call(e,o),o})})}hideOutline(e={}){return this._options.showOutline=!1,this._withData(()=>{var n;return(n=this._renderState)===null||n===void 0?void 0:n.run(Fn("outline",this._character,typeof e.duration=="number"?e.duration:this._options.strokeFadeDuration)).then(o=>{var r;return(r=e.onComplete)===null||r===void 0||r.call(e,o),o})})}updateDimensions({width:e,height:n,padding:o}){if(e!==void 0&&(this._options.width=e),n!==void 0&&(this._options.height=n),o!==void 0&&(this._options.padding=o),this.target.updateDimensions(this._options.width,this._options.height),this._character&&this._renderState&&this._hanziWriterRenderer&&this._positioner){this._hanziWriterRenderer.destroy();const r=this._initAndMountHanziWriterRenderer(this._character);this._renderState.overwriteOnStateChange(i=>r.render(i)),r.render(this._renderState.state),this._quiz&&this._quiz.setPositioner(this._positioner)}}updateColor(e,n,o={}){var r;let i=[];const l=e==="radicalColor"&&!n?this._options.strokeColor:n,a=tt(l);this._options[e]=n;const d=(r=o.duration)!==null&&r!==void 0?r:this._options.strokeFadeDuration;return i=i.concat(Ia(e,a,d)),e==="radicalColor"&&!n&&(i=i.concat(Ia(e,null,0))),this._withData(()=>{var c;return(c=this._renderState)===null||c===void 0?void 0:c.run(i).then(f=>{var p;return(p=o.onComplete)===null||p===void 0||p.call(o,f),f})})}quiz(e={}){return this._withData(async()=>{this._character&&this._renderState&&this._positioner&&(this.cancelQuiz(),this._quiz=new _y(this._character,this._renderState,this._positioner),this._options={...this._options,...e},this._quiz.startQuiz(this._options))})}skipQuizStroke(){this._quiz&&this._quiz.nextStroke()}cancelQuiz(){this._quiz&&(this._quiz.cancel(),this._quiz=void 0)}setCharacter(e){return this.cancelQuiz(),this._char=e,this._hanziWriterRenderer&&this._hanziWriterRenderer.destroy(),this._renderState&&this._renderState.cancelAll(),this._hanziWriterRenderer=null,this._withDataPromise=this._loadingManager.loadCharData(e).then(n=>{if(!n||this._loadingManager.loadingFailed)return;this._character=Kg(e,n),this._renderState=new Vg(this._character,this._options,r=>o.render(r));const o=this._initAndMountHanziWriterRenderer(this._character);o.render(this._renderState.state)}),this._withDataPromise}_initAndMountHanziWriterRenderer(e){const{width:n,height:o,padding:r}=this._options;this._positioner=new Ta({width:n,height:o,padding:r});const i=new this._renderer.HanziWriterRenderer(e,this._positioner);return i.mount(this.target),this._hanziWriterRenderer=i,i}async getCharacterData(){if(!this._char)throw new Error("setCharacter() must be called before calling getCharacterData()");return await this._withData(()=>this._character)}_assignOptions(e){const n={...Pa,...e};return e.strokeAnimationDuration&&!e.strokeAnimationSpeed&&(n.strokeAnimationSpeed=500/e.strokeAnimationDuration),e.strokeHighlightDuration&&!e.strokeHighlightSpeed&&(n.strokeHighlightSpeed=500/n.strokeHighlightDuration),e.highlightCompleteColor||(n.highlightCompleteColor=n.highlightColor),this._fillWidthAndHeight(n)}_fillWidthAndHeight(e){const n={...e};if(n.width&&!n.height)n.height=n.width;else if(n.height&&!n.width)n.width=n.height;else if(!n.width&&!n.height){const{width:o,height:r}=this.target.getBoundingClientRect(),i=Math.min(o,r);n.width=i,n.height=i}return n}_withData(e){if(this._loadingManager.loadingFailed)throw Error("Failed to load character data. Call setCharacter and try again.");return this._withDataPromise?this._withDataPromise.then(()=>{if(!this._loadingManager.loadingFailed)return e()}):Promise.resolve().then(e)}_setupListeners(){this.target.addPointerStartListener(e=>{this._quiz&&(e.preventDefault(),this._quiz.startUserStroke(e.getPoint()))}),this.target.addPointerMoveListener(e=>{this._quiz&&(e.preventDefault(),this._quiz.continueUserStroke(e.getPoint()))}),this.target.addPointerEndListener(()=>{var e;(e=this._quiz)===null||e===void 0||e.endUserStroke()})}}St._loadingManager=null;St._loadingOptions=null;const Dy=({char:t,onClose:e})=>{const n=Ae.useRef(null),o=Ae.useRef(null),r=Ae.useRef(0),[i,l]=Ae.useState("..."),a=()=>{const f=o.current;f&&(l(""),f.hideCharacter(),f.showOutline(),f.quiz({onMistake:function(p){l(" ")},onCorrectStroke:function(p){l(`(${p.strokeNum+1}/${r.current}) `)},onComplete:function(p){l(" ")}}))},d=()=>{const f=o.current;if(f){try{f.cancelQuiz()}catch{}l("..."),f.showCharacter(),f.animateCharacter({onComplete:()=>{setTimeout(()=>{a()},800)}})}};Ae.useEffect(()=>{if(n.current){const f=St.create(n.current,t,{width:260,height:260,padding:20,showOutline:!0,strokeAnimationSpeed:1,delayBetweenStrokes:200,drawingWidth:40,strokeColor:"#333",outlineColor:"#d4d4d8",onLoadCharData:p=>{r.current=p.strokes.length}});o.current=f,d()}return()=>{if(o.current)try{o.current.cancelQuiz()}catch{}}},[t]);const c=f=>{f.target===f.currentTarget&&e()};return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:c,children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full overflow-hidden flex flex-col animate-pop-in",children:[E.jsxs("div",{className:"bg-indigo-600 px-4 py-3 flex justify-between items-center",children:[E.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[E.jsx("span",{children:""})," "]}),E.jsx("button",{onClick:e,className:"text-indigo-100 hover:text-white hover:bg-indigo-500/50 rounded-full p-1 transition-colors",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsxs("div",{className:"p-6 flex flex-col items-center gap-4 bg-slate-50",children:[E.jsxs("div",{className:"relative bg-white rounded-xl shadow-inner border border-slate-200",children:[E.jsxs("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 w-full h-full pointer-events-none opacity-30",children:[E.jsx("line",{x1:"0",y1:"0",x2:"100",y2:"100",stroke:"#e2e8f0",strokeWidth:"0.8",strokeDasharray:"4 2"}),E.jsx("line",{x1:"100",y1:"0",x2:"0",y2:"100",stroke:"#e2e8f0",strokeWidth:"0.8",strokeDasharray:"4 2"}),E.jsx("line",{x1:"50",y1:"0",x2:"50",y2:"100",stroke:"#e2e8f0",strokeWidth:"0.8",strokeDasharray:"4 2"}),E.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",stroke:"#e2e8f0",strokeWidth:"0.8",strokeDasharray:"4 2"})]}),E.jsx("div",{ref:n,className:"cursor-crosshair touch-none"})]}),E.jsxs("div",{className:"text-center space-y-1",children:[E.jsx("p",{className:`text-lg font-bold ${i.includes("")?"text-green-600":i.includes("")?"text-orange-500":"text-indigo-600"}`,children:i}),E.jsx("p",{className:"text-xs text-slate-400",children:i.includes("")?"":""})]})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 flex justify-between items-center bg-white",children:[E.jsxs("button",{onClick:d,className:"text-sm text-slate-500 hover:text-indigo-600 flex items-center gap-1 px-3 py-1.5 rounded-md hover:bg-slate-50 transition-colors",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),""]}),E.jsx("button",{onClick:e,className:"bg-indigo-600 text-white px-5 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors shadow-sm",children:""})]})]})})},Ly=[{value:"tian",label:""},{value:"mi",label:""},{value:"hui",label:""},{value:"square",label:""}],Ra=["","","","","","",""];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Uy,Fy;function Vy(){return{geminiUrl:Uy,vertexUrl:Fy}}function Gy(t,e,n,o){var r,i;if(!(t!=null&&t.baseUrl)){const l=Vy();return e?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ct{}function k(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function u(t,e,n){for(let i=0;i<e.length-1;i++){const l=e[i];if(l.endsWith("[]")){const a=l.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[a])){const d=t[a];if(Array.isArray(n))for(let c=0;c<d.length;c++){const f=d[c];u(f,e.slice(i+1),n[c])}else for(const c of d)u(c,e.slice(i+1),n)}return}else if(l.endsWith("[0]")){const a=l.slice(0,-3);a in t||(t[a]=[{}]);const d=t[a];u(d[0],e.slice(i+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function s(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const r=e[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const l=t[i];return Array.isArray(l)?l.map(a=>s(a,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function Hy(t,e){for(const[n,o]of Object.entries(e)){const r=n.split("."),i=o.split("."),l=new Set;let a=-1;for(let d=0;d<r.length;d++)if(r[d]==="*"){a=d;break}if(a!==-1&&i.length>a)for(let d=a;d<i.length;d++){const c=i[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&l.add(c)}Os(t,r,i,0,l)}}function Os(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const i=e[o];if(i.endsWith("[]")){const l=i.slice(0,-2),a=t;if(l in a&&Array.isArray(a[l]))for(const d of a[l])Os(d,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,a=Object.keys(l).filter(c=>!c.startsWith("_")&&!r.has(c)),d={};for(const c of a)d[c]=l[c];for(const[c,f]of Object.entries(d)){const p=[];for(const h of n.slice(o))h==="*"?p.push(c):p.push(h);u(l,p,f)}for(const c of a)delete l[c]}}else{const l=t;i in l&&Os(l[i],e,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eu(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qy(t){const e={},n=s(t,["operationName"]);n!=null&&u(e,["operationName"],n);const o=s(t,["resourceName"]);return o!=null&&u(e,["_url","resourceName"],o),e}function By(t){const e={},n=s(t,["name"]);n!=null&&u(e,["name"],n);const o=s(t,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(t,["done"]);r!=null&&u(e,["done"],r);const i=s(t,["error"]);i!=null&&u(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&u(e,["response"],$y(l)),e}function zy(t){const e={},n=s(t,["name"]);n!=null&&u(e,["name"],n);const o=s(t,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(t,["done"]);r!=null&&u(e,["done"],r);const i=s(t,["error"]);i!=null&&u(e,["error"],i);const l=s(t,["response"]);return l!=null&&u(e,["response"],Jy(l)),e}function $y(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Wy(l))),u(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function Jy(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Oy(l))),u(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function Wy(t){const e={},n=s(t,["video"]);return n!=null&&u(e,["video"],by(n)),e}function Oy(t){const e={},n=s(t,["_self"]);return n!=null&&u(e,["video"],jy(n)),e}function Yy(t){const e={},n=s(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function Ky(t){const e={},n=s(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function Qy(t){const e={},n=s(t,["name"]);n!=null&&u(e,["name"],n);const o=s(t,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(t,["done"]);r!=null&&u(e,["done"],r);const i=s(t,["error"]);i!=null&&u(e,["error"],i);const l=s(t,["response"]);return l!=null&&u(e,["response"],Xy(l)),e}function Xy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&u(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function Mp(t){const e={},n=s(t,["name"]);n!=null&&u(e,["name"],n);const o=s(t,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(t,["done"]);r!=null&&u(e,["done"],r);const i=s(t,["error"]);i!=null&&u(e,["error"],i);const l=s(t,["response"]);return l!=null&&u(e,["response"],Zy(l)),e}function Zy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&u(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function by(t){const e={},n=s(t,["uri"]);n!=null&&u(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&u(e,["videoBytes"],eu(o));const r=s(t,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function jy(t){const e={},n=s(t,["gcsUri"]);n!=null&&u(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],eu(o));const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ma;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ma||(Ma={}));var xa;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(xa||(xa={}));var Na;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Na||(Na={}));var Tt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Tt||(Tt={}));var Da;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Da||(Da={}));var La;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(La||(La={}));var Ua;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Ua||(Ua={}));var Fa;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Fa||(Fa={}));var Va;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Va||(Va={}));var Ga;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Ga||(Ga={}));var Ha;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ha||(Ha={}));var qa;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(qa||(qa={}));var Ba;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ba||(Ba={}));var za;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(za||(za={}));var $a;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})($a||($a={}));var Ja;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ja||(Ja={}));var Wa;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Wa||(Wa={}));var Oa;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Oa||(Oa={}));var Ya;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ya||(Ya={}));var Yr;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Yr||(Yr={}));var Ka;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ka||(Ka={}));var Qa;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Qa||(Qa={}));var Xa;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Xa||(Xa={}));var Ys;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ys||(Ys={}));var Za;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Za||(Za={}));var ba;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ba||(ba={}));var ja;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ja||(ja={}));var ed;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ed||(ed={}));var td;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(td||(td={}));var nd;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(nd||(nd={}));var od;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(od||(od={}));var rd;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(rd||(rd={}));var id;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(id||(id={}));var sd;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(sd||(sd={}));var ld;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ld||(ld={}));var ud;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ud||(ud={}));var ad;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ad||(ad={}));var dd;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dd||(dd={}));var cd;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(cd||(cd={}));var fd;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(fd||(fd={}));var pd;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(pd||(pd={}));var hd;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(hd||(hd={}));var md;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(md||(md={}));var gd;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(gd||(gd={}));var yd;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(yd||(yd={}));var vd;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(vd||(vd={}));var _d;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(_d||(_d={}));var Cd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Cd||(Cd={}));var Sd;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Sd||(Sd={}));var Td;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Td||(Td={}));var Ed;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Ed||(Ed={}));var Id;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Id||(Id={}));var wd;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wd||(wd={}));var Ad;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Ad||(Ad={}));var _n;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(_n||(_n={}));class Ks{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class bn{get text(){var e,n,o,r,i,l,a,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const p=[];for(const h of(d=(a=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)!==null&&d!==void 0?d:[]){for(const[m,_]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(_!==null||_!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,c+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,n,o,r,i,l,a,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const p of(d=(a=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)!==null&&d!==void 0?d:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,o,r,i,l,a,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(a=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,o,r,i,l,a,d,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(a=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,o,r,i,l,a,d,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(a=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class Pd{}class kd{}class ev{}class tv{}class nv{}class ov{}class Rd{}class Md{}class xd{}class rv{}class Kr{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Kr;let r;const i=e;return n?r=zy(i):r=By(i),Object.assign(o,r),o}}class Nd{}class Dd{}class Ld{}class iv{}class sv{}class lv{}class tu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new tu,i=Qy(e);return Object.assign(o,i),o}}class uv{}class av{}class dv{}class Ud{}class cv{get text(){var e,n,o;let r="",i=!1;const l=[];for(const a of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,c]of Object.entries(a))d!=="text"&&d!=="thought"&&c!==null&&l.push(d);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;i=!0,r+=a.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="";const i=[];for(const l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[a,d]of Object.entries(l))a!=="inlineData"&&d!==null&&i.push(a);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class fv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class nu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new nu,i=Mp(e);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function xp(t,e){const n=G(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Np(t){return Array.isArray(t)?t.map(e=>Qr(e)):[Qr(t)]}function Qr(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Dp(t){const e=Qr(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Lp(t){const e=Qr(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Fd(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Up(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Fd(e)):[Fd(t)]}function Qs(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Vd(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Gd(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function pe(t){if(t==null)throw new Error("ContentUnion is required");return Qs(t)?t:{role:"user",parts:Up(t)}}function ou(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=pe(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=pe(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>pe(n)):[pe(e)]}function Fe(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Vd(t)||Gd(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pe(t)]}const e=[],n=[],o=Qs(t[0]);for(const r of t){const i=Qs(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(Vd(r)||Gd(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:Up(n)}),e}function pv(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Tt).includes(n[0].toUpperCase())?n[0].toUpperCase():Tt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(Tt).includes(o.toUpperCase())?o.toUpperCase():Tt.TYPE_UNSPECIFIED})}}function An(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&pv(t.type,e);for(const[l,a]of Object.entries(t))if(a!=null)if(l=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Tt).includes(a.toUpperCase())?a.toUpperCase():Tt.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=An(a);else if(o.includes(l)){const d=[];for(const c of a){if(c.type=="null"){e.nullable=!0;continue}d.push(An(c))}e[l]=d}else if(r.includes(l)){const d={};for(const[c,f]of Object.entries(a))d[c]=An(f);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=a}return e}function ru(t){return An(t)}function iu(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function su(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function qn(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=An(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=An(e.response));return t}function Bn(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function hv(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function ft(t,e){if(typeof e!="string")throw new Error("name must be a string");return hv(t,e,"cachedContents")}function Fp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ft(t){return eu(t)}function mv(t){return t!=null&&typeof t=="object"&&"name"in t}function gv(t){return t!=null&&typeof t=="object"&&"video"in t}function yv(t){return t!=null&&typeof t=="object"&&"uri"in t}function Vp(t){var e;let n;if(mv(t)&&(n=t.name),!(yv(t)&&(n=t.uri,n===void 0))&&!(gv(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Gp(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Hp(t){for(const e of["models","tunedModels","publisherModels"])if(vv(t,e))return t[e];return[]}function vv(t,e){return t!==null&&typeof t=="object"&&e in t}function _v(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Cv(t,e={}){const n=[],o=new Set;for(const r of t){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=_v(r,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function qp(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Sv(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Bp(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function zn(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function zp(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tv(t){const e={},n=s(t,["responsesFile"]);n!=null&&u(e,["fileName"],n);const o=s(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>n_(l))),u(e,["inlinedResponses"],i)}const r=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["inlinedEmbedContentResponses"],i)}return e}function Ev(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&u(e,["format"],n);const o=s(t,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const r=s(t,["bigqueryDestination","outputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function Iv(t){const e={},n=s(t,["format"]);n!=null&&u(e,["predictionsFormat"],n);const o=s(t,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&u(e,["bigqueryDestination","outputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function gr(t){const e={},n=s(t,["name"]);n!=null&&u(e,["name"],n);const o=s(t,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const r=s(t,["metadata","state"]);r!=null&&u(e,["state"],zp(r));const i=s(t,["metadata","createTime"]);i!=null&&u(e,["createTime"],i);const l=s(t,["metadata","endTime"]);l!=null&&u(e,["endTime"],l);const a=s(t,["metadata","updateTime"]);a!=null&&u(e,["updateTime"],a);const d=s(t,["metadata","model"]);d!=null&&u(e,["model"],d);const c=s(t,["metadata","output"]);return c!=null&&u(e,["dest"],Tv(Bp(c))),e}function Xs(t){const e={},n=s(t,["name"]);n!=null&&u(e,["name"],n);const o=s(t,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(t,["state"]);r!=null&&u(e,["state"],zp(r));const i=s(t,["error"]);i!=null&&u(e,["error"],i);const l=s(t,["createTime"]);l!=null&&u(e,["createTime"],l);const a=s(t,["startTime"]);a!=null&&u(e,["startTime"],a);const d=s(t,["endTime"]);d!=null&&u(e,["endTime"],d);const c=s(t,["updateTime"]);c!=null&&u(e,["updateTime"],c);const f=s(t,["model"]);f!=null&&u(e,["model"],f);const p=s(t,["inputConfig"]);p!=null&&u(e,["src"],wv(p));const h=s(t,["outputConfig"]);h!=null&&u(e,["dest"],Ev(Bp(h)));const m=s(t,["completionStats"]);return m!=null&&u(e,["completionStats"],m),e}function wv(t){const e={},n=s(t,["instancesFormat"]);n!=null&&u(e,["format"],n);const o=s(t,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const r=s(t,["bigquerySource","inputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function Av(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&u(n,["fileName"],o);const r=s(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>t_(t,l))),u(n,["requests","requests"],i)}return n}function Pv(t){const e={},n=s(t,["format"]);n!=null&&u(e,["instancesFormat"],n);const o=s(t,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&u(e,["bigquerySource","inputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function kv(t){const e={},n=s(t,["data"]);if(n!=null&&u(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Rv(t,e){const n={},o=s(e,["name"]);return o!=null&&u(n,["_url","name"],zn(t,o)),n}function Mv(t,e){const n={},o=s(e,["name"]);return o!=null&&u(n,["_url","name"],zn(t,o)),n}function xv(t){const e={},n=s(t,["content"]);n!=null&&u(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],Nv(o));const r=s(t,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&u(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&u(e,["avgLogprobs"],l);const a=s(t,["groundingMetadata"]);a!=null&&u(e,["groundingMetadata"],a);const d=s(t,["index"]);d!=null&&u(e,["index"],d);const c=s(t,["logprobsResult"]);c!=null&&u(e,["logprobsResult"],c);const f=s(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),u(e,["safetyRatings"],h)}const p=s(t,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],p),e}function Nv(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["citations"],o)}return e}function $p(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>a_(i))),u(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&u(e,["role"],o),e}function Dv(t,e){const n={},o=s(t,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Lv(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=s(t,["dest"]);return e!==void 0&&r!=null&&u(e,["outputConfig"],Iv(Sv(r))),n}function Hd(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["src"]);r!=null&&u(n,["batch","inputConfig"],Av(t,qp(t,r)));const i=s(e,["config"]);return i!=null&&Dv(i,n),n}function Uv(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["model"],G(t,o));const r=s(e,["src"]);r!=null&&u(n,["inputConfig"],Pv(qp(t,r)));const i=s(e,["config"]);return i!=null&&Lv(i,n),n}function Fv(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&u(e,["batch","displayName"],o),n}function Vv(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["src"]);r!=null&&u(n,["batch","inputConfig"],Jv(t,r));const i=s(e,["config"]);return i!=null&&Fv(i,n),n}function Gv(t,e){const n={},o=s(e,["name"]);return o!=null&&u(n,["_url","name"],zn(t,o)),n}function Hv(t,e){const n={},o=s(e,["name"]);return o!=null&&u(n,["_url","name"],zn(t,o)),n}function qv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&u(e,["name"],o);const r=s(t,["done"]);r!=null&&u(e,["done"],r);const i=s(t,["error"]);return i!=null&&u(e,["error"],i),e}function Bv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&u(e,["name"],o);const r=s(t,["done"]);r!=null&&u(e,["done"],r);const i=s(t,["error"]);return i!=null&&u(e,["error"],i),e}function zv(t,e){const n={},o=s(e,["contents"]);if(o!=null){let i=ou(t,o);Array.isArray(i)&&(i=i.map(l=>l)),u(n,["requests[]","request","content"],i)}const r=s(e,["config"]);return r!=null&&(u(n,["_self"],$v(r,n)),Hy(n,{"requests[].*":"requests[].request.*"})),n}function $v(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&u(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Jv(t,e){const n={},o=s(e,["fileName"]);o!=null&&u(n,["file_name"],o);const r=s(e,["inlinedRequests"]);return r!=null&&u(n,["requests"],zv(t,r)),n}function Wv(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Ov(t){const e={},n=s(t,["id"]);n!=null&&u(e,["id"],n);const o=s(t,["args"]);o!=null&&u(e,["args"],o);const r=s(t,["name"]);if(r!=null&&u(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Yv(t){const e={},n=s(t,["mode"]);n!=null&&u(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&u(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Kv(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&u(n,["systemInstruction"],$p(pe(r)));const i=s(e,["temperature"]);i!=null&&u(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&u(o,["topP"],l);const a=s(e,["topK"]);a!=null&&u(o,["topK"],a);const d=s(e,["candidateCount"]);d!=null&&u(o,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&u(o,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&u(o,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&u(o,["logprobs"],h);const m=s(e,["presencePenalty"]);m!=null&&u(o,["presencePenalty"],m);const _=s(e,["frequencyPenalty"]);_!=null&&u(o,["frequencyPenalty"],_);const C=s(e,["seed"]);C!=null&&u(o,["seed"],C);const P=s(e,["responseMimeType"]);P!=null&&u(o,["responseMimeType"],P);const y=s(e,["responseSchema"]);y!=null&&u(o,["responseSchema"],ru(y));const g=s(e,["responseJsonSchema"]);if(g!=null&&u(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(e,["safetySettings"]);if(n!==void 0&&v!=null){let B=v;Array.isArray(B)&&(B=B.map(ae=>d_(ae))),u(n,["safetySettings"],B)}const S=s(e,["tools"]);if(n!==void 0&&S!=null){let B=Bn(S);Array.isArray(B)&&(B=B.map(ae=>f_(qn(ae)))),u(n,["tools"],B)}const T=s(e,["toolConfig"]);if(n!==void 0&&T!=null&&u(n,["toolConfig"],c_(T)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(e,["cachedContent"]);n!==void 0&&I!=null&&u(n,["cachedContent"],ft(t,I));const A=s(e,["responseModalities"]);A!=null&&u(o,["responseModalities"],A);const R=s(e,["mediaResolution"]);R!=null&&u(o,["mediaResolution"],R);const x=s(e,["speechConfig"]);if(x!=null&&u(o,["speechConfig"],iu(x)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=s(e,["thinkingConfig"]);N!=null&&u(o,["thinkingConfig"],N);const H=s(e,["imageConfig"]);return H!=null&&u(o,["imageConfig"],e_(H)),o}function Qv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>xv(c))),u(e,["candidates"],d)}const r=s(t,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&u(e,["responseId"],l);const a=s(t,["usageMetadata"]);return a!=null&&u(e,["usageMetadata"],a),e}function Xv(t,e){const n={},o=s(e,["name"]);return o!=null&&u(n,["_url","name"],zn(t,o)),n}function Zv(t,e){const n={},o=s(e,["name"]);return o!=null&&u(n,["_url","name"],zn(t,o)),n}function bv(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function jv(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function e_(t){const e={},n=s(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&u(e,["imageSize"],o),s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function t_(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["request","model"],G(t,o));const r=s(e,["contents"]);if(r!=null){let a=Fe(r);Array.isArray(a)&&(a=a.map(d=>$p(d))),u(n,["request","contents"],a)}const i=s(e,["metadata"]);i!=null&&u(n,["metadata"],i);const l=s(e,["config"]);return l!=null&&u(n,["request","generationConfig"],Kv(t,l,s(n,["request"],{}))),n}function n_(t){const e={},n=s(t,["response"]);n!=null&&u(e,["response"],Qv(n));const o=s(t,["error"]);return o!=null&&u(e,["error"],o),e}function o_(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);if(e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function r_(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&u(e,["_query","pageToken"],r);const i=s(t,["filter"]);return e!==void 0&&i!=null&&u(e,["_query","filter"],i),n}function i_(t){const e={},n=s(t,["config"]);return n!=null&&o_(n,e),e}function s_(t){const e={},n=s(t,["config"]);return n!=null&&r_(n,e),e}function l_(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>gr(l))),u(e,["batchJobs"],i)}return e}function u_(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Xs(l))),u(e,["batchJobs"],i)}return e}function a_(t){const e={},n=s(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&u(e,["fileData"],Wv(i));const l=s(t,["functionCall"]);l!=null&&u(e,["functionCall"],Ov(l));const a=s(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const d=s(t,["inlineData"]);d!=null&&u(e,["inlineData"],kv(d));const c=s(t,["text"]);c!=null&&u(e,["text"],c);const f=s(t,["thought"]);f!=null&&u(e,["thought"],f);const p=s(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function d_(t){const e={},n=s(t,["category"]);if(n!=null&&u(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function c_(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],Yv(n));const o=s(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],o),e}function f_(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&u(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&u(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=s(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],bv(a));const d=s(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],jv(d));const c=s(t,["urlContext"]);return c!=null&&u(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var at;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(at||(at={}));class rn{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p_ extends ct{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new rn(at.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Hd(this.apiClient,e),o=n._url,r=k("{model}:batchGenerateContent",o),a=n.batch.inputConfig.requests,d=a.requests,c=[];for(const f of d){const p=Object.assign({},f);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const m=p.request;m.systemInstruction=h,p.request=m}c.push(p)}return a.requests=c,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(e),l=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=Uv(this.apiClient,e);return a=k("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Xs(f))}else{const c=Hd(this.apiClient,e);return a=k("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>gr(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Vv(this.apiClient,e);return i=k("{model}:asyncBatchEmbedContent",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>gr(d))}}async get(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=Zv(this.apiClient,e);return a=k("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Xs(f))}else{const c=Xv(this.apiClient,e);return a=k("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>gr(f))}}async cancel(e){var n,o,r,i;let l="",a={};if(this.apiClient.isVertexAI()){const d=Mv(this.apiClient,e);l=k("batchPredictionJobs/{name}:cancel",d._url),a=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=Rv(this.apiClient,e);l=k("batches/{name}:cancel",d._url),a=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=s_(e);return a=k("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=u_(f),h=new Ud;return Object.assign(h,p),h})}else{const c=i_(e);return a=k("batches",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=l_(f),h=new Ud;return Object.assign(h,p),h})}}async delete(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=Hv(this.apiClient,e);return a=k("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Bv(f))}else{const c=Gv(this.apiClient,e);return a=k("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>qv(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h_(t){const e={},n=s(t,["data"]);if(n!=null&&u(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function qd(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>V_(i))),u(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&u(e,["role"],o),e}function m_(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let f=Fe(l);Array.isArray(f)&&(f=f.map(p=>qd(p))),u(e,["contents"],f)}const a=s(t,["systemInstruction"]);e!==void 0&&a!=null&&u(e,["systemInstruction"],qd(pe(a)));const d=s(t,["tools"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>H_(p))),u(e,["tools"],f)}const c=s(t,["toolConfig"]);if(e!==void 0&&c!=null&&u(e,["toolConfig"],G_(c)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function g_(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let p=Fe(l);Array.isArray(p)&&(p=p.map(h=>h)),u(e,["contents"],p)}const a=s(t,["systemInstruction"]);e!==void 0&&a!=null&&u(e,["systemInstruction"],pe(a));const d=s(t,["tools"]);if(e!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>q_(h))),u(e,["tools"],p)}const c=s(t,["toolConfig"]);e!==void 0&&c!=null&&u(e,["toolConfig"],c);const f=s(t,["kmsKeyName"]);return e!==void 0&&f!=null&&u(e,["encryption_spec","kmsKeyName"],f),n}function y_(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["model"],xp(t,o));const r=s(e,["config"]);return r!=null&&m_(r,n),n}function v_(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["model"],xp(t,o));const r=s(e,["config"]);return r!=null&&g_(r,n),n}function __(t,e){const n={},o=s(e,["name"]);return o!=null&&u(n,["_url","name"],ft(t,o)),n}function C_(t,e){const n={},o=s(e,["name"]);return o!=null&&u(n,["_url","name"],ft(t,o)),n}function S_(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function T_(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function E_(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function I_(t){const e={},n=s(t,["id"]);n!=null&&u(e,["id"],n);const o=s(t,["args"]);o!=null&&u(e,["args"],o);const r=s(t,["name"]);if(r!=null&&u(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function w_(t){const e={},n=s(t,["mode"]);n!=null&&u(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&u(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function A_(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&u(e,["description"],n);const o=s(t,["name"]);o!=null&&u(e,["name"],o);const r=s(t,["parameters"]);r!=null&&u(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&u(e,["response"],l);const a=s(t,["responseJsonSchema"]);return a!=null&&u(e,["responseJsonSchema"],a),e}function P_(t,e){const n={},o=s(e,["name"]);return o!=null&&u(n,["_url","name"],ft(t,o)),n}function k_(t,e){const n={},o=s(e,["name"]);return o!=null&&u(n,["_url","name"],ft(t,o)),n}function R_(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function M_(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function x_(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function N_(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function D_(t){const e={},n=s(t,["config"]);return n!=null&&x_(n,e),e}function L_(t){const e={},n=s(t,["config"]);return n!=null&&N_(n,e),e}function U_(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["cachedContents"],i)}return e}function F_(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["cachedContents"],i)}return e}function V_(t){const e={},n=s(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&u(e,["fileData"],E_(i));const l=s(t,["functionCall"]);l!=null&&u(e,["functionCall"],I_(l));const a=s(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const d=s(t,["inlineData"]);d!=null&&u(e,["inlineData"],h_(d));const c=s(t,["text"]);c!=null&&u(e,["text"],c);const f=s(t,["thought"]);f!=null&&u(e,["thought"],f);const p=s(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function G_(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],w_(n));const o=s(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],o),e}function H_(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&u(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&u(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=s(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],R_(a));const d=s(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],M_(d));const c=s(t,["urlContext"]);return c!=null&&u(e,["urlContext"],c),e}function q_(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>A_(h))),u(e,["functionDeclarations"],p)}const o=s(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const r=s(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const i=s(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&u(e,["codeExecution"],l);const a=s(t,["enterpriseWebSearch"]);a!=null&&u(e,["enterpriseWebSearch"],a);const d=s(t,["googleMaps"]);d!=null&&u(e,["googleMaps"],d);const c=s(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);const f=s(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function B_(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),n}function z_(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),n}function $_(t,e){const n={},o=s(e,["name"]);o!=null&&u(n,["_url","name"],ft(t,o));const r=s(e,["config"]);return r!=null&&B_(r,n),n}function J_(t,e){const n={},o=s(e,["name"]);o!=null&&u(n,["_url","name"],ft(t,o));const r=s(e,["config"]);return r!=null&&z_(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W_ extends ct{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new rn(at.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=v_(this.apiClient,e);return a=k("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=y_(this.apiClient,e);return a=k("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=k_(this.apiClient,e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=P_(this.apiClient,e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=C_(this.apiClient,e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=T_(f),h=new Dd;return Object.assign(h,p),h})}else{const c=__(this.apiClient,e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=S_(f),h=new Dd;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=J_(this.apiClient,e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=$_(this.apiClient,e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=L_(e);return a=k("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=F_(f),h=new Ld;return Object.assign(h,p),h})}else{const c=D_(e);return a=k("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=U_(f),h=new Ld;return Object.assign(h,p),h})}}}function Bd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function J(t){return this instanceof J?(this.v=t,this):new J(t)}function Pn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(m){return function(_){return Promise.resolve(_).then(m,p)}}function a(m,_){o[m]&&(r[m]=function(C){return new Promise(function(P,y){i.push([m,C,P,y])>1||d(m,C)})},_&&(r[m]=_(r[m])))}function d(m,_){try{c(o[m](_))}catch(C){h(i[0][3],C)}}function c(m){m.value instanceof J?Promise.resolve(m.value.v).then(f,p):h(i[0][2],m)}function f(m){d("next",m)}function p(m){d("throw",m)}function h(m,_){m(_),i.shift(),i.length&&d(i[0][0],i[0][1])}}function po(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Bd=="function"?Bd(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(l){return new Promise(function(a,d){l=t[i](l),r(a,d,l.done,l.value)})}}function r(i,l,a,d){Promise.resolve(d).then(function(c){i({value:c,done:a})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O_(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Jp(n)}function Jp(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Y_(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zd(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!Jp(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}class K_{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Q_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Q_{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),Y_(i)}async sendMessage(e){var n;await this.sendPromise;const o=pe(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,a;const d=await r,c=(l=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];f!=null&&(h=(a=f.slice(p))!==null&&a!==void 0?a:[]);const m=c?[c]:[];this.recordHistory(o,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=pe(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){const n=e?zd(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var o,r;return Pn(this,arguments,function*(){var l,a,d,c;const f=[];try{for(var p=!0,h=po(e),m;m=yield J(h.next()),l=m.done,!l;p=!0){c=m.value,p=!1;const _=c;if(O_(_)){const C=(r=(o=_.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;C!==void 0&&f.push(C)}yield yield J(_)}}catch(_){a={error:_}}finally{try{!p&&!l&&(d=h.return)&&(yield J(d.call(h)))}finally{if(a)throw a.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...zd(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hi extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,hi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X_(t){const e={},n=s(t,["file"]);return n!=null&&u(e,["file"],n),e}function Z_(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function b_(t){const e={},n=s(t,["name"]);return n!=null&&u(e,["_url","file"],Vp(n)),e}function j_(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function e0(t){const e={},n=s(t,["name"]);return n!=null&&u(e,["_url","file"],Vp(n)),e}function t0(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function n0(t){const e={},n=s(t,["config"]);return n!=null&&t0(n,e),e}function o0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r0 extends ct{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new rn(at.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=n0(e);return i=k("files",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=o0(d),f=new uv;return Object.assign(f,c),f})}}async createInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=X_(e);return i=k("upload/v1beta/files",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=Z_(d),f=new av;return Object.assign(f,c),f})}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=e0(e);return i=k("files/{file}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=b_(e);return i=k("files/{file}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=j_(d),f=new dv;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yr(t){const e={},n=s(t,["data"]);if(n!=null&&u(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function i0(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>S0(i))),u(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&u(e,["role"],o),e}function s0(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function l0(t){const e={},n=s(t,["id"]);n!=null&&u(e,["id"],n);const o=s(t,["args"]);o!=null&&u(e,["args"],o);const r=s(t,["name"]);if(r!=null&&u(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function u0(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&u(e,["description"],n);const o=s(t,["name"]);o!=null&&u(e,["name"],o);const r=s(t,["parameters"]);r!=null&&u(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&u(e,["response"],l);const a=s(t,["responseJsonSchema"]);return a!=null&&u(e,["responseJsonSchema"],a),e}function a0(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&u(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&u(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&u(e,["enableAffectiveDialog"],l);const a=s(t,["frequencyPenalty"]);a!=null&&u(e,["frequencyPenalty"],a);const d=s(t,["logprobs"]);d!=null&&u(e,["logprobs"],d);const c=s(t,["maxOutputTokens"]);c!=null&&u(e,["maxOutputTokens"],c);const f=s(t,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);const p=s(t,["presencePenalty"]);p!=null&&u(e,["presencePenalty"],p);const h=s(t,["responseLogprobs"]);h!=null&&u(e,["responseLogprobs"],h);const m=s(t,["responseMimeType"]);m!=null&&u(e,["responseMimeType"],m);const _=s(t,["responseModalities"]);_!=null&&u(e,["responseModalities"],_);const C=s(t,["responseSchema"]);C!=null&&u(e,["responseSchema"],C);const P=s(t,["routingConfig"]);P!=null&&u(e,["routingConfig"],P);const y=s(t,["seed"]);y!=null&&u(e,["seed"],y);const g=s(t,["speechConfig"]);g!=null&&u(e,["speechConfig"],Wp(g));const v=s(t,["stopSequences"]);v!=null&&u(e,["stopSequences"],v);const S=s(t,["temperature"]);S!=null&&u(e,["temperature"],S);const T=s(t,["thinkingConfig"]);T!=null&&u(e,["thinkingConfig"],T);const I=s(t,["topK"]);I!=null&&u(e,["topK"],I);const A=s(t,["topP"]);if(A!=null&&u(e,["topP"],A),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function d0(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function c0(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function f0(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topP"],l);const a=s(t,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const d=s(t,["maxOutputTokens"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","mediaResolution"],c);const f=s(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],su(p));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","thinkingConfig"],h);const m=s(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],m);const _=s(t,["systemInstruction"]);e!==void 0&&_!=null&&u(e,["setup","systemInstruction"],i0(pe(_)));const C=s(t,["tools"]);if(e!==void 0&&C!=null){let I=Bn(C);Array.isArray(I)&&(I=I.map(A=>E0(qn(A)))),u(e,["setup","tools"],I)}const P=s(t,["sessionResumption"]);e!==void 0&&P!=null&&u(e,["setup","sessionResumption"],T0(P));const y=s(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&u(e,["setup","outputAudioTranscription"],g);const v=s(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&u(e,["setup","realtimeInputConfig"],v);const S=s(t,["contextWindowCompression"]);e!==void 0&&S!=null&&u(e,["setup","contextWindowCompression"],S);const T=s(t,["proactivity"]);return e!==void 0&&T!=null&&u(e,["setup","proactivity"],T),n}function p0(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],a0(o));const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topP"],l);const a=s(t,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const d=s(t,["maxOutputTokens"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","mediaResolution"],c);const f=s(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],Wp(su(p)));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","thinkingConfig"],h);const m=s(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],m);const _=s(t,["systemInstruction"]);e!==void 0&&_!=null&&u(e,["setup","systemInstruction"],pe(_));const C=s(t,["tools"]);if(e!==void 0&&C!=null){let I=Bn(C);Array.isArray(I)&&(I=I.map(A=>I0(qn(A)))),u(e,["setup","tools"],I)}const P=s(t,["sessionResumption"]);e!==void 0&&P!=null&&u(e,["setup","sessionResumption"],P);const y=s(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&u(e,["setup","outputAudioTranscription"],g);const v=s(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&u(e,["setup","realtimeInputConfig"],v);const S=s(t,["contextWindowCompression"]);e!==void 0&&S!=null&&u(e,["setup","contextWindowCompression"],S);const T=s(t,["proactivity"]);return e!==void 0&&T!=null&&u(e,["setup","proactivity"],T),n}function h0(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["setup","model"],G(t,o));const r=s(e,["config"]);return r!=null&&u(n,["config"],f0(r,n)),n}function m0(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["setup","model"],G(t,o));const r=s(e,["config"]);return r!=null&&u(n,["config"],p0(r,n)),n}function g0(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&u(e,["musicGenerationConfig"],n),e}function y0(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["weightedPrompts"],o)}return e}function v0(t){const e={},n=s(t,["media"]);if(n!=null){let c=Np(n);Array.isArray(c)&&(c=c.map(f=>yr(f))),u(e,["mediaChunks"],c)}const o=s(t,["audio"]);o!=null&&u(e,["audio"],yr(Lp(o)));const r=s(t,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&u(e,["video"],yr(Dp(i)));const l=s(t,["text"]);l!=null&&u(e,["text"],l);const a=s(t,["activityStart"]);a!=null&&u(e,["activityStart"],a);const d=s(t,["activityEnd"]);return d!=null&&u(e,["activityEnd"],d),e}function _0(t){const e={},n=s(t,["media"]);if(n!=null){let c=Np(n);Array.isArray(c)&&(c=c.map(f=>f)),u(e,["mediaChunks"],c)}const o=s(t,["audio"]);o!=null&&u(e,["audio"],Lp(o));const r=s(t,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&u(e,["video"],Dp(i));const l=s(t,["text"]);l!=null&&u(e,["text"],l);const a=s(t,["activityStart"]);a!=null&&u(e,["activityStart"],a);const d=s(t,["activityEnd"]);return d!=null&&u(e,["activityEnd"],d),e}function C0(t){const e={},n=s(t,["setupComplete"]);n!=null&&u(e,["setupComplete"],n);const o=s(t,["serverContent"]);o!=null&&u(e,["serverContent"],o);const r=s(t,["toolCall"]);r!=null&&u(e,["toolCall"],r);const i=s(t,["toolCallCancellation"]);i!=null&&u(e,["toolCallCancellation"],i);const l=s(t,["usageMetadata"]);l!=null&&u(e,["usageMetadata"],w0(l));const a=s(t,["goAway"]);a!=null&&u(e,["goAway"],a);const d=s(t,["sessionResumptionUpdate"]);return d!=null&&u(e,["sessionResumptionUpdate"],d),e}function S0(t){const e={},n=s(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&u(e,["fileData"],s0(i));const l=s(t,["functionCall"]);l!=null&&u(e,["functionCall"],l0(l));const a=s(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const d=s(t,["inlineData"]);d!=null&&u(e,["inlineData"],yr(d));const c=s(t,["text"]);c!=null&&u(e,["text"],c);const f=s(t,["thought"]);f!=null&&u(e,["thought"],f);const p=s(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function T0(t){const e={},n=s(t,["handle"]);if(n!=null&&u(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Wp(t){const e={},n=s(t,["languageCode"]);n!=null&&u(e,["languageCode"],n);const o=s(t,["voiceConfig"]);if(o!=null&&u(e,["voiceConfig"],o),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function E0(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&u(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&u(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=s(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],d0(a));const d=s(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],c0(d));const c=s(t,["urlContext"]);return c!=null&&u(e,["urlContext"],c),e}function I0(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>u0(h))),u(e,["functionDeclarations"],p)}const o=s(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const r=s(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const i=s(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&u(e,["codeExecution"],l);const a=s(t,["enterpriseWebSearch"]);a!=null&&u(e,["enterpriseWebSearch"],a);const d=s(t,["googleMaps"]);d!=null&&u(e,["googleMaps"],d);const c=s(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);const f=s(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function w0(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&u(e,["promptTokenCount"],n);const o=s(t,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const r=s(t,["candidatesTokenCount"]);r!=null&&u(e,["responseTokenCount"],r);const i=s(t,["toolUsePromptTokenCount"]);i!=null&&u(e,["toolUsePromptTokenCount"],i);const l=s(t,["thoughtsTokenCount"]);l!=null&&u(e,["thoughtsTokenCount"],l);const a=s(t,["totalTokenCount"]);a!=null&&u(e,["totalTokenCount"],a);const d=s(t,["promptTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(_=>_)),u(e,["promptTokensDetails"],m)}const c=s(t,["cacheTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(_=>_)),u(e,["cacheTokensDetails"],m)}const f=s(t,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(_=>_)),u(e,["responseTokensDetails"],m)}const p=s(t,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(_=>_)),u(e,["toolUsePromptTokensDetails"],m)}const h=s(t,["trafficType"]);return h!=null&&u(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A0(t){const e={},n=s(t,["data"]);if(n!=null&&u(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function P0(t){const e={},n=s(t,["content"]);n!=null&&u(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],k0(o));const r=s(t,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&u(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&u(e,["avgLogprobs"],l);const a=s(t,["groundingMetadata"]);a!=null&&u(e,["groundingMetadata"],a);const d=s(t,["index"]);d!=null&&u(e,["index"],d);const c=s(t,["logprobsResult"]);c!=null&&u(e,["logprobsResult"],c);const f=s(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),u(e,["safetyRatings"],h)}const p=s(t,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],p),e}function k0(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),u(e,["citations"],o)}return e}function R0(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["contents"]);if(r!=null){let i=Fe(r);Array.isArray(i)&&(i=i.map(l=>l)),u(n,["contents"],i)}return n}function M0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(e,["tokensInfo"],r)}return e}function x0(t){const e={},n=s(t,["values"]);n!=null&&u(e,["values"],n);const o=s(t,["statistics"]);return o!=null&&u(e,["statistics"],N0(o)),e}function N0(t){const e={},n=s(t,["truncated"]);n!=null&&u(e,["truncated"],n);const o=s(t,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function mi(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>BC(i))),u(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&u(e,["role"],o),e}function D0(t){const e={},n=s(t,["controlType"]);n!=null&&u(e,["controlType"],n);const o=s(t,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function L0(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function U0(t,e){const n={},o=s(t,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],pe(o));const r=s(t,["tools"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(a=>Xp(a))),u(e,["tools"],l)}const i=s(t,["generationConfig"]);return e!==void 0&&i!=null&&u(e,["generationConfig"],AC(i)),n}function F0(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["contents"]);if(r!=null){let l=Fe(r);Array.isArray(l)&&(l=l.map(a=>mi(a))),u(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&L0(i),n}function V0(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["contents"]);if(r!=null){let l=Fe(r);Array.isArray(l)&&(l=l.map(a=>a)),u(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&U0(i,n),n}function G0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);o!=null&&u(e,["totalTokens"],o);const r=s(t,["cachedContentTokenCount"]);return r!=null&&u(e,["cachedContentTokenCount"],r),e}function H0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);return o!=null&&u(e,["totalTokens"],o),e}function q0(t,e){const n={},o=s(e,["model"]);return o!=null&&u(n,["_url","name"],G(t,o)),n}function B0(t,e){const n={},o=s(e,["model"]);return o!=null&&u(n,["_url","name"],G(t,o)),n}function z0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function $0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function J0(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&u(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);const a=s(t,["guidanceScale"]);e!==void 0&&a!=null&&u(e,["parameters","guidanceScale"],a);const d=s(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const c=s(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&u(e,["parameters","safetySetting"],c);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);const p=s(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&u(e,["parameters","includeRaiReason"],h);const m=s(t,["language"]);e!==void 0&&m!=null&&u(e,["parameters","language"],m);const _=s(t,["outputMimeType"]);e!==void 0&&_!=null&&u(e,["parameters","outputOptions","mimeType"],_);const C=s(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&u(e,["parameters","outputOptions","compressionQuality"],C);const P=s(t,["addWatermark"]);e!==void 0&&P!=null&&u(e,["parameters","addWatermark"],P);const y=s(t,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);const g=s(t,["editMode"]);e!==void 0&&g!=null&&u(e,["parameters","editMode"],g);const v=s(t,["baseSteps"]);return e!==void 0&&v!=null&&u(e,["parameters","editConfig","baseSteps"],v),n}function W0(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["prompt"]);r!=null&&u(n,["instances[0]","prompt"],r);const i=s(e,["referenceImages"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(d=>YC(d))),u(n,["instances[0]","referenceImages"],a)}const l=s(e,["config"]);return l!=null&&J0(l,n),n}function O0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>gi(i))),u(e,["generatedImages"],r)}return e}function Y0(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&u(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function K0(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&u(e,["instances[]","title"],r);const i=s(t,["outputDimensionality"]);e!==void 0&&i!=null&&u(e,["parameters","outputDimensionality"],i);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&u(e,["instances[]","mimeType"],l);const a=s(t,["autoTruncate"]);return e!==void 0&&a!=null&&u(e,["parameters","autoTruncate"],a),n}function Q0(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["contents"]);if(r!=null){let a=ou(t,r);Array.isArray(a)&&(a=a.map(d=>d)),u(n,["requests[]","content"],a)}const i=s(e,["config"]);i!=null&&Y0(i,n);const l=s(e,["model"]);return l!==void 0&&u(n,["requests[]","model"],G(t,l)),n}function X0(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["contents"]);if(r!=null){let l=ou(t,r);Array.isArray(l)&&(l=l.map(a=>a)),u(n,["instances[]","content"],l)}const i=s(e,["config"]);return i!=null&&K0(i,n),n}function Z0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&u(e,["metadata"],r),e}function b0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>x0(l))),u(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&u(e,["metadata"],r),e}function j0(t){const e={},n=s(t,["endpoint"]);n!=null&&u(e,["name"],n);const o=s(t,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function eC(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function tC(t){const e={},n=s(t,["id"]);n!=null&&u(e,["id"],n);const o=s(t,["args"]);o!=null&&u(e,["args"],o);const r=s(t,["name"]);if(r!=null&&u(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nC(t){const e={},n=s(t,["mode"]);n!=null&&u(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&u(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function oC(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&u(e,["description"],n);const o=s(t,["name"]);o!=null&&u(e,["name"],o);const r=s(t,["parameters"]);r!=null&&u(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&u(e,["response"],l);const a=s(t,["responseJsonSchema"]);return a!=null&&u(e,["responseJsonSchema"],a),e}function rC(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&u(n,["systemInstruction"],mi(pe(r)));const i=s(e,["temperature"]);i!=null&&u(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&u(o,["topP"],l);const a=s(e,["topK"]);a!=null&&u(o,["topK"],a);const d=s(e,["candidateCount"]);d!=null&&u(o,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&u(o,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&u(o,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&u(o,["logprobs"],h);const m=s(e,["presencePenalty"]);m!=null&&u(o,["presencePenalty"],m);const _=s(e,["frequencyPenalty"]);_!=null&&u(o,["frequencyPenalty"],_);const C=s(e,["seed"]);C!=null&&u(o,["seed"],C);const P=s(e,["responseMimeType"]);P!=null&&u(o,["responseMimeType"],P);const y=s(e,["responseSchema"]);y!=null&&u(o,["responseSchema"],ru(y));const g=s(e,["responseJsonSchema"]);if(g!=null&&u(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(e,["safetySettings"]);if(n!==void 0&&v!=null){let B=v;Array.isArray(B)&&(B=B.map(ae=>KC(ae))),u(n,["safetySettings"],B)}const S=s(e,["tools"]);if(n!==void 0&&S!=null){let B=Bn(S);Array.isArray(B)&&(B=B.map(ae=>tS(qn(ae)))),u(n,["tools"],B)}const T=s(e,["toolConfig"]);if(n!==void 0&&T!=null&&u(n,["toolConfig"],eS(T)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(e,["cachedContent"]);n!==void 0&&I!=null&&u(n,["cachedContent"],ft(t,I));const A=s(e,["responseModalities"]);A!=null&&u(o,["responseModalities"],A);const R=s(e,["mediaResolution"]);R!=null&&u(o,["mediaResolution"],R);const x=s(e,["speechConfig"]);if(x!=null&&u(o,["speechConfig"],iu(x)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=s(e,["thinkingConfig"]);N!=null&&u(o,["thinkingConfig"],N);const H=s(e,["imageConfig"]);return H!=null&&u(o,["imageConfig"],xC(H)),o}function iC(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&u(n,["systemInstruction"],pe(r));const i=s(e,["temperature"]);i!=null&&u(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&u(o,["topP"],l);const a=s(e,["topK"]);a!=null&&u(o,["topK"],a);const d=s(e,["candidateCount"]);d!=null&&u(o,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&u(o,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&u(o,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&u(o,["logprobs"],h);const m=s(e,["presencePenalty"]);m!=null&&u(o,["presencePenalty"],m);const _=s(e,["frequencyPenalty"]);_!=null&&u(o,["frequencyPenalty"],_);const C=s(e,["seed"]);C!=null&&u(o,["seed"],C);const P=s(e,["responseMimeType"]);P!=null&&u(o,["responseMimeType"],P);const y=s(e,["responseSchema"]);y!=null&&u(o,["responseSchema"],ru(y));const g=s(e,["responseJsonSchema"]);g!=null&&u(o,["responseJsonSchema"],g);const v=s(e,["routingConfig"]);v!=null&&u(o,["routingConfig"],v);const S=s(e,["modelSelectionConfig"]);S!=null&&u(o,["modelConfig"],S);const T=s(e,["safetySettings"]);if(n!==void 0&&T!=null){let Ie=T;Array.isArray(Ie)&&(Ie=Ie.map(Vt=>Vt)),u(n,["safetySettings"],Ie)}const I=s(e,["tools"]);if(n!==void 0&&I!=null){let Ie=Bn(I);Array.isArray(Ie)&&(Ie=Ie.map(Vt=>Xp(qn(Vt)))),u(n,["tools"],Ie)}const A=s(e,["toolConfig"]);n!==void 0&&A!=null&&u(n,["toolConfig"],A);const R=s(e,["labels"]);n!==void 0&&R!=null&&u(n,["labels"],R);const x=s(e,["cachedContent"]);n!==void 0&&x!=null&&u(n,["cachedContent"],ft(t,x));const N=s(e,["responseModalities"]);N!=null&&u(o,["responseModalities"],N);const H=s(e,["mediaResolution"]);H!=null&&u(o,["mediaResolution"],H);const B=s(e,["speechConfig"]);B!=null&&u(o,["speechConfig"],Qp(iu(B)));const ae=s(e,["audioTimestamp"]);ae!=null&&u(o,["audioTimestamp"],ae);const $n=s(e,["thinkingConfig"]);$n!=null&&u(o,["thinkingConfig"],$n);const Fo=s(e,["imageConfig"]);return Fo!=null&&u(o,["imageConfig"],NC(Fo)),o}function $d(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["contents"]);if(r!=null){let l=Fe(r);Array.isArray(l)&&(l=l.map(a=>mi(a))),u(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&u(n,["generationConfig"],rC(t,i,n)),n}function Jd(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["contents"]);if(r!=null){let l=Fe(r);Array.isArray(l)&&(l=l.map(a=>a)),u(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&u(n,["generationConfig"],iC(t,i,n)),n}function Wd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>P0(c))),u(e,["candidates"],d)}const r=s(t,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&u(e,["responseId"],l);const a=s(t,["usageMetadata"]);return a!=null&&u(e,["usageMetadata"],a),e}function Od(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["candidates"],c)}const r=s(t,["createTime"]);r!=null&&u(e,["createTime"],r);const i=s(t,["modelVersion"]);i!=null&&u(e,["modelVersion"],i);const l=s(t,["promptFeedback"]);l!=null&&u(e,["promptFeedback"],l);const a=s(t,["responseId"]);a!=null&&u(e,["responseId"],a);const d=s(t,["usageMetadata"]);return d!=null&&u(e,["usageMetadata"],d),e}function sC(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&u(e,["parameters","aspectRatio"],r);const i=s(t,["guidanceScale"]);if(e!==void 0&&i!=null&&u(e,["parameters","guidanceScale"],i),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&u(e,["parameters","safetySetting"],l);const a=s(t,["personGeneration"]);e!==void 0&&a!=null&&u(e,["parameters","personGeneration"],a);const d=s(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&u(e,["parameters","includeSafetyAttributes"],d);const c=s(t,["includeRaiReason"]);e!==void 0&&c!=null&&u(e,["parameters","includeRaiReason"],c);const f=s(t,["language"]);e!==void 0&&f!=null&&u(e,["parameters","language"],f);const p=s(t,["outputMimeType"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","mimeType"],p);const h=s(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&u(e,["parameters","outputOptions","compressionQuality"],h),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=s(t,["imageSize"]);if(e!==void 0&&m!=null&&u(e,["parameters","sampleImageSize"],m),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function lC(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&u(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&u(e,["parameters","aspectRatio"],l);const a=s(t,["guidanceScale"]);e!==void 0&&a!=null&&u(e,["parameters","guidanceScale"],a);const d=s(t,["seed"]);e!==void 0&&d!=null&&u(e,["parameters","seed"],d);const c=s(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&u(e,["parameters","safetySetting"],c);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);const p=s(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&u(e,["parameters","includeRaiReason"],h);const m=s(t,["language"]);e!==void 0&&m!=null&&u(e,["parameters","language"],m);const _=s(t,["outputMimeType"]);e!==void 0&&_!=null&&u(e,["parameters","outputOptions","mimeType"],_);const C=s(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&u(e,["parameters","outputOptions","compressionQuality"],C);const P=s(t,["addWatermark"]);e!==void 0&&P!=null&&u(e,["parameters","addWatermark"],P);const y=s(t,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);const g=s(t,["imageSize"]);e!==void 0&&g!=null&&u(e,["parameters","sampleImageSize"],g);const v=s(t,["enhancePrompt"]);return e!==void 0&&v!=null&&u(e,["parameters","enhancePrompt"],v),n}function uC(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["prompt"]);r!=null&&u(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&sC(i,n),n}function aC(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["prompt"]);r!=null&&u(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&lC(i,n),n}function dC(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>TC(l))),u(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&u(e,["positivePromptSafetyAttributes"],Yp(r)),e}function cC(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>gi(l))),u(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&u(e,["positivePromptSafetyAttributes"],Kp(r)),e}function fC(t,e){const n={},o=s(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(t,["durationSeconds"]);if(e!==void 0&&r!=null&&u(e,["parameters","durationSeconds"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(t,["aspectRatio"]);e!==void 0&&i!=null&&u(e,["parameters","aspectRatio"],i);const l=s(t,["resolution"]);e!==void 0&&l!=null&&u(e,["parameters","resolution"],l);const a=s(t,["personGeneration"]);if(e!==void 0&&a!=null&&u(e,["parameters","personGeneration"],a),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=s(t,["negativePrompt"]);e!==void 0&&d!=null&&u(e,["parameters","negativePrompt"],d);const c=s(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&u(e,["parameters","enhancePrompt"],c),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(t,["lastFrame"]);e!==void 0&&f!=null&&u(e,["instances[0]","lastFrame"],yi(f));const p=s(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>hS(m))),u(e,["instances[0]","referenceImages"],h)}if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function pC(t,e){const n={},o=s(t,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const i=s(t,["fps"]);e!==void 0&&i!=null&&u(e,["parameters","fps"],i);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&u(e,["parameters","durationSeconds"],l);const a=s(t,["seed"]);e!==void 0&&a!=null&&u(e,["parameters","seed"],a);const d=s(t,["aspectRatio"]);e!==void 0&&d!=null&&u(e,["parameters","aspectRatio"],d);const c=s(t,["resolution"]);e!==void 0&&c!=null&&u(e,["parameters","resolution"],c);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);const p=s(t,["pubsubTopic"]);e!==void 0&&p!=null&&u(e,["parameters","pubsubTopic"],p);const h=s(t,["negativePrompt"]);e!==void 0&&h!=null&&u(e,["parameters","negativePrompt"],h);const m=s(t,["enhancePrompt"]);e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m);const _=s(t,["generateAudio"]);e!==void 0&&_!=null&&u(e,["parameters","generateAudio"],_);const C=s(t,["lastFrame"]);e!==void 0&&C!=null&&u(e,["instances[0]","lastFrame"],Oe(C));const P=s(t,["referenceImages"]);if(e!==void 0&&P!=null){let v=P;Array.isArray(v)&&(v=v.map(S=>mS(S))),u(e,["instances[0]","referenceImages"],v)}const y=s(t,["mask"]);e!==void 0&&y!=null&&u(e,["instances[0]","mask"],pS(y));const g=s(t,["compressionQuality"]);return e!==void 0&&g!=null&&u(e,["parameters","compressionQuality"],g),n}function hC(t){const e={},n=s(t,["name"]);n!=null&&u(e,["name"],n);const o=s(t,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(t,["done"]);r!=null&&u(e,["done"],r);const i=s(t,["error"]);i!=null&&u(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&u(e,["response"],vC(l)),e}function mC(t){const e={},n=s(t,["name"]);n!=null&&u(e,["name"],n);const o=s(t,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(t,["done"]);r!=null&&u(e,["done"],r);const i=s(t,["error"]);i!=null&&u(e,["error"],i);const l=s(t,["response"]);return l!=null&&u(e,["response"],_C(l)),e}function gC(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["prompt"]);r!=null&&u(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&u(n,["instances[0]","image"],yi(i));const l=s(e,["video"]);l!=null&&u(n,["instances[0]","video"],Zp(l));const a=s(e,["source"]);a!=null&&CC(a,n);const d=s(e,["config"]);return d!=null&&fC(d,n),n}function yC(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["prompt"]);r!=null&&u(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&u(n,["instances[0]","image"],Oe(i));const l=s(e,["video"]);l!=null&&u(n,["instances[0]","video"],bp(l));const a=s(e,["source"]);a!=null&&SC(a,n);const d=s(e,["config"]);return d!=null&&pC(d,n),n}function vC(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>IC(l))),u(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function _C(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>wC(l))),u(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function CC(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&u(e,["instances[0]","image"],yi(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&u(e,["instances[0]","video"],Zp(i)),n}function SC(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&u(e,["instances[0]","image"],Oe(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&u(e,["instances[0]","video"],bp(i)),n}function TC(t){const e={},n=s(t,["_self"]);n!=null&&u(e,["image"],DC(n));const o=s(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const r=s(t,["_self"]);return r!=null&&u(e,["safetyAttributes"],Yp(r)),e}function gi(t){const e={},n=s(t,["_self"]);n!=null&&u(e,["image"],Op(n));const o=s(t,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const r=s(t,["_self"]);r!=null&&u(e,["safetyAttributes"],Kp(r));const i=s(t,["prompt"]);return i!=null&&u(e,["enhancedPrompt"],i),e}function EC(t){const e={},n=s(t,["_self"]);n!=null&&u(e,["mask"],Op(n));const o=s(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(e,["labels"],r)}return e}function IC(t){const e={},n=s(t,["video"]);return n!=null&&u(e,["video"],cS(n)),e}function wC(t){const e={},n=s(t,["_self"]);return n!=null&&u(e,["video"],fS(n)),e}function AC(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&u(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&u(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&u(e,["enableAffectiveDialog"],l);const a=s(t,["frequencyPenalty"]);a!=null&&u(e,["frequencyPenalty"],a);const d=s(t,["logprobs"]);d!=null&&u(e,["logprobs"],d);const c=s(t,["maxOutputTokens"]);c!=null&&u(e,["maxOutputTokens"],c);const f=s(t,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);const p=s(t,["presencePenalty"]);p!=null&&u(e,["presencePenalty"],p);const h=s(t,["responseLogprobs"]);h!=null&&u(e,["responseLogprobs"],h);const m=s(t,["responseMimeType"]);m!=null&&u(e,["responseMimeType"],m);const _=s(t,["responseModalities"]);_!=null&&u(e,["responseModalities"],_);const C=s(t,["responseSchema"]);C!=null&&u(e,["responseSchema"],C);const P=s(t,["routingConfig"]);P!=null&&u(e,["routingConfig"],P);const y=s(t,["seed"]);y!=null&&u(e,["seed"],y);const g=s(t,["speechConfig"]);g!=null&&u(e,["speechConfig"],Qp(g));const v=s(t,["stopSequences"]);v!=null&&u(e,["stopSequences"],v);const S=s(t,["temperature"]);S!=null&&u(e,["temperature"],S);const T=s(t,["thinkingConfig"]);T!=null&&u(e,["thinkingConfig"],T);const I=s(t,["topK"]);I!=null&&u(e,["topK"],I);const A=s(t,["topP"]);if(A!=null&&u(e,["topP"],A),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function PC(t,e){const n={},o=s(e,["model"]);return o!=null&&u(n,["_url","name"],G(t,o)),n}function kC(t,e){const n={},o=s(e,["model"]);return o!=null&&u(n,["_url","name"],G(t,o)),n}function RC(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function MC(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function xC(t){const e={},n=s(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&u(e,["imageSize"],o),s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function NC(t){const e={},n=s(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);const o=s(t,["imageSize"]);o!=null&&u(e,["imageSize"],o);const r=s(t,["outputMimeType"]);r!=null&&u(e,["imageOutputOptions","mimeType"],r);const i=s(t,["outputCompressionQuality"]);return i!=null&&u(e,["imageOutputOptions","compressionQuality"],i),e}function DC(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&u(e,["imageBytes"],Ft(n));const o=s(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Op(t){const e={},n=s(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],Ft(o));const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function yi(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&u(e,["bytesBase64Encoded"],Ft(n));const o=s(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Oe(t){const e={},n=s(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);const o=s(t,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Ft(o));const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function LC(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&u(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&u(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&u(n,["_query","filter"],l);const a=s(e,["queryBase"]);return n!==void 0&&a!=null&&u(n,["_url","models_url"],Gp(t,a)),o}function UC(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&u(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&u(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&u(n,["_query","filter"],l);const a=s(e,["queryBase"]);return n!==void 0&&a!=null&&u(n,["_url","models_url"],Gp(t,a)),o}function FC(t,e){const n={},o=s(e,["config"]);return o!=null&&LC(t,o,n),n}function VC(t,e){const n={},o=s(e,["config"]);return o!=null&&UC(t,o,n),n}function GC(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=Hp(r);Array.isArray(i)&&(i=i.map(l=>Zs(l))),u(e,["models"],i)}return e}function HC(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=Hp(r);Array.isArray(i)&&(i=i.map(l=>bs(l))),u(e,["models"],i)}return e}function qC(t){const e={},n=s(t,["maskMode"]);n!=null&&u(e,["maskMode"],n);const o=s(t,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const r=s(t,["maskDilation"]);return r!=null&&u(e,["dilation"],r),e}function Zs(t){const e={},n=s(t,["name"]);n!=null&&u(e,["name"],n);const o=s(t,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(t,["description"]);r!=null&&u(e,["description"],r);const i=s(t,["version"]);i!=null&&u(e,["version"],i);const l=s(t,["_self"]);l!=null&&u(e,["tunedModelInfo"],nS(l));const a=s(t,["inputTokenLimit"]);a!=null&&u(e,["inputTokenLimit"],a);const d=s(t,["outputTokenLimit"]);d!=null&&u(e,["outputTokenLimit"],d);const c=s(t,["supportedGenerationMethods"]);c!=null&&u(e,["supportedActions"],c);const f=s(t,["temperature"]);f!=null&&u(e,["temperature"],f);const p=s(t,["maxTemperature"]);p!=null&&u(e,["maxTemperature"],p);const h=s(t,["topP"]);h!=null&&u(e,["topP"],h);const m=s(t,["topK"]);m!=null&&u(e,["topK"],m);const _=s(t,["thinking"]);return _!=null&&u(e,["thinking"],_),e}function bs(t){const e={},n=s(t,["name"]);n!=null&&u(e,["name"],n);const o=s(t,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(t,["description"]);r!=null&&u(e,["description"],r);const i=s(t,["versionId"]);i!=null&&u(e,["version"],i);const l=s(t,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>j0(h))),u(e,["endpoints"],p)}const a=s(t,["labels"]);a!=null&&u(e,["labels"],a);const d=s(t,["_self"]);d!=null&&u(e,["tunedModelInfo"],oS(d));const c=s(t,["defaultCheckpointId"]);c!=null&&u(e,["defaultCheckpointId"],c);const f=s(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),u(e,["checkpoints"],p)}return e}function BC(t){const e={},n=s(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&u(e,["fileData"],eC(i));const l=s(t,["functionCall"]);l!=null&&u(e,["functionCall"],tC(l));const a=s(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const d=s(t,["inlineData"]);d!=null&&u(e,["inlineData"],A0(d));const c=s(t,["text"]);c!=null&&u(e,["text"],c);const f=s(t,["thought"]);f!=null&&u(e,["thought"],f);const p=s(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function zC(t){const e={},n=s(t,["productImage"]);return n!=null&&u(e,["image"],Oe(n)),e}function $C(t,e){const n={},o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=s(t,["baseSteps"]);e!==void 0&&r!=null&&u(e,["parameters","baseSteps"],r);const i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const l=s(t,["seed"]);e!==void 0&&l!=null&&u(e,["parameters","seed"],l);const a=s(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&u(e,["parameters","safetySetting"],a);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&u(e,["parameters","personGeneration"],d);const c=s(t,["addWatermark"]);e!==void 0&&c!=null&&u(e,["parameters","addWatermark"],c);const f=s(t,["outputMimeType"]);e!==void 0&&f!=null&&u(e,["parameters","outputOptions","mimeType"],f);const p=s(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","compressionQuality"],p);const h=s(t,["enhancePrompt"]);e!==void 0&&h!=null&&u(e,["parameters","enhancePrompt"],h);const m=s(t,["labels"]);return e!==void 0&&m!=null&&u(e,["labels"],m),n}function JC(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["source"]);r!=null&&OC(r,n);const i=s(e,["config"]);return i!=null&&$C(i,n),n}function WC(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>gi(r))),u(e,["generatedImages"],o)}return e}function OC(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const r=s(t,["personImage"]);e!==void 0&&r!=null&&u(e,["instances[0]","personImage","image"],Oe(r));const i=s(t,["productImages"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>zC(a))),u(e,["instances[0]","productImages"],l)}return n}function YC(t){const e={},n=s(t,["referenceImage"]);n!=null&&u(e,["referenceImage"],Oe(n));const o=s(t,["referenceId"]);o!=null&&u(e,["referenceId"],o);const r=s(t,["referenceType"]);r!=null&&u(e,["referenceType"],r);const i=s(t,["maskImageConfig"]);i!=null&&u(e,["maskImageConfig"],qC(i));const l=s(t,["controlImageConfig"]);l!=null&&u(e,["controlImageConfig"],D0(l));const a=s(t,["styleImageConfig"]);a!=null&&u(e,["styleImageConfig"],a);const d=s(t,["subjectImageConfig"]);return d!=null&&u(e,["subjectImageConfig"],d),e}function Yp(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&u(e,["contentType"],r),e}function Kp(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&u(e,["contentType"],r),e}function KC(t){const e={},n=s(t,["category"]);if(n!=null&&u(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function QC(t){const e={},n=s(t,["image"]);return n!=null&&u(e,["image"],Oe(n)),e}function XC(t,e){const n={},o=s(t,["mode"]);e!==void 0&&o!=null&&u(e,["parameters","mode"],o);const r=s(t,["maxPredictions"]);e!==void 0&&r!=null&&u(e,["parameters","maxPredictions"],r);const i=s(t,["confidenceThreshold"]);e!==void 0&&i!=null&&u(e,["parameters","confidenceThreshold"],i);const l=s(t,["maskDilation"]);e!==void 0&&l!=null&&u(e,["parameters","maskDilation"],l);const a=s(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&u(e,["parameters","binaryColorThreshold"],a);const d=s(t,["labels"]);return e!==void 0&&d!=null&&u(e,["labels"],d),n}function ZC(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["source"]);r!=null&&jC(r,n);const i=s(e,["config"]);return i!=null&&XC(i,n),n}function bC(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>EC(r))),u(e,["generatedMasks"],o)}return e}function jC(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&u(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&u(e,["instances[0]","image"],Oe(r));const i=s(t,["scribbleImage"]);return e!==void 0&&i!=null&&u(e,["instances[0]","scribble"],QC(i)),n}function Qp(t){const e={},n=s(t,["languageCode"]);n!=null&&u(e,["languageCode"],n);const o=s(t,["voiceConfig"]);if(o!=null&&u(e,["voiceConfig"],o),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function eS(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],nC(n));const o=s(t,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],o),e}function tS(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&u(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&u(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=s(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],RC(a));const d=s(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],MC(d));const c=s(t,["urlContext"]);return c!=null&&u(e,["urlContext"],c),e}function Xp(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>oC(h))),u(e,["functionDeclarations"],p)}const o=s(t,["retrieval"]);o!=null&&u(e,["retrieval"],o);const r=s(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);const i=s(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&u(e,["codeExecution"],l);const a=s(t,["enterpriseWebSearch"]);a!=null&&u(e,["enterpriseWebSearch"],a);const d=s(t,["googleMaps"]);d!=null&&u(e,["googleMaps"],d);const c=s(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],c);const f=s(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function nS(t){const e={},n=s(t,["baseModel"]);n!=null&&u(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&u(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&u(e,["updateTime"],r),e}function oS(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&u(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&u(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&u(e,["updateTime"],r),e}function rS(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&u(e,["defaultCheckpointId"],i),n}function iS(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&u(e,["defaultCheckpointId"],i),n}function sS(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","name"],G(t,o));const r=s(e,["config"]);return r!=null&&rS(r,n),n}function lS(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["config"]);return r!=null&&iS(r,n),n}function uS(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=s(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&u(e,["parameters","safetySetting"],r);const i=s(t,["personGeneration"]);e!==void 0&&i!=null&&u(e,["parameters","personGeneration"],i);const l=s(t,["includeRaiReason"]);e!==void 0&&l!=null&&u(e,["parameters","includeRaiReason"],l);const a=s(t,["outputMimeType"]);e!==void 0&&a!=null&&u(e,["parameters","outputOptions","mimeType"],a);const d=s(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&u(e,["parameters","outputOptions","compressionQuality"],d);const c=s(t,["enhanceInputImage"]);e!==void 0&&c!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=s(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=s(t,["labels"]);e!==void 0&&p!=null&&u(e,["labels"],p);const h=s(t,["numberOfImages"]);e!==void 0&&h!=null&&u(e,["parameters","sampleCount"],h);const m=s(t,["mode"]);return e!==void 0&&m!=null&&u(e,["parameters","mode"],m),n}function aS(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["_url","model"],G(t,o));const r=s(e,["image"]);r!=null&&u(n,["instances[0]","image"],Oe(r));const i=s(e,["upscaleFactor"]);i!=null&&u(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(e,["config"]);return l!=null&&uS(l,n),n}function dS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>gi(i))),u(e,["generatedImages"],r)}return e}function cS(t){const e={},n=s(t,["uri"]);n!=null&&u(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&u(e,["videoBytes"],Ft(o));const r=s(t,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function fS(t){const e={},n=s(t,["gcsUri"]);n!=null&&u(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Ft(o));const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function pS(t){const e={},n=s(t,["image"]);n!=null&&u(e,["_self"],Oe(n));const o=s(t,["maskMode"]);return o!=null&&u(e,["maskMode"],o),e}function hS(t){const e={},n=s(t,["image"]);n!=null&&u(e,["image"],yi(n));const o=s(t,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function mS(t){const e={},n=s(t,["image"]);n!=null&&u(e,["image"],Oe(n));const o=s(t,["referenceType"]);return o!=null&&u(e,["referenceType"],o),e}function Zp(t){const e={},n=s(t,["uri"]);n!=null&&u(e,["uri"],n);const o=s(t,["videoBytes"]);o!=null&&u(e,["encodedVideo"],Ft(o));const r=s(t,["mimeType"]);return r!=null&&u(e,["encoding"],r),e}function bp(t){const e={},n=s(t,["uri"]);n!=null&&u(e,["gcsUri"],n);const o=s(t,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Ft(o));const r=s(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gS="Content-Type",yS="X-Server-Timeout",vS="User-Agent",js="x-goog-api-client",_S="1.30.0",CS=`google-genai-sdk/${_S}`,SS="v1beta1",TS="v1beta",Yd=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ES{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:SS,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:TS,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[l,a]of Object.entries(e.queryParams))r.searchParams.append(l,String(a));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=l}return n&&n.extraBody!==null&&IS(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Kd(r),new Ks(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Kd(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return Pn(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";for(;;){const{done:a,value:d}=yield J(r.read());if(a){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(d,{stream:!0});try{const p=JSON.parse(c);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,_=h.code,C=`got status: ${m}. ${JSON.stringify(p)}`;if(_>=400&&_<600)throw new hi({message:C,status:_})}}catch(p){if(p.name==="ApiError")throw p}l+=c;let f=l.match(Yd);for(;f;){const p=f[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield J(new Ks(h)),l=l.slice(f[0].length),f=l.match(Yd)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=CS+" "+this.clientOptions.userAgentExtra;return e[vS]=n,e[js]=n,e[gS]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(yS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(e);r.sizeBytes=String(l.size);const a=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;const d={file:r},c=this.getFileName(e),f=k("upload/v1beta/files",d._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,c,d,n==null?void 0:n.httpOptions);return i.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,o){var r;const i=this.clientOptions.uploader,l=await i.stat(n),a=String(l.size),d=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};o!=null&&o.customMetadata&&(p.customMetadata=o.customMetadata),o!=null&&o.chunkingConfig&&(p.chunkingConfig=o.chunkingConfig);const h=await this.fetchUploadUrl(c,a,d,f,p,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,l){var a;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const c=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:d});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Kd(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new hi({message:r,status:n}):new Error(r)}}function IS(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const a=Object.assign({},i);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const c=l[d],f=a[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?a[d]=o(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),a[d]=c)}return a}const r=o(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wS="mcp_used/unknown";let AS=!1;function jp(t){for(const e of t)if(PS(e)||typeof e=="object"&&"inputSchema"in e)return!0;return AS}function eh(t){var e;const n=(e=t[js])!==null&&e!==void 0?e:"";t[js]=(n+` ${wS}`).trimStart()}function PS(t){return t!==null&&typeof t=="object"&&t instanceof lu}function kS(t,e=100){return Pn(this,arguments,function*(){let o,r=0;for(;r<e;){const i=yield J(t.listTools({cursor:o}));for(const l of i.tools)yield yield J(l),r++;if(!i.nextCursor)break;o=i.nextCursor}})}class lu{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new lu(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var a=!0,d=(n=void 0,po(kS(f))),c;c=await d.next(),e=c.done,!e;a=!0){r=c.value,a=!1;const p=r;l.push(p);const h=p.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=f}}catch(p){n={error:p}}finally{try{!a&&!e&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Cv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function RS(t,e,n){const o=new fv;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}class MS{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=DS(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),d=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${a}`;let c=()=>{};const f=new Promise(v=>{c=v}),p=e.callbacks,h=function(){c({})},m=this.apiClient,_={onopen:h,onmessage:v=>{RS(m,p.onmessage,v)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(v){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(v){}},C=this.webSocketFactory.create(d,NS(l),_);C.connect(),await f;const g={setup:{model:G(this.apiClient,e.model)}};return C.send(JSON.stringify(g)),new xS(C,this.apiClient)}}class xS{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=y0(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=g0(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_n.PLAY)}pause(){this.sendPlaybackControl(_n.PAUSE)}stop(){this.sendPlaybackControl(_n.STOP)}resetContext(){this.sendPlaybackControl(_n.RESET_CONTEXT)}close(){this.conn.close()}}function NS(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function DS(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function US(t,e,n){const o=new cv;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(t.isVertexAI()){const l=C0(i);Object.assign(o,l)}else Object.assign(o,i);e(o)}class FS{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new MS(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,l,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&jp(e.config.tools)&&eh(p);const h=qS(p);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{const x=this.apiClient.getApiKey();let N="BidiGenerateContent",H="key";x!=null&&x.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",H="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${N}?${H}=${x}`}let m=()=>{};const _=new Promise(x=>{m=x}),C=e.callbacks,P=function(){var x;(x=C==null?void 0:C.onopen)===null||x===void 0||x.call(C),m({})},y=this.apiClient,g={onopen:P,onmessage:x=>{US(y,C.onmessage,x)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(x){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function(x){}},v=this.webSocketFactory.create(f,HS(h),g);v.connect(),await _;let S=G(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const x=this.apiClient.getProject(),N=this.apiClient.getLocation();S=`projects/${x}/locations/${N}/`+S}let T={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Yr.AUDIO]}:e.config.responseModalities=[Yr.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(a=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[],A=[];for(const x of I)if(this.isCallableTool(x)){const N=x;A.push(await N.tool())}else A.push(x);A.length>0&&(e.config.tools=A);const R={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=m0(this.apiClient,R):T=h0(this.apiClient,R),delete T.config,v.send(JSON.stringify(T)),new GS(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const VS={turnComplete:!0};class GS{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Fe(n.turns),e.isVertexAI()||(o=o.map(r=>mi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(LS)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},VS),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:_0(e)}:n={realtimeInput:v0(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function HS(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function qS(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qd=10;function Xd(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(kn(l)){r=!0;break}if(!r)return!0;const i=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function kn(t){return"callTool"in t&&typeof t.callTool=="function"}function BS(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>kn(r)))!==null&&o!==void 0?o:!1}function Zd(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(kn(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function bd(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zS extends ct{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,l,a;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!BS(n)||Xd(n.config))return await this.generateContentInternal(d);const c=Zd(n);if(c.length>0){const C=c.map(P=>`tools[${P}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let f,p;const h=Fe(d.contents),m=(i=(r=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Qd;let _=0;for(;_<m&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const C=f.candidates[0].content,P=[];for(const y of(a=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(kn(y)){const v=await y.callTool(f.functionCalls);P.push(...v)}_++,p={role:"user",parts:P},d.contents=Fe(d.contents),d.contents.push(C),d.contents.push(p),bd(d.config)&&(h.push(C),h.push(p))}return bd(d.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var o,r,i,l,a;if(this.maybeMoveToResponseJsonSchem(n),Xd(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const d=Zd(n);if(d.length>0){const p=d.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(a=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:l.push(d);let a;return i?a={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:a={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},a}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new rn(at.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,l,a,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((d=(a=n.source)===null||a===void 0?void 0:a.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const l=await Promise.all(i.map(async d=>kn(d)?await d.tool():d)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(a.config.tools=l,e.config&&e.config.tools&&jp(e.config.tools)){const d=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),eh(c),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return a}async initAfcToolsMap(e){var n,o,r;const i=new Map;for(const l of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(kn(l)){const a=l,d=await a.tool();for(const c of(r=d.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,a)}}return i}async processAfcStream(e){var n,o,r;const i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Qd;let l=!1,a=0;const d=await this.initAfcToolsMap(e);return function(c,f,p){var h,m;return Pn(this,arguments,function*(){for(var _,C,P,y;a<i;){l&&(a++,l=!1);const T=yield J(c.processParamsMaybeAddMcpUsage(p)),I=yield J(c.generateContentStreamInternal(T)),A=[],R=[];try{for(var g=!0,v=(C=void 0,po(I)),S;S=yield J(v.next()),_=S.done,!_;g=!0){y=S.value,g=!1;const x=y;if(yield yield J(x),x.candidates&&(!((h=x.candidates[0])===null||h===void 0)&&h.content)){R.push(x.candidates[0].content);for(const N of(m=x.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(a<i&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(N.functionCall.name)){const H=yield J(f.get(N.functionCall.name).callTool([N.functionCall]));A.push(...H)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(x){C={error:x}}finally{try{!g&&!_&&(P=v.return)&&(yield J(P.call(v)))}finally{if(C)throw C.error}}if(A.length>0){l=!0;const x=new bn;x.candidates=[{content:{role:"user",parts:A}}],yield yield J(x);const N=[];N.push(...R),N.push({role:"user",parts:A});const H=Fe(p.contents).concat(N);p.contents=H}else break}})}(this,d,e)}async generateContentInternal(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=Jd(this.apiClient,e);return a=k("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Od(f),h=new bn;return Object.assign(h,p),h})}else{const c=$d(this.apiClient,e);return a=k("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Wd(f),h=new bn;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=Jd(this.apiClient,e);return a=k("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return Pn(this,arguments,function*(){var h,m,_,C;try{for(var P=!0,y=po(p),g;g=yield J(y.next()),h=g.done,!h;P=!0){C=g.value,P=!1;const v=C,S=Od(yield J(v.json()));S.sdkHttpResponse={headers:v.headers};const T=new bn;Object.assign(T,S),yield yield J(T)}}catch(v){m={error:v}}finally{try{!P&&!h&&(_=y.return)&&(yield J(_.call(y)))}finally{if(m)throw m.error}}})})}else{const c=$d(this.apiClient,e);return a=k("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(p){return Pn(this,arguments,function*(){var h,m,_,C;try{for(var P=!0,y=po(p),g;g=yield J(y.next()),h=g.done,!h;P=!0){C=g.value,P=!1;const v=C,S=Wd(yield J(v.json()));S.sdkHttpResponse={headers:v.headers};const T=new bn;Object.assign(T,S),yield yield J(T)}}catch(v){m={error:v}}finally{try{!P&&!h&&(_=y.return)&&(yield J(_.call(y)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=X0(this.apiClient,e);return a=k("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=b0(f),h=new Pd;return Object.assign(h,p),h})}else{const c=Q0(this.apiClient,e);return a=k("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Z0(f),h=new Pd;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=aC(this.apiClient,e);return a=k("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=cC(f),h=new kd;return Object.assign(h,p),h})}else{const c=uC(this.apiClient,e);return a=k("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=dC(f),h=new kd;return Object.assign(h,p),h})}}async editImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=W0(this.apiClient,e);return i=k("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=O0(d),f=new ev;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=aS(this.apiClient,e);return i=k("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=dS(d),f=new tv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=JC(this.apiClient,e);return i=k("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=WC(d),f=new nv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=ZC(this.apiClient,e);return i=k("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=bC(d),f=new ov;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=kC(this.apiClient,e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>bs(f))}else{const c=PC(this.apiClient,e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Zs(f))}}async listInternal(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=VC(this.apiClient,e);return a=k("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=HC(f),h=new Rd;return Object.assign(h,p),h})}else{const c=FC(this.apiClient,e);return a=k("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=GC(f),h=new Rd;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=lS(this.apiClient,e);return a=k("{model}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>bs(f))}else{const c=sS(this.apiClient,e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Zs(f))}}async delete(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=B0(this.apiClient,e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=$0(f),h=new Md;return Object.assign(h,p),h})}else{const c=q0(this.apiClient,e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=z0(f),h=new Md;return Object.assign(h,p),h})}}async countTokens(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=V0(this.apiClient,e);return a=k("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=H0(f),h=new xd;return Object.assign(h,p),h})}else{const c=F0(this.apiClient,e);return a=k("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=G0(f),h=new xd;return Object.assign(h,p),h})}}async computeTokens(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=R0(this.apiClient,e);return i=k("{model}:computeTokens",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=M0(d),f=new rv;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=yC(this.apiClient,e);return a=k("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const p=mC(f),h=new Kr;return Object.assign(h,p),h})}else{const c=gC(this.apiClient,e);return a=k("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const p=hC(f),h=new Kr;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $S extends ct{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=Ky(e);return a=k("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const c=Yy(e);return a=k("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=qy(e);return i=k("{resourceName}:fetchPredictOperation",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JS(t){const e={},n=s(t,["data"]);if(n!=null&&u(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function WS(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>eT(i))),u(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&u(e,["role"],o),e}function OS(t,e,n){const o={},r=s(e,["expireTime"]);n!==void 0&&r!=null&&u(n,["expireTime"],r);const i=s(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&u(n,["newSessionExpireTime"],i);const l=s(e,["uses"]);n!==void 0&&l!=null&&u(n,["uses"],l);const a=s(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&u(n,["bidiGenerateContentSetup"],jS(t,a));const d=s(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&u(n,["fieldMask"],d),o}function YS(t,e){const n={},o=s(e,["config"]);return o!=null&&u(n,["config"],OS(t,o,n)),n}function KS(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function QS(t){const e={},n=s(t,["id"]);n!=null&&u(e,["id"],n);const o=s(t,["args"]);o!=null&&u(e,["args"],o);const r=s(t,["name"]);if(r!=null&&u(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function XS(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function ZS(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function bS(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topP"],l);const a=s(t,["topK"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","topK"],a);const d=s(t,["maxOutputTokens"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","mediaResolution"],c);const f=s(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],su(p));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","thinkingConfig"],h);const m=s(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],m);const _=s(t,["systemInstruction"]);e!==void 0&&_!=null&&u(e,["setup","systemInstruction"],WS(pe(_)));const C=s(t,["tools"]);if(e!==void 0&&C!=null){let I=Bn(C);Array.isArray(I)&&(I=I.map(A=>nT(qn(A)))),u(e,["setup","tools"],I)}const P=s(t,["sessionResumption"]);e!==void 0&&P!=null&&u(e,["setup","sessionResumption"],tT(P));const y=s(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&u(e,["setup","outputAudioTranscription"],g);const v=s(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&u(e,["setup","realtimeInputConfig"],v);const S=s(t,["contextWindowCompression"]);e!==void 0&&S!=null&&u(e,["setup","contextWindowCompression"],S);const T=s(t,["proactivity"]);return e!==void 0&&T!=null&&u(e,["setup","proactivity"],T),n}function jS(t,e){const n={},o=s(e,["model"]);o!=null&&u(n,["setup","model"],G(t,o));const r=s(e,["config"]);return r!=null&&u(n,["config"],bS(r,n)),n}function eT(t){const e={},n=s(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&u(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&u(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&u(e,["fileData"],KS(i));const l=s(t,["functionCall"]);l!=null&&u(e,["functionCall"],QS(l));const a=s(t,["functionResponse"]);a!=null&&u(e,["functionResponse"],a);const d=s(t,["inlineData"]);d!=null&&u(e,["inlineData"],JS(d));const c=s(t,["text"]);c!=null&&u(e,["text"],c);const f=s(t,["thought"]);f!=null&&u(e,["thought"],f);const p=s(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);const h=s(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function tT(t){const e={},n=s(t,["handle"]);if(n!=null&&u(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function nT(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&u(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&u(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=s(t,["googleMaps"]);a!=null&&u(e,["googleMaps"],XS(a));const d=s(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],ZS(d));const c=s(t,["urlContext"]);return c!=null&&u(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oT(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function rT(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const i=oT(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];r.length>0&&(a=r.map(c=>l.includes(c)?`generationConfig.${c}`:c));const d=[];i&&d.push(i),a.length>0&&d.push(...a),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class iT extends ct{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=YS(this.apiClient,e);i=k("auth_tokens",a._url),l=a._query,delete a.config,delete a._url,delete a._query;const d=rT(a,e.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&u(e,["displayName"],o),n}function lT(t){const e={},n=s(t,["config"]);return n!=null&&sT(n,e),e}function uT(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&u(e,["_query","force"],o),n}function aT(t){const e={},n=s(t,["name"]);n!=null&&u(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&uT(o,e),e}function dT(t){const e={},n=s(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function cT(t,e){const n={},o=s(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["customMetadata"],i)}const r=s(t,["chunkingConfig"]);return e!==void 0&&r!=null&&u(e,["chunkingConfig"],r),n}function fT(t){const e={},n=s(t,["name"]);n!=null&&u(e,["name"],n);const o=s(t,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(t,["done"]);r!=null&&u(e,["done"],r);const i=s(t,["error"]);i!=null&&u(e,["error"],i);const l=s(t,["response"]);return l!=null&&u(e,["response"],hT(l)),e}function pT(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);const o=s(t,["fileName"]);o!=null&&u(e,["fileName"],o);const r=s(t,["config"]);return r!=null&&cT(r,e),e}function hT(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&u(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&u(e,["documentName"],r),e}function mT(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function gT(t){const e={},n=s(t,["config"]);return n!=null&&mT(n,e),e}function yT(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["fileSearchStores"],i)}return e}function vT(t,e){const n={},o=s(t,["mimeType"]);e!==void 0&&o!=null&&u(e,["mimeType"],o);const r=s(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);const i=s(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(d=>d)),u(e,["customMetadata"],a)}const l=s(t,["chunkingConfig"]);return e!==void 0&&l!=null&&u(e,["chunkingConfig"],l),n}function _T(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);const o=s(t,["config"]);return o!=null&&vT(o,e),e}function CT(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ST(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&u(e,["_query","force"],o),n}function TT(t){const e={},n=s(t,["name"]);n!=null&&u(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&ST(o,e),e}function ET(t){const e={},n=s(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function IT(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),n}function wT(t){const e={},n=s(t,["parent"]);n!=null&&u(e,["_url","parent"],n);const o=s(t,["config"]);return o!=null&&IT(o,e),e}function AT(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&u(e,["nextPageToken"],o);const r=s(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),u(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PT extends ct{constructor(e){super(),this.apiClient=e,this.list=async n=>new rn(at.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ET(e);return i=k("{name}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=TT(e);r=k("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=wT(e);return i=k("{parent}/documents",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=AT(d),f=new iv;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kT extends ct{constructor(e,n=new PT(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new rn(at.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=lT(e);return i=k("fileSearchStores",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dT(e);return i=k("{name}",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=aT(e);r=k("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gT(e);return i=k("fileSearchStores",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=yT(d),f=new sv;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_T(e);return i=k("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=CT(d),f=new lv;return Object.assign(f,c),f})}}async importFile(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pT(e);return i=k("{file_search_store_name}:importFile",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=fT(d),f=new tu;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(t,e){const n={},o=s(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function MT(t,e){const n={},o=s(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function xT(t,e,n){const o={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&u(e,["displayName"],r),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(t,["epochCount"]);e!==void 0&&i!=null&&u(e,["tuningTask","hyperparameters","epochCount"],i);const l=s(t,["learningRateMultiplier"]);if(l!=null&&u(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=s(t,["batchSize"]);e!==void 0&&a!=null&&u(e,["tuningTask","hyperparameters","batchSize"],a);const d=s(t,["learningRate"]);if(e!==void 0&&d!=null&&u(e,["tuningTask","hyperparameters","learningRate"],d),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function NT(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=s(t,["validationDataset"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec"],jd(m))}else if(r==="PREFERENCE_TUNING"){const m=s(t,["validationDataset"]);e!==void 0&&m!=null&&u(e,["preferenceOptimizationSpec"],jd(m))}const i=s(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&u(e,["tunedModelDisplayName"],i);const l=s(t,["description"]);e!==void 0&&l!=null&&u(e,["description"],l);let a=s(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const m=s(t,["epochCount"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(a==="PREFERENCE_TUNING"){const m=s(t,["epochCount"]);e!==void 0&&m!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=s(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(d==="PREFERENCE_TUNING"){const m=s(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=s(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(c==="PREFERENCE_TUNING"){const m=s(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=s(t,["adapterSize"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(f==="PREFERENCE_TUNING"){const m=s(t,["adapterSize"]);e!==void 0&&m!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=s(t,["labels"]);e!==void 0&&p!=null&&u(e,["labels"],p);const h=s(t,["beta"]);return e!==void 0&&h!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),o}function DT(t,e){const n={},o=s(t,["baseModel"]);o!=null&&u(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&u(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&JT(i);const l=s(t,["config"]);return l!=null&&xT(l,n),n}function LT(t,e){const n={},o=s(t,["baseModel"]);o!=null&&u(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&u(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&WT(i,n,e);const l=s(t,["config"]);return l!=null&&NT(l,n,e),n}function UT(t,e){const n={},o=s(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function FT(t,e){const n={},o=s(t,["name"]);return o!=null&&u(n,["_url","name"],o),n}function VT(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&u(e,["_query","filter"],l),o}function GT(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&u(e,["_query","filter"],l),o}function HT(t,e){const n={},o=s(t,["config"]);return o!=null&&VT(o,n),n}function qT(t,e){const n={},o=s(t,["config"]);return o!=null&&GT(o,n),n}function BT(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);const i=s(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>th(a))),u(n,["tuningJobs"],l)}return n}function zT(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&u(n,["nextPageToken"],r);const i=s(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>el(a))),u(n,["tuningJobs"],l)}return n}function $T(t,e){const n={},o=s(t,["name"]);o!=null&&u(n,["model"],o);const r=s(t,["name"]);return r!=null&&u(n,["endpoint"],r),n}function JT(t,e){const n={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),u(n,["examples","examples"],r)}return n}function WT(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function th(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&u(n,["name"],r);const i=s(t,["state"]);i!=null&&u(n,["state"],Fp(i));const l=s(t,["createTime"]);l!=null&&u(n,["createTime"],l);const a=s(t,["tuningTask","startTime"]);a!=null&&u(n,["startTime"],a);const d=s(t,["tuningTask","completeTime"]);d!=null&&u(n,["endTime"],d);const c=s(t,["updateTime"]);c!=null&&u(n,["updateTime"],c);const f=s(t,["description"]);f!=null&&u(n,["description"],f);const p=s(t,["baseModel"]);p!=null&&u(n,["baseModel"],p);const h=s(t,["_self"]);return h!=null&&u(n,["tunedModel"],$T(h)),n}function el(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&u(n,["name"],r);const i=s(t,["state"]);i!=null&&u(n,["state"],Fp(i));const l=s(t,["createTime"]);l!=null&&u(n,["createTime"],l);const a=s(t,["startTime"]);a!=null&&u(n,["startTime"],a);const d=s(t,["endTime"]);d!=null&&u(n,["endTime"],d);const c=s(t,["updateTime"]);c!=null&&u(n,["updateTime"],c);const f=s(t,["error"]);f!=null&&u(n,["error"],f);const p=s(t,["description"]);p!=null&&u(n,["description"],p);const h=s(t,["baseModel"]);h!=null&&u(n,["baseModel"],h);const m=s(t,["tunedModel"]);m!=null&&u(n,["tunedModel"],m);const _=s(t,["preTunedModel"]);_!=null&&u(n,["preTunedModel"],_);const C=s(t,["supervisedTuningSpec"]);C!=null&&u(n,["supervisedTuningSpec"],C);const P=s(t,["preferenceOptimizationSpec"]);P!=null&&u(n,["preferenceOptimizationSpec"],P);const y=s(t,["tuningDataStats"]);y!=null&&u(n,["tuningDataStats"],y);const g=s(t,["encryptionSpec"]);g!=null&&u(n,["encryptionSpec"],g);const v=s(t,["partnerModelTuningSpec"]);v!=null&&u(n,["partnerModelTuningSpec"],v);const S=s(t,["customBaseModel"]);S!=null&&u(n,["customBaseModel"],S);const T=s(t,["experiment"]);T!=null&&u(n,["experiment"],T);const I=s(t,["labels"]);I!=null&&u(n,["labels"],I);const A=s(t,["outputUri"]);A!=null&&u(n,["outputUri"],A);const R=s(t,["pipelineJob"]);R!=null&&u(n,["pipelineJob"],R);const x=s(t,["serviceAccount"]);x!=null&&u(n,["serviceAccount"],x);const N=s(t,["tunedModelDisplayName"]);N!=null&&u(n,["tunedModelDisplayName"],N);const H=s(t,["veoTuningSpec"]);return H!=null&&u(n,["veoTuningSpec"],H),n}function OT(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&u(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&u(n,["name"],r);const i=s(t,["metadata"]);i!=null&&u(n,["metadata"],i);const l=s(t,["done"]);l!=null&&u(n,["done"],l);const a=s(t,["error"]);return a!=null&&u(n,["error"],a),n}function jd(t,e){const n={},o=s(t,["gcsUri"]);o!=null&&u(n,["validationDatasetUri"],o);const r=s(t,["vertexDatasetResource"]);return r!=null&&u(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YT extends ct{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new rn(at.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Ys.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=FT(e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>el(f))}else{const c=UT(e);return a=k("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>th(f))}}async listInternal(e){var n,o,r,i;let l,a="",d={};if(this.apiClient.isVertexAI()){const c=qT(e);return a=k("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=zT(f),h=new Nd;return Object.assign(h,p),h})}else{const c=HT(e);return a=k("tunedModels",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=BT(f),h=new Nd;return Object.assign(h,p),h})}}async cancel(e){var n,o,r,i;let l="",a={};if(this.apiClient.isVertexAI()){const d=MT(e);l=k("{name}:cancel",d._url),a=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=RT(e);l=k("{name}:cancel",d._url),a=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const a=LT(e,e);return i=k("tuningJobs",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>el(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=DT(e);return i=k("tunedModels",a._url),l=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>OT(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KT{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const QT=1024*1024*8,XT=3,ZT=1e3,bT=2,Xr="x-goog-upload-status";async function jT(t,e,n){var o;const r=await nh(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Xr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function eE(t,e,n){var o;const r=await nh(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Xr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Mp(i),a=new nu;return Object.assign(a,l),a}async function nh(t,e,n){var o,r;let i=0,l=0,a=new Ks(new Response),d="upload";for(i=t.size;l<i;){const c=Math.min(QT,i-l),f=t.slice(l,l+c);l+c>=i&&(d+=", finalize");let p=0,h=ZT;for(;p<XT&&(a=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(c)}}}),!(!((o=a==null?void 0:a.headers)===null||o===void 0)&&o[Xr]));)p++,await nE(h),h=h*bT;if(l+=c,((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[Xr])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function tE(t){return{size:t.size,type:t.type}}function nE(t){return new Promise(e=>setTimeout(e,t))}class oE{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jT(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eE(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tE(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rE{create(e,n,o){return new iE(e,n,o)}}class iE{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ec="x-goog-api-key";class sE{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(ec)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ec,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lE="gl-node/";class uE{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=Gy(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const r=new sE(this.apiKey);this.apiClient=new ES({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:lE+"web",uploader:new oE,downloader:new KT}),this.models=new zS(this.apiClient),this.live=new FS(this.apiClient,r,new rE),this.batches=new p_(this.apiClient),this.chats=new K_(this.models,this.apiClient),this.caches=new W_(this.apiClient),this.files=new r0(this.apiClient),this.operations=new $S(this.apiClient),this.authTokens=new iT(this.apiClient),this.tunings=new YT(this.apiClient),this.fileSearchStores=new kT(this.apiClient)}}const aE=new uE({apiKey:""}),dE=async t=>{var e;try{return(((e=(await aE.models.generateContent({model:"gemini-2.5-flash",contents:`Generate a plain text string of 12 to 16 Chinese characters suitable for an elementary school student to practice handwriting based on the topic: "${t}". 
      
      Rules:
      1. Return ONLY the Chinese characters.
      2. Do not include pinyin, English translations, numbers, or punctuation.
      3. The characters should form meaningful words or a simple sentence if possible.
      4. Avoid extremely complex or rare characters.`})).text)==null?void 0:e.replace(/[^\u4e00-\u9fa5]/g,""))||"").slice(0,24)}catch(n){throw console.error("Error generating text:",n),new Error("AI ")}};function cE(){const[t,e]=Ae.useState(""),[n,o]=Ae.useState("mi"),[r,i]=Ae.useState(null),[l,a]=Ae.useState(Ra[0]),[d,c]=Ae.useState(!1),f=t.split("").filter(h=>h.trim()!==""||h===""),p=async()=>{if(!d){c(!0);try{const h=await dE(l);h&&e(h)}catch(h){console.error("Generation error:",h),alert(h.message||"AI ")}finally{c(!1)}}};return E.jsxs("div",{className:"min-h-screen flex flex-col font-sans text-slate-700 pb-12 print:pb-0",children:[E.jsx("header",{className:"bg-red-600 text-amber-50 shadow-md print:hidden sticky top-0 z-40",children:E.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-3xl",children:""}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold font-handwriting tracking-wider",children:""}),E.jsx("p",{className:"text-red-100 text-xs opacity-90",children:""})]})]}),E.jsx("button",{onClick:()=>window.print(),className:"bg-amber-100 text-red-700 px-4 py-2 rounded-full font-bold hover:bg-white transition-colors flex items-center gap-2 text-sm shadow-sm",children:" "})]})}),E.jsxs("main",{className:"container mx-auto px-4 py-6 flex-grow flex flex-col md:flex-row gap-8",children:[E.jsxs("aside",{className:"w-full md:w-80 flex-shrink-0 space-y-6 print:hidden",children:[E.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-amber-100",children:[E.jsxs("h2",{className:"font-bold text-lg mb-3 text-slate-700 flex items-center gap-2",children:[E.jsx("span",{children:""})," "]}),E.jsx("textarea",{value:t,onChange:h=>e(h.target.value),className:"w-full h-32 border border-slate-200 rounded-lg p-3 text-lg font-kaiti resize-none focus:ring-2 focus:ring-amber-200 focus:border-amber-400 outline-none bg-white text-slate-900 placeholder:text-slate-400",placeholder:"..."}),E.jsxs("p",{className:"text-xs text-slate-400 mt-2 text-right",children:[" ",f.length," "]})]}),E.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-amber-100 space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-500 mb-2",children:""}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ly.map(h=>E.jsx("button",{onClick:()=>o(h.value),className:`py-2 text-sm rounded-lg border transition-all ${n===h.value?"bg-red-50 border-red-300 text-red-700 font-medium":"bg-white border-slate-200 text-slate-600 hover:border-red-200"}`,children:h.label},h.value))})]}),E.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-xs text-blue-600 leading-relaxed flex gap-2 border border-blue-100",children:[E.jsx("span",{className:"text-lg",children:""}),E.jsx("span",{className:"pt-0.5",children:""})]})]}),E.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 p-5 rounded-2xl shadow-sm border border-indigo-100",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("h2",{className:"font-bold text-lg text-indigo-900",children:"AI "})]}),E.jsx("p",{className:"text-xs text-indigo-600/80 mb-4",children:" AI "}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("select",{value:l,onChange:h=>a(h.target.value),className:"w-full p-2 rounded-lg border border-indigo-200 bg-white text-sm text-indigo-900 focus:ring-2 focus:ring-indigo-200 outline-none cursor-pointer",children:Ra.map(h=>E.jsx("option",{value:h,children:h},h))}),E.jsx("button",{onClick:p,disabled:d,className:`w-full py-2.5 rounded-lg font-bold text-sm shadow-sm flex items-center justify-center gap-2 transition-all ${d?"bg-indigo-300 text-white cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-md hover:-translate-y-0.5"}`,children:d?E.jsxs(E.Fragment,{children:[E.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):""})]})]})]}),E.jsxs("div",{className:"flex-grow",children:[E.jsxs("div",{className:"bg-white shadow-lg print:shadow-none min-h-[800px] p-8 md:p-12 rounded-2xl relative overflow-hidden print:p-0 print:overflow-visible",children:[E.jsx("div",{className:"absolute inset-0 bg-[#fdfbf7] opacity-100 pointer-events-none print:hidden -z-10"}),E.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')] opacity-50 pointer-events-none print:hidden -z-10"}),E.jsxs("div",{className:"hidden print:block text-center mb-8 border-b-2 border-red-800/20 pb-4 pt-4",children:[E.jsx("h1",{className:"text-3xl font-kaiti font-bold text-slate-800 mb-2",children:""}),E.jsxs("div",{className:"flex justify-between text-sm text-slate-500 mt-4 px-8",children:[E.jsx("span",{children:"__________"}),E.jsx("span",{children:"__________"}),E.jsx("span",{children:"__________"}),E.jsx("span",{children:"__________"})]})]}),f.length>0?E.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 print:grid-cols-6 print:gap-x-2 print:gap-y-4",children:f.map((h,m)=>E.jsx(xg,{char:h,gridType:n,onShowStrokeOrder:i},`${h}-${m}`))}):E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 py-20",children:[E.jsx("span",{className:"text-6xl mb-4",children:""}),E.jsx("p",{className:"text-xl",children:""})]})]}),E.jsx("div",{className:"text-center mt-6 text-slate-400 text-sm print:hidden",children:"Designed for A4 Paper Printing  Interactive Stroke Order  AI Content"})]})]}),r&&E.jsx(Dy,{char:r,onClose:()=>i(null)})]})}const oh=document.getElementById("root");if(!oh)throw new Error("Could not find root element to mount to");const fE=hp(oh);fE.render(E.jsx(Ae.StrictMode,{children:E.jsx(cE,{})}));
